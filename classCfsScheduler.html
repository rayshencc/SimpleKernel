<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleKernel: CfsScheduler Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SimpleKernel<span id="projectnumber">&#160;1.17.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classCfsScheduler.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCfsScheduler-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">CfsScheduler Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>CFS (Completely Fair Scheduler) 调度器  
 <a href="classCfsScheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CfsScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler__inherit__graph.png" border="0" usemap="#aCfsScheduler_inherit__map" alt="Inheritance graph"/></div>
<map name="aCfsScheduler_inherit__map" id="aCfsScheduler_inherit__map">
<area shape="rect" title="CFS (Completely Fair Scheduler) 调度器" alt="" coords="17,619,163,1124"/>
<area shape="rect" href="classSchedulerBase.html" title="调度器基类接口" alt="" coords="5,5,175,571"/>
<area shape="poly" title=" " alt="" coords="93,584,93,618,87,618,87,584"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for CfsScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler__coll__graph.png" border="0" usemap="#aCfsScheduler_coll__map" alt="Collaboration graph"/></div>
<map name="aCfsScheduler_coll__map" id="aCfsScheduler_coll__map">
<area shape="rect" title="CFS (Completely Fair Scheduler) 调度器" alt="" coords="17,788,163,1293"/>
<area shape="rect" href="classSchedulerBase.html" title="调度器基类接口" alt="" coords="5,193,175,739"/>
<area shape="poly" title=" " alt="" coords="93,752,93,788,87,788,87,752"/>
<area shape="rect" href="structSchedulerBase_1_1Stats.html" title="调度器统计信息" alt="" coords="15,5,165,131"/>
<area shape="poly" title=" " alt="" coords="93,131,93,177,87,177,87,131"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCfsScheduler_1_1VruntimeCompare.html">VruntimeCompare</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">vruntime 比较器 (用于优先队列)  <a href="structCfsScheduler_1_1VruntimeCompare.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a01d33013d4c2c345cddd2173aee478b7" id="r_a01d33013d4c2c345cddd2173aee478b7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a01d33013d4c2c345cddd2173aee478b7">Enqueue</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task) override</td></tr>
<tr class="memdesc:a01d33013d4c2c345cddd2173aee478b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">将任务加入就绪队列  <br /></td></tr>
<tr class="separator:a01d33013d4c2c345cddd2173aee478b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d25e904bd65f8ce0176ead3656ded8b" id="r_a9d25e904bd65f8ce0176ead3656ded8b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a9d25e904bd65f8ce0176ead3656ded8b">Dequeue</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task) override</td></tr>
<tr class="memdesc:a9d25e904bd65f8ce0176ead3656ded8b"><td class="mdescLeft">&#160;</td><td class="mdescRight">从就绪队列中移除指定任务  <br /></td></tr>
<tr class="separator:a9d25e904bd65f8ce0176ead3656ded8b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60e123dead4f8e6e313a422795a71c84" id="r_a60e123dead4f8e6e313a422795a71c84"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a60e123dead4f8e6e313a422795a71c84">PickNext</a> () override</td></tr>
<tr class="memdesc:a60e123dead4f8e6e313a422795a71c84"><td class="mdescLeft">&#160;</td><td class="mdescRight">选择下一个要运行的任务  <br /></td></tr>
<tr class="separator:a60e123dead4f8e6e313a422795a71c84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9e2cc9b7165c92a7ded25f193debed9" id="r_ad9e2cc9b7165c92a7ded25f193debed9"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#ad9e2cc9b7165c92a7ded25f193debed9">GetQueueSize</a> () const -&gt; size_t override</td></tr>
<tr class="memdesc:ad9e2cc9b7165c92a7ded25f193debed9"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取就绪队列大小  <br /></td></tr>
<tr class="separator:ad9e2cc9b7165c92a7ded25f193debed9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72fdf9094d6feda4332bb9ac92d42bf" id="r_ab72fdf9094d6feda4332bb9ac92d42bf"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#ab72fdf9094d6feda4332bb9ac92d42bf">IsEmpty</a> () const -&gt; bool override</td></tr>
<tr class="memdesc:ab72fdf9094d6feda4332bb9ac92d42bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">判断队列是否为空  <br /></td></tr>
<tr class="separator:ab72fdf9094d6feda4332bb9ac92d42bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86995b6ca7b05f86740051d1a4464e61" id="r_a86995b6ca7b05f86740051d1a4464e61"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a86995b6ca7b05f86740051d1a4464e61">OnTick</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *current) -&gt; bool override</td></tr>
<tr class="memdesc:a86995b6ca7b05f86740051d1a4464e61"><td class="mdescLeft">&#160;</td><td class="mdescRight">每个 tick 更新任务的 vruntime  <br /></td></tr>
<tr class="separator:a86995b6ca7b05f86740051d1a4464e61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a879e8e243482bacddc588eab69eb5b61" id="r_a879e8e243482bacddc588eab69eb5b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a879e8e243482bacddc588eab69eb5b61">OnPreempted</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task) override</td></tr>
<tr class="memdesc:a879e8e243482bacddc588eab69eb5b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">任务被抢占时调用  <br /></td></tr>
<tr class="separator:a879e8e243482bacddc588eab69eb5b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7364c6a1919471e2ce41a45d734f64f" id="r_af7364c6a1919471e2ce41a45d734f64f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#af7364c6a1919471e2ce41a45d734f64f">GetMinVruntime</a> () const -&gt; uint64_t</td></tr>
<tr class="memdesc:af7364c6a1919471e2ce41a45d734f64f"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取当前 min_vruntime  <br /></td></tr>
<tr class="separator:af7364c6a1919471e2ce41a45d734f64f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">构造/析构函数</div></td></tr>
<tr class="memitem:ab4f1239bad0c3fcee607dba6d3766564" id="r_ab4f1239bad0c3fcee607dba6d3766564"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#ab4f1239bad0c3fcee607dba6d3766564">CfsScheduler</a> ()=default</td></tr>
<tr class="separator:ab4f1239bad0c3fcee607dba6d3766564"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fbf33db6d0e1b4e2610d94c7457d4a7" id="r_a7fbf33db6d0e1b4e2610d94c7457d4a7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a7fbf33db6d0e1b4e2610d94c7457d4a7">CfsScheduler</a> (const <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;)=delete</td></tr>
<tr class="separator:a7fbf33db6d0e1b4e2610d94c7457d4a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ade3fe4685c3984eed58aa590a3d7ea" id="r_a0ade3fe4685c3984eed58aa590a3d7ea"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a0ade3fe4685c3984eed58aa590a3d7ea">CfsScheduler</a> (<a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&amp;)=delete</td></tr>
<tr class="separator:a0ade3fe4685c3984eed58aa590a3d7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af071a804af8a626f297983e07febbcfc" id="r_af071a804af8a626f297983e07febbcfc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#af071a804af8a626f297983e07febbcfc">operator=</a> (const <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;) -&gt; <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;=delete</td></tr>
<tr class="separator:af071a804af8a626f297983e07febbcfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a61d39808aa9966ab257923aec1da2366" id="r_a61d39808aa9966ab257923aec1da2366"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a61d39808aa9966ab257923aec1da2366">operator=</a> (<a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&amp;) -&gt; <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;=delete</td></tr>
<tr class="separator:a61d39808aa9966ab257923aec1da2366"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf1fe54468485c4941f7c451c816a29" id="r_a2bf1fe54468485c4941f7c451c816a29"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a2bf1fe54468485c4941f7c451c816a29">~CfsScheduler</a> () override=default</td></tr>
<tr class="separator:a2bf1fe54468485c4941f7c451c816a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classSchedulerBase"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classSchedulerBase')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classSchedulerBase.html">SchedulerBase</a></td></tr>
<tr class="memitem:ae74a11e45c08b3ada750983b848e8420 inherit pub_methods_classSchedulerBase" id="r_ae74a11e45c08b3ada750983b848e8420"><td class="memItemLeft" align="right" valign="top">virtual auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#ae74a11e45c08b3ada750983b848e8420">OnTimeSliceExpired</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task) -&gt; bool</td></tr>
<tr class="memdesc:ae74a11e45c08b3ada750983b848e8420 inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">时间片耗尽处理：当任务时间片用完时调用  <br /></td></tr>
<tr class="separator:ae74a11e45c08b3ada750983b848e8420 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3fd32fbc73b48fe5f959e05138eaae9 inherit pub_methods_classSchedulerBase" id="r_ac3fd32fbc73b48fe5f959e05138eaae9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#ac3fd32fbc73b48fe5f959e05138eaae9">BoostPriority</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task, int new_priority)</td></tr>
<tr class="memdesc:ac3fd32fbc73b48fe5f959e05138eaae9 inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">优先级提升：当任务持有资源时被更高优先级任务等待，提升其优先级  <br /></td></tr>
<tr class="separator:ac3fd32fbc73b48fe5f959e05138eaae9 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacc92ea4aed8b0b643d7c8eef115c3da inherit pub_methods_classSchedulerBase" id="r_aacc92ea4aed8b0b643d7c8eef115c3da"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#aacc92ea4aed8b0b643d7c8eef115c3da">RestorePriority</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task)</td></tr>
<tr class="memdesc:aacc92ea4aed8b0b643d7c8eef115c3da inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">优先级恢复：当任务释放资源后，恢复其原始优先级  <br /></td></tr>
<tr class="separator:aacc92ea4aed8b0b643d7c8eef115c3da inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c891e21d4b1628ba4e59980f138142d inherit pub_methods_classSchedulerBase" id="r_a5c891e21d4b1628ba4e59980f138142d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a5c891e21d4b1628ba4e59980f138142d">OnScheduled</a> (<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *task)</td></tr>
<tr class="memdesc:a5c891e21d4b1628ba4e59980f138142d inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">任务开始运行时调用 (从 Ready 变为 Running)  <br /></td></tr>
<tr class="separator:a5c891e21d4b1628ba4e59980f138142d inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a914b45bb9c30d74dba59458826601d1e inherit pub_methods_classSchedulerBase" id="r_a914b45bb9c30d74dba59458826601d1e"><td class="memItemLeft" align="right" valign="top">virtual auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a914b45bb9c30d74dba59458826601d1e">GetStats</a> () const -&gt; const <a class="el" href="structSchedulerBase_1_1Stats.html">Stats</a> &amp;</td></tr>
<tr class="memdesc:a914b45bb9c30d74dba59458826601d1e inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取调度器统计信息  <br /></td></tr>
<tr class="separator:a914b45bb9c30d74dba59458826601d1e inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84866e4ce79224c5eb2602e02fad5040 inherit pub_methods_classSchedulerBase" id="r_a84866e4ce79224c5eb2602e02fad5040"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a84866e4ce79224c5eb2602e02fad5040">ResetStats</a> ()</td></tr>
<tr class="memdesc:a84866e4ce79224c5eb2602e02fad5040 inherit pub_methods_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">重置统计信息  <br /></td></tr>
<tr class="separator:a84866e4ce79224c5eb2602e02fad5040 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f4fedd1189f28d904901937c249b439 inherit pub_methods_classSchedulerBase" id="r_a9f4fedd1189f28d904901937c249b439"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a9f4fedd1189f28d904901937c249b439">SchedulerBase</a> ()=default</td></tr>
<tr class="separator:a9f4fedd1189f28d904901937c249b439 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeacb0b82fcde69ad7a52bf70b303fe94 inherit pub_methods_classSchedulerBase" id="r_aeacb0b82fcde69ad7a52bf70b303fe94"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#aeacb0b82fcde69ad7a52bf70b303fe94">SchedulerBase</a> (const <a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;)=default</td></tr>
<tr class="separator:aeacb0b82fcde69ad7a52bf70b303fe94 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8868ee3ddc1627213f5ed80f1455ee9 inherit pub_methods_classSchedulerBase" id="r_aa8868ee3ddc1627213f5ed80f1455ee9"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#aa8868ee3ddc1627213f5ed80f1455ee9">SchedulerBase</a> (<a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;&amp;)=default</td></tr>
<tr class="separator:aa8868ee3ddc1627213f5ed80f1455ee9 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a409803b500e6eba932a2f9f499c6aa8d inherit pub_methods_classSchedulerBase" id="r_a409803b500e6eba932a2f9f499c6aa8d"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a409803b500e6eba932a2f9f499c6aa8d">operator=</a> (const <a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;) -&gt; <a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;=default</td></tr>
<tr class="separator:a409803b500e6eba932a2f9f499c6aa8d inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7123a4e6ee15bd5bb9b7d3320249d800 inherit pub_methods_classSchedulerBase" id="r_a7123a4e6ee15bd5bb9b7d3320249d800"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a7123a4e6ee15bd5bb9b7d3320249d800">operator=</a> (<a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;&amp;) -&gt; <a class="el" href="classSchedulerBase.html">SchedulerBase</a> &amp;=default</td></tr>
<tr class="separator:a7123a4e6ee15bd5bb9b7d3320249d800 inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a475f4eafacf748df5a9374f7c4b5da4d inherit pub_methods_classSchedulerBase" id="r_a475f4eafacf748df5a9374f7c4b5da4d"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#a475f4eafacf748df5a9374f7c4b5da4d">~SchedulerBase</a> ()=default</td></tr>
<tr class="separator:a475f4eafacf748df5a9374f7c4b5da4d inherit pub_methods_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:ad4026ee603e784fa319c1968b97cea2b" id="r_ad4026ee603e784fa319c1968b97cea2b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#ad4026ee603e784fa319c1968b97cea2b">kDefaultWeight</a> = 1024</td></tr>
<tr class="memdesc:ad4026ee603e784fa319c1968b97cea2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">默认权重 (对应 nice 值为 0)  <br /></td></tr>
<tr class="separator:ad4026ee603e784fa319c1968b97cea2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bfb02ea8c8e23396830a7378bce1886" id="r_a3bfb02ea8c8e23396830a7378bce1886"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a3bfb02ea8c8e23396830a7378bce1886">kMinGranularity</a> = 10</td></tr>
<tr class="memdesc:a3bfb02ea8c8e23396830a7378bce1886"><td class="mdescLeft">&#160;</td><td class="mdescRight">vruntime 粒度 (用于计算抢占阈值)  <br /></td></tr>
<tr class="separator:a3bfb02ea8c8e23396830a7378bce1886"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ababcf6de07ced3c7a5275d6a2b26801e" id="r_ababcf6de07ced3c7a5275d6a2b26801e"><td class="memItemLeft" align="right" valign="top">sk_std::priority_queue&lt; <a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *, sk_std::vector&lt; <a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> * &gt;, <a class="el" href="structCfsScheduler_1_1VruntimeCompare.html">VruntimeCompare</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a></td></tr>
<tr class="memdesc:ababcf6de07ced3c7a5275d6a2b26801e"><td class="mdescLeft">&#160;</td><td class="mdescRight">就绪队列 (优先队列，按 vruntime 排序)  <br /></td></tr>
<tr class="separator:ababcf6de07ced3c7a5275d6a2b26801e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f45006c386041ba1a18ef1eca0d5f74" id="r_a0f45006c386041ba1a18ef1eca0d5f74"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">min_vruntime_</a> = 0</td></tr>
<tr class="memdesc:a0f45006c386041ba1a18ef1eca0d5f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">当前最小 vruntime (用于新任务初始化)  <br /></td></tr>
<tr class="separator:a0f45006c386041ba1a18ef1eca0d5f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classSchedulerBase"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classSchedulerBase')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classSchedulerBase.html">SchedulerBase</a></td></tr>
<tr class="memitem:abbd29119b4aa4dfb73e363c8538fb456 inherit pub_attribs_classSchedulerBase" id="r_abbd29119b4aa4dfb73e363c8538fb456"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#abbd29119b4aa4dfb73e363c8538fb456">name</a> = &quot;Unnamed Scheduler&quot;</td></tr>
<tr class="memdesc:abbd29119b4aa4dfb73e363c8538fb456 inherit pub_attribs_classSchedulerBase"><td class="mdescLeft">&#160;</td><td class="mdescRight">调度器名称  <br /></td></tr>
<tr class="separator:abbd29119b4aa4dfb73e363c8538fb456 inherit pub_attribs_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classSchedulerBase"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classSchedulerBase')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classSchedulerBase.html">SchedulerBase</a></td></tr>
<tr class="memitem:ac24df137a9e613ca5c5de71345cf5f94 inherit pro_attribs_classSchedulerBase" id="r_ac24df137a9e613ca5c5de71345cf5f94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSchedulerBase_1_1Stats.html">Stats</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a></td></tr>
<tr class="separator:ac24df137a9e613ca5c5de71345cf5f94 inherit pro_attribs_classSchedulerBase"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>CFS (Completely Fair Scheduler) 调度器 </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright The SimpleKernel Contributors </dd></dl>
<p>基于虚拟运行时间 (vruntime) 的完全公平调度器。 每个任务根据其权重累积 vruntime，调度器总是选择 vruntime 最小的任务。</p>
<p>特点：</p><ul>
<li>完全公平：每个任务获得与其权重成正比的 CPU 时间</li>
<li>支持优先级：通过权重影响 vruntime 增长速度</li>
<li>防止饥饿：新任务的 vruntime 设置为 min_vruntime</li>
<li>动态抢占：在 OnTick 中检查是否需要抢占当前任务 </li>
</ul>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00028">28</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab4f1239bad0c3fcee607dba6d3766564" name="ab4f1239bad0c3fcee607dba6d3766564"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab4f1239bad0c3fcee607dba6d3766564">&#9670;&#160;</a></span>CfsScheduler() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CfsScheduler::CfsScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a7fbf33db6d0e1b4e2610d94c7457d4a7" name="a7fbf33db6d0e1b4e2610d94c7457d4a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7fbf33db6d0e1b4e2610d94c7457d4a7">&#9670;&#160;</a></span>CfsScheduler() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CfsScheduler::CfsScheduler </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a0ade3fe4685c3984eed58aa590a3d7ea" name="a0ade3fe4685c3984eed58aa590a3d7ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ade3fe4685c3984eed58aa590a3d7ea">&#9670;&#160;</a></span>CfsScheduler() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CfsScheduler::CfsScheduler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bf1fe54468485c4941f7c451c816a29" name="a2bf1fe54468485c4941f7c451c816a29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf1fe54468485c4941f7c451c816a29">&#9670;&#160;</a></span>~CfsScheduler()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CfsScheduler::~CfsScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9d25e904bd65f8ce0176ead3656ded8b" name="a9d25e904bd65f8ce0176ead3656ded8b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d25e904bd65f8ce0176ead3656ded8b">&#9670;&#160;</a></span>Dequeue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CfsScheduler::Dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>从就绪队列中移除指定任务 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>要移除的任务控制块指针</td></tr>
  </table>
  </dd>
</dl>
<p>注意：优先队列不支持高效的任意元素删除，这里需要重建队列。 实际实现中建议使用红黑树替代优先队列以支持 O(log n) 删除。 </p>

<p>Implements <a class="el" href="classSchedulerBase.html#a9a543ca832f2355aa552960cfab2a217">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00080">80</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   80</span>                                                {</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">if</span> (!task) {</div>
<div class="line"><span class="lineno">   82</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   83</span>    }</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>    <span class="comment">// 临时向量用于重建队列</span></div>
<div class="line"><span class="lineno">   86</span>    sk_std::vector&lt;TaskControlBlock*&gt; temp;</div>
<div class="line"><span class="lineno">   87</span>    <span class="keywordtype">bool</span> found = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   88</span> </div>
<div class="line"><span class="lineno">   89</span>    <span class="comment">// 将所有元素弹出，除了要删除的任务</span></div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">while</span> (!<a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.empty()) {</div>
<div class="line"><span class="lineno">   91</span>      <span class="keyword">auto</span>* t = <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.top();</div>
<div class="line"><span class="lineno">   92</span>      <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.pop();</div>
<div class="line"><span class="lineno">   93</span>      <span class="keywordflow">if</span> (t == task) {</div>
<div class="line"><span class="lineno">   94</span>        found = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   95</span>      } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   96</span>        temp.push_back(t);</div>
<div class="line"><span class="lineno">   97</span>      }</div>
<div class="line"><span class="lineno">   98</span>    }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">// 重建队列</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keywordflow">for</span> (<span class="keyword">auto</span>* t : temp) {</div>
<div class="line"><span class="lineno">  102</span>      <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.push(t);</div>
<div class="line"><span class="lineno">  103</span>    }</div>
<div class="line"><span class="lineno">  104</span> </div>
<div class="line"><span class="lineno">  105</span>    <span class="keywordflow">if</span> (found) {</div>
<div class="line"><span class="lineno">  106</span>      <a class="code hl_variable" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a>.<a class="code hl_variable" href="structSchedulerBase_1_1Stats.html#a2b77710183b8706262c53dc712f0ba0d">total_dequeues</a>++;</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span>  }</div>
<div class="ttc" id="aclassCfsScheduler_html_ababcf6de07ced3c7a5275d6a2b26801e"><div class="ttname"><a href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">CfsScheduler::ready_queue_</a></div><div class="ttdeci">sk_std::priority_queue&lt; TaskControlBlock *, sk_std::vector&lt; TaskControlBlock * &gt;, VruntimeCompare &gt; ready_queue_</div><div class="ttdoc">就绪队列 (优先队列，按 vruntime 排序)</div><div class="ttdef"><b>Definition</b> <a href="cfs__scheduler_8hpp_source.html#l00212">cfs_scheduler.hpp:212</a></div></div>
<div class="ttc" id="aclassSchedulerBase_html_ac24df137a9e613ca5c5de71345cf5f94"><div class="ttname"><a href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">SchedulerBase::stats_</a></div><div class="ttdeci">Stats stats_</div><div class="ttdef"><b>Definition</b> <a href="scheduler__base_8hpp_source.html#l00149">scheduler_base.hpp:149</a></div></div>
<div class="ttc" id="astructSchedulerBase_1_1Stats_html_a2b77710183b8706262c53dc712f0ba0d"><div class="ttname"><a href="structSchedulerBase_1_1Stats.html#a2b77710183b8706262c53dc712f0ba0d">SchedulerBase::Stats::total_dequeues</a></div><div class="ttdeci">size_t total_dequeues</div><div class="ttdoc">总出队次数</div><div class="ttdef"><b>Definition</b> <a href="scheduler__base_8hpp_source.html#l00031">scheduler_base.hpp:31</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_a9d25e904bd65f8ce0176ead3656ded8b_icgraph.png" border="0" usemap="#aclassCfsScheduler_a9d25e904bd65f8ce0176ead3656ded8b_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_a9d25e904bd65f8ce0176ead3656ded8b_icgraph" id="aclassCfsScheduler_a9d25e904bd65f8ce0176ead3656ded8b_icgraph">
<area shape="rect" title="从就绪队列中移除指定任务" alt="" coords="108,55,281,80"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aed73b95306c5e8140dfb63984a324474" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="138,53,60,29,61,24,140,48"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#af3f9af0055ea9b3c9948e250a9845d19" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="94,70,60,70,60,65,94,65"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#acce4d0ae51d4aedb69a0e1f4a7e7f490" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="140,87,61,111,60,106,138,82"/>
</map>
</div>

</div>
</div>
<a id="a01d33013d4c2c345cddd2173aee478b7" name="a01d33013d4c2c345cddd2173aee478b7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01d33013d4c2c345cddd2173aee478b7">&#9670;&#160;</a></span>Enqueue()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CfsScheduler::Enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>将任务加入就绪队列 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>任务控制块指针</td></tr>
  </table>
  </dd>
</dl>
<p>新加入的任务的 vruntime 设置为当前 min_vruntime，防止饥饿。 </p>

<p>Implements <a class="el" href="classSchedulerBase.html#acdc1dcafd0bdb5e81c1a399b09a0ed14">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00054">54</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>                                                {</div>
<div class="line"><span class="lineno">   55</span>    <span class="keywordflow">if</span> (!task) {</div>
<div class="line"><span class="lineno">   56</span>      <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   57</span>    }</div>
<div class="line"><span class="lineno">   58</span> </div>
<div class="line"><span class="lineno">   59</span>    <span class="comment">// 如果是新任务 (vruntime == 0)，设置为当前 min_vruntime</span></div>
<div class="line"><span class="lineno">   60</span>    <span class="keywordflow">if</span> (task-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#ad7af8dac9a951e32073987b56ada9c4d">vruntime</a> == 0) {</div>
<div class="line"><span class="lineno">   61</span>      task-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#ad7af8dac9a951e32073987b56ada9c4d">vruntime</a> = <a class="code hl_variable" href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">min_vruntime_</a>;</div>
<div class="line"><span class="lineno">   62</span>    }</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>    <span class="comment">// 确保任务有合理的权重</span></div>
<div class="line"><span class="lineno">   65</span>    <span class="keywordflow">if</span> (task-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a1f1172de9fcc6089637913d601a91847">weight</a> == 0) {</div>
<div class="line"><span class="lineno">   66</span>      task-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a1f1172de9fcc6089637913d601a91847">weight</a> = <a class="code hl_variable" href="classCfsScheduler.html#ad4026ee603e784fa319c1968b97cea2b">kDefaultWeight</a>;</div>
<div class="line"><span class="lineno">   67</span>    }</div>
<div class="line"><span class="lineno">   68</span> </div>
<div class="line"><span class="lineno">   69</span>    <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.push(task);</div>
<div class="line"><span class="lineno">   70</span>    <a class="code hl_variable" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a>.<a class="code hl_variable" href="structSchedulerBase_1_1Stats.html#ad5a40384c3c0c779491463433e2a311e">total_enqueues</a>++;</div>
<div class="line"><span class="lineno">   71</span>  }</div>
<div class="ttc" id="aclassCfsScheduler_html_a0f45006c386041ba1a18ef1eca0d5f74"><div class="ttname"><a href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">CfsScheduler::min_vruntime_</a></div><div class="ttdeci">uint64_t min_vruntime_</div><div class="ttdoc">当前最小 vruntime (用于新任务初始化)</div><div class="ttdef"><b>Definition</b> <a href="cfs__scheduler_8hpp_source.html#l00215">cfs_scheduler.hpp:215</a></div></div>
<div class="ttc" id="aclassCfsScheduler_html_ad4026ee603e784fa319c1968b97cea2b"><div class="ttname"><a href="classCfsScheduler.html#ad4026ee603e784fa319c1968b97cea2b">CfsScheduler::kDefaultWeight</a></div><div class="ttdeci">static constexpr uint32_t kDefaultWeight</div><div class="ttdoc">默认权重 (对应 nice 值为 0)</div><div class="ttdef"><b>Definition</b> <a href="cfs__scheduler_8hpp_source.html#l00031">cfs_scheduler.hpp:31</a></div></div>
<div class="ttc" id="astructSchedulerBase_1_1Stats_html_ad5a40384c3c0c779491463433e2a311e"><div class="ttname"><a href="structSchedulerBase_1_1Stats.html#ad5a40384c3c0c779491463433e2a311e">SchedulerBase::Stats::total_enqueues</a></div><div class="ttdeci">size_t total_enqueues</div><div class="ttdoc">总入队次数</div><div class="ttdef"><b>Definition</b> <a href="scheduler__base_8hpp_source.html#l00029">scheduler_base.hpp:29</a></div></div>
<div class="ttc" id="astructTaskControlBlock_html_a6a0b5c38f6f6f0ea6365be1d20c0497b"><div class="ttname"><a href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">TaskControlBlock::sched_data</a></div><div class="ttdeci">union TaskControlBlock::SchedData sched_data</div></div>
<div class="ttc" id="aunionTaskControlBlock_1_1SchedData_html_a1f1172de9fcc6089637913d601a91847"><div class="ttname"><a href="unionTaskControlBlock_1_1SchedData.html#a1f1172de9fcc6089637913d601a91847">TaskControlBlock::SchedData::weight</a></div><div class="ttdeci">uint32_t weight</div><div class="ttdoc">任务权重 (1024 为默认)</div><div class="ttdef"><b>Definition</b> <a href="task__control__block_8hpp_source.html#l00160">task_control_block.hpp:160</a></div></div>
<div class="ttc" id="aunionTaskControlBlock_1_1SchedData_html_a758d61fadd7873af3da44e19f7215918"><div class="ttname"><a href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">TaskControlBlock::SchedData::cfs</a></div><div class="ttdeci">struct TaskControlBlock::SchedData::@0 cfs</div><div class="ttdoc">CFS 调度器数据</div></div>
<div class="ttc" id="aunionTaskControlBlock_1_1SchedData_html_ad7af8dac9a951e32073987b56ada9c4d"><div class="ttname"><a href="unionTaskControlBlock_1_1SchedData.html#ad7af8dac9a951e32073987b56ada9c4d">TaskControlBlock::SchedData::vruntime</a></div><div class="ttdeci">uint64_t vruntime</div><div class="ttdoc">虚拟运行时间</div><div class="ttdef"><b>Definition</b> <a href="task__control__block_8hpp_source.html#l00158">task_control_block.hpp:158</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_a01d33013d4c2c345cddd2173aee478b7_icgraph.png" border="0" usemap="#aclassCfsScheduler_a01d33013d4c2c345cddd2173aee478b7_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_a01d33013d4c2c345cddd2173aee478b7_icgraph" id="aclassCfsScheduler_a01d33013d4c2c345cddd2173aee478b7_icgraph">
<area shape="rect" title="将任务加入就绪队列" alt="" coords="108,301,279,327"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a0abce9590f1914a15ff917017a5a4fb0" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="181,289,135,178,100,109,58,44,48,33,52,29,62,40,105,106,140,176,186,287"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aa9f896c4b0465ee3357e86b777506bf1" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="178,290,130,200,96,145,58,93,48,82,52,79,62,90,100,142,134,197,183,288"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aed73b95306c5e8140dfb63984a324474" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="174,292,124,223,58,142,47,131,51,128,62,139,128,220,178,288"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae560e796513091e4e49b20cc4ea183f2" title=" " alt="" coords="5,153,60,179"/>
<area shape="poly" title=" " alt="" coords="167,294,58,192,46,181,50,177,62,188,171,290"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aa0a7f85d4754c791b8f6a03f5ac54118" title=" " alt="" coords="5,203,60,228"/>
<area shape="poly" title=" " alt="" coords="158,296,53,230,56,226,161,292"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#af3f9af0055ea9b3c9948e250a9845d19" title=" " alt="" coords="5,252,60,277"/>
<area shape="poly" title=" " alt="" coords="138,300,59,275,61,270,139,295"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a4a3a2f6691c22b985149a9212e3ecaf5" title=" " alt="" coords="5,301,60,327"/>
<area shape="poly" title=" " alt="" coords="94,317,60,317,60,311,94,311"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a02078cb61dbe2147cb3de6c04311b1a4" title=" " alt="" coords="5,351,60,376"/>
<area shape="poly" title=" " alt="" coords="139,333,61,358,59,353,138,328"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aebb54e098e3dbe06be2cfd039f42ee59" title=" " alt="" coords="5,400,60,425"/>
<area shape="poly" title=" " alt="" coords="161,336,56,402,53,398,158,332"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a32157c39bdb47319f34bac16a5849e1f" title=" " alt="" coords="5,449,60,475"/>
<area shape="poly" title=" " alt="" coords="170,338,50,451,46,447,166,334"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#acce4d0ae51d4aedb69a0e1f4a7e7f490" title=" " alt="" coords="5,499,60,524"/>
<area shape="poly" title=" " alt="" coords="177,340,127,408,62,488,50,500,46,496,58,484,123,404,173,337"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a3d450e26dd9f4e99a12dc7fde794d3ef" title=" " alt="" coords="5,548,60,573"/>
<area shape="poly" title=" " alt="" coords="182,340,134,430,100,484,62,537,50,550,46,546,58,534,95,481,129,427,178,338"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae436bb8b8ed2fb5f7a24055a4d4c8ff4" title=" " alt="" coords="5,597,60,623"/>
<area shape="poly" title=" " alt="" coords="185,341,139,451,104,520,62,586,51,599,47,595,58,583,99,517,134,449,180,339"/>
</map>
</div>

</div>
</div>
<a id="af7364c6a1919471e2ce41a45d734f64f" name="af7364c6a1919471e2ce41a45d734f64f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7364c6a1919471e2ce41a45d734f64f">&#9670;&#160;</a></span>GetMinVruntime()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::GetMinVruntime </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint64_t </td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取当前 min_vruntime </p>
<dl class="section return"><dt>Returns</dt><dd>uint64_t 最小虚拟运行时间 </dd></dl>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00196">196</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  196</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">min_vruntime_</a>; }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_af7364c6a1919471e2ce41a45d734f64f_icgraph.png" border="0" usemap="#aclassCfsScheduler_af7364c6a1919471e2ce41a45d734f64f_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_af7364c6a1919471e2ce41a45d734f64f_icgraph" id="aclassCfsScheduler_af7364c6a1919471e2ce41a45d734f64f_icgraph">
<area shape="rect" title="获取当前 min_vruntime" alt="" coords="108,5,331,31"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae560e796513091e4e49b20cc4ea183f2" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ad9e2cc9b7165c92a7ded25f193debed9" name="ad9e2cc9b7165c92a7ded25f193debed9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9e2cc9b7165c92a7ded25f193debed9">&#9670;&#160;</a></span>GetQueueSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::GetQueueSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; size_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>获取就绪队列大小 </p>
<dl class="section return"><dt>Returns</dt><dd>size_t 队列中的任务数量 </dd></dl>

<p>Implements <a class="el" href="classSchedulerBase.html#a720b3af97b9a475730f397ffd9811e08">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00139">139</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.size(); }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_ad9e2cc9b7165c92a7ded25f193debed9_icgraph.png" border="0" usemap="#aclassCfsScheduler_ad9e2cc9b7165c92a7ded25f193debed9_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_ad9e2cc9b7165c92a7ded25f193debed9_icgraph" id="aclassCfsScheduler_ad9e2cc9b7165c92a7ded25f193debed9_icgraph">
<area shape="rect" title="获取就绪队列大小" alt="" coords="108,80,315,105"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a0abce9590f1914a15ff917017a5a4fb0" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="166,77,59,32,61,27,168,72"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aed73b95306c5e8140dfb63984a324474" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="107,81,60,74,61,68,108,75"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a32157c39bdb47319f34bac16a5849e1f" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="104,110,61,116,60,110,103,105"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a3d450e26dd9f4e99a12dc7fde794d3ef" title=" " alt="" coords="5,153,60,179"/>
<area shape="poly" title=" " alt="" coords="168,113,61,158,59,153,166,108"/>
</map>
</div>

</div>
</div>
<a id="ab72fdf9094d6feda4332bb9ac92d42bf" name="ab72fdf9094d6feda4332bb9ac92d42bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab72fdf9094d6feda4332bb9ac92d42bf">&#9670;&#160;</a></span>IsEmpty()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::IsEmpty </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>判断队列是否为空 </p>
<dl class="section return"><dt>Returns</dt><dd>bool 队列为空返回 true </dd></dl>

<p>Implements <a class="el" href="classSchedulerBase.html#a7d56ec3790b81a98841b72f1c83ebe5c">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00145">145</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  145</span>{ <span class="keywordflow">return</span> <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.empty(); }</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_ab72fdf9094d6feda4332bb9ac92d42bf_icgraph.png" border="0" usemap="#aclassCfsScheduler_ab72fdf9094d6feda4332bb9ac92d42bf_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_ab72fdf9094d6feda4332bb9ac92d42bf_icgraph" id="aclassCfsScheduler_ab72fdf9094d6feda4332bb9ac92d42bf_icgraph">
<area shape="rect" title="判断队列是否为空" alt="" coords="108,31,276,56"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a0abce9590f1914a15ff917017a5a4fb0" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="98,31,60,25,60,20,99,26"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a32157c39bdb47319f34bac16a5849e1f" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="95,61,60,66,60,61,94,55"/>
</map>
</div>

</div>
</div>
<a id="a879e8e243482bacddc588eab69eb5b61" name="a879e8e243482bacddc588eab69eb5b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a879e8e243482bacddc588eab69eb5b61">&#9670;&#160;</a></span>OnPreempted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CfsScheduler::OnPreempted </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>任务被抢占时调用 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>被抢占的任务</td></tr>
  </table>
  </dd>
</dl>
<p>被抢占的任务需要重新入队，保持其 vruntime。 </p>

<p>Reimplemented from <a class="el" href="classSchedulerBase.html#af65c2e1cb826459c0927b4997a1efbe3">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00185">185</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>                                                    {</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordflow">if</span> (task) {</div>
<div class="line"><span class="lineno">  187</span>      <a class="code hl_variable" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a>.<a class="code hl_variable" href="structSchedulerBase_1_1Stats.html#a4e5165fd2356707d9c3cfa69b773a7f6">total_preemptions</a>++;</div>
<div class="line"><span class="lineno">  188</span>      <span class="comment">// CFS 不需要额外处理，Schedule() 会将任务重新入队</span></div>
<div class="line"><span class="lineno">  189</span>    }</div>
<div class="line"><span class="lineno">  190</span>  }</div>
<div class="ttc" id="astructSchedulerBase_1_1Stats_html_a4e5165fd2356707d9c3cfa69b773a7f6"><div class="ttname"><a href="structSchedulerBase_1_1Stats.html#a4e5165fd2356707d9c3cfa69b773a7f6">SchedulerBase::Stats::total_preemptions</a></div><div class="ttdeci">size_t total_preemptions</div><div class="ttdoc">总抢占次数</div><div class="ttdef"><b>Definition</b> <a href="scheduler__base_8hpp_source.html#l00035">scheduler_base.hpp:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_a879e8e243482bacddc588eab69eb5b61_icgraph.png" border="0" usemap="#aclassCfsScheduler_a879e8e243482bacddc588eab69eb5b61_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_a879e8e243482bacddc588eab69eb5b61_icgraph" id="aclassCfsScheduler_a879e8e243482bacddc588eab69eb5b61_icgraph">
<area shape="rect" title="任务被抢占时调用" alt="" coords="108,31,312,56"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#af3f9af0055ea9b3c9948e250a9845d19" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="107,31,60,24,61,19,108,26"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aebb54e098e3dbe06be2cfd039f42ee59" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="103,61,60,66,60,61,102,55"/>
</map>
</div>

</div>
</div>
<a id="a86995b6ca7b05f86740051d1a4464e61" name="a86995b6ca7b05f86740051d1a4464e61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86995b6ca7b05f86740051d1a4464e61">&#9670;&#160;</a></span>OnTick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::OnTick </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> *&#160;</td>
          <td class="paramname"><em>current</em></td><td>)</td>
          <td> -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>每个 tick 更新任务的 vruntime </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current</td><td>当前运行的任务 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool 返回 true 表示需要抢占当前任务</dd></dl>
<p>CFS 核心逻辑：</p><ol type="1">
<li>更新当前任务的 vruntime（考虑权重）</li>
<li>检查是否有 vruntime 更小的任务需要抢占 </li>
</ol>

<p>Reimplemented from <a class="el" href="classSchedulerBase.html#a11e1dbdb53df8c9a79c36f17ac29b1df">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00156">156</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  156</span>                                                          {</div>
<div class="line"><span class="lineno">  157</span>    <a class="code hl_define" href="sk__assert_8h.html#aca9cc707df79e034b240eaa8596b7e64">sk_assert_msg</a>(current != <span class="keyword">nullptr</span>,</div>
<div class="line"><span class="lineno">  158</span>                  <span class="stringliteral">&quot;CfsScheduler::OnTick: current task must not be null&quot;</span>);</div>
<div class="line"><span class="lineno">  159</span> </div>
<div class="line"><span class="lineno">  160</span>    <span class="comment">// 更新 vruntime：delta = tick * (kDefaultWeight / weight)</span></div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">// 权重越大，vruntime 增长越慢，获得更多 CPU 时间</span></div>
<div class="line"><span class="lineno">  162</span>    uint64_t delta = (<a class="code hl_variable" href="classCfsScheduler.html#ad4026ee603e784fa319c1968b97cea2b">kDefaultWeight</a> * 1000) / current-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a1f1172de9fcc6089637913d601a91847">weight</a>;</div>
<div class="line"><span class="lineno">  163</span>    current-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#ad7af8dac9a951e32073987b56ada9c4d">vruntime</a> += delta;</div>
<div class="line"><span class="lineno">  164</span> </div>
<div class="line"><span class="lineno">  165</span>    <span class="comment">// 检查是否需要抢占：队列中有 vruntime 更小的任务</span></div>
<div class="line"><span class="lineno">  166</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.empty()) {</div>
<div class="line"><span class="lineno">  167</span>      <span class="keyword">auto</span>* next = <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.top();</div>
<div class="line"><span class="lineno">  168</span>      <span class="comment">// 如果队列顶部任务的 vruntime 比当前任务小超过阈值，则需要抢占</span></div>
<div class="line"><span class="lineno">  169</span>      <span class="keywordflow">if</span> (next-&gt;sched_data.cfs.vruntime + <a class="code hl_variable" href="classCfsScheduler.html#a3bfb02ea8c8e23396830a7378bce1886">kMinGranularity</a> &lt;</div>
<div class="line"><span class="lineno">  170</span>          current-&gt;<a class="code hl_variable" href="structTaskControlBlock.html#a6a0b5c38f6f6f0ea6365be1d20c0497b">sched_data</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#a758d61fadd7873af3da44e19f7215918">cfs</a>.<a class="code hl_variable" href="unionTaskControlBlock_1_1SchedData.html#ad7af8dac9a951e32073987b56ada9c4d">vruntime</a>) {</div>
<div class="line"><span class="lineno">  171</span>        <a class="code hl_variable" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a>.<a class="code hl_variable" href="structSchedulerBase_1_1Stats.html#a4e5165fd2356707d9c3cfa69b773a7f6">total_preemptions</a>++;</div>
<div class="line"><span class="lineno">  172</span>        <span class="keywordflow">return</span> <span class="keyword">true</span>;  <span class="comment">// 需要抢占</span></div>
<div class="line"><span class="lineno">  173</span>      }</div>
<div class="line"><span class="lineno">  174</span>    }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;  <span class="comment">// 不需要抢占</span></div>
<div class="line"><span class="lineno">  177</span>  }</div>
<div class="ttc" id="aclassCfsScheduler_html_a3bfb02ea8c8e23396830a7378bce1886"><div class="ttname"><a href="classCfsScheduler.html#a3bfb02ea8c8e23396830a7378bce1886">CfsScheduler::kMinGranularity</a></div><div class="ttdeci">static constexpr uint64_t kMinGranularity</div><div class="ttdoc">vruntime 粒度 (用于计算抢占阈值)</div><div class="ttdef"><b>Definition</b> <a href="cfs__scheduler_8hpp_source.html#l00034">cfs_scheduler.hpp:34</a></div></div>
<div class="ttc" id="ask__assert_8h_html_aca9cc707df79e034b240eaa8596b7e64"><div class="ttname"><a href="sk__assert_8h.html#aca9cc707df79e034b240eaa8596b7e64">sk_assert_msg</a></div><div class="ttdeci">#define sk_assert_msg(expr, fmt,...)</div><div class="ttdoc">带自定义消息的运行时断言宏（支持变长参数）</div><div class="ttdef"><b>Definition</b> <a href="sk__assert_8h_source.html#l00038">sk_assert.h:38</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_a86995b6ca7b05f86740051d1a4464e61_icgraph.png" border="0" usemap="#aclassCfsScheduler_a86995b6ca7b05f86740051d1a4464e61_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_a86995b6ca7b05f86740051d1a4464e61_icgraph" id="aclassCfsScheduler_a86995b6ca7b05f86740051d1a4464e61_icgraph">
<area shape="rect" title="每个 tick 更新任务的 vruntime" alt="" coords="108,179,268,204"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a7ce8aa33414c049bda498e550dfb887f" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="166,170,118,111,58,44,47,33,50,29,62,40,122,108,170,166"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#adc8601b6ca3ef75bfb1180eb50806a87" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="159,172,48,82,52,78,162,168"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a842176a4eb54ec8f862d3f5945a9f642" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="147,175,59,132,61,127,150,170"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#af3f9af0055ea9b3c9948e250a9845d19" title=" " alt="" coords="5,153,60,179"/>
<area shape="poly" title=" " alt="" coords="96,179,60,173,60,168,97,174"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a4a3a2f6691c22b985149a9212e3ecaf5" title=" " alt="" coords="5,203,60,228"/>
<area shape="poly" title=" " alt="" coords="95,208,61,214,60,209,94,203"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a02078cb61dbe2147cb3de6c04311b1a4" title=" " alt="" coords="5,252,60,277"/>
<area shape="poly" title=" " alt="" coords="149,212,61,254,59,250,147,208"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aebb54e098e3dbe06be2cfd039f42ee59" title=" " alt="" coords="5,301,60,327"/>
<area shape="poly" title=" " alt="" coords="161,215,52,303,49,299,158,211"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae436bb8b8ed2fb5f7a24055a4d4c8ff4" title=" " alt="" coords="5,351,60,376"/>
<area shape="poly" title=" " alt="" coords="170,216,62,340,49,353,46,349,58,336,166,213"/>
</map>
</div>

</div>
</div>
<a id="a61d39808aa9966ab257923aec1da2366" name="a61d39808aa9966ab257923aec1da2366"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a61d39808aa9966ab257923aec1da2366">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt;  <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;=delete</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af071a804af8a626f297983e07febbcfc" name="af071a804af8a626f297983e07febbcfc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af071a804af8a626f297983e07febbcfc">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto CfsScheduler::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt;  <a class="el" href="classCfsScheduler.html">CfsScheduler</a> &amp;=delete</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a60e123dead4f8e6e313a422795a71c84" name="a60e123dead4f8e6e313a422795a71c84"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60e123dead4f8e6e313a422795a71c84">&#9670;&#160;</a></span>PickNext()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structTaskControlBlock.html">TaskControlBlock</a> * CfsScheduler::PickNext </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>选择下一个要运行的任务 </p>
<dl class="section return"><dt>Returns</dt><dd>TaskControlBlock* 下一个任务，如果队列为空则返回 nullptr</dd></dl>
<p>选择 vruntime 最小的任务，实现完全公平调度。 </p>

<p>Implements <a class="el" href="classSchedulerBase.html#a9f12e642c119b4ffc8915c732d329c31">SchedulerBase</a>.</p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00116">116</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  116</span>                                        {</div>
<div class="line"><span class="lineno">  117</span>    <span class="keywordflow">if</span> (<a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.empty()) {</div>
<div class="line"><span class="lineno">  118</span>      <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">  119</span>    }</div>
<div class="line"><span class="lineno">  120</span> </div>
<div class="line"><span class="lineno">  121</span>    <span class="keyword">auto</span>* next = <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.top();</div>
<div class="line"><span class="lineno">  122</span>    <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.pop();</div>
<div class="line"><span class="lineno">  123</span>    <a class="code hl_variable" href="classSchedulerBase.html#ac24df137a9e613ca5c5de71345cf5f94">stats_</a>.<a class="code hl_variable" href="structSchedulerBase_1_1Stats.html#a8659b427d166ead02a1cb2a6d44f14fa">total_picks</a>++;</div>
<div class="line"><span class="lineno">  124</span> </div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// 更新 min_vruntime 为队列中最小的 vruntime</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.empty()) {</div>
<div class="line"><span class="lineno">  127</span>      <a class="code hl_variable" href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">min_vruntime_</a> = <a class="code hl_variable" href="classCfsScheduler.html#ababcf6de07ced3c7a5275d6a2b26801e">ready_queue_</a>.top()-&gt;sched_data.cfs.vruntime;</div>
<div class="line"><span class="lineno">  128</span>    } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  129</span>      <a class="code hl_variable" href="classCfsScheduler.html#a0f45006c386041ba1a18ef1eca0d5f74">min_vruntime_</a> = next-&gt;sched_data.cfs.vruntime;</div>
<div class="line"><span class="lineno">  130</span>    }</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">return</span> next;</div>
<div class="line"><span class="lineno">  133</span>  }</div>
<div class="ttc" id="astructSchedulerBase_1_1Stats_html_a8659b427d166ead02a1cb2a6d44f14fa"><div class="ttname"><a href="structSchedulerBase_1_1Stats.html#a8659b427d166ead02a1cb2a6d44f14fa">SchedulerBase::Stats::total_picks</a></div><div class="ttdeci">size_t total_picks</div><div class="ttdoc">总选择次数</div><div class="ttdef"><b>Definition</b> <a href="scheduler__base_8hpp_source.html#l00033">scheduler_base.hpp:33</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCfsScheduler_a60e123dead4f8e6e313a422795a71c84_icgraph.png" border="0" usemap="#aclassCfsScheduler_a60e123dead4f8e6e313a422795a71c84_icgraph" alt=""/></div>
<map name="aclassCfsScheduler_a60e123dead4f8e6e313a422795a71c84_icgraph" id="aclassCfsScheduler_a60e123dead4f8e6e313a422795a71c84_icgraph">
<area shape="rect" title="选择下一个要运行的任务" alt="" coords="108,203,281,228"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a0abce9590f1914a15ff917017a5a4fb0" title=" " alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="175,193,124,124,58,44,47,33,51,29,62,40,129,121,179,190"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aed73b95306c5e8140dfb63984a324474" title=" " alt="" coords="5,55,60,80"/>
<area shape="poly" title=" " alt="" coords="168,195,58,93,46,82,50,78,62,89,172,191"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae560e796513091e4e49b20cc4ea183f2" title=" " alt="" coords="5,104,60,129"/>
<area shape="poly" title=" " alt="" coords="159,197,53,132,56,127,162,193"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#aa0a7f85d4754c791b8f6a03f5ac54118" title=" " alt="" coords="5,153,60,179"/>
<area shape="poly" title=" " alt="" coords="138,201,60,177,61,172,140,196"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#af3f9af0055ea9b3c9948e250a9845d19" title=" " alt="" coords="5,203,60,228"/>
<area shape="poly" title=" " alt="" coords="94,218,60,218,60,213,94,213"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a32157c39bdb47319f34bac16a5849e1f" title=" " alt="" coords="5,252,60,277"/>
<area shape="poly" title=" " alt="" coords="140,235,61,259,60,254,138,230"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#acce4d0ae51d4aedb69a0e1f4a7e7f490" title=" " alt="" coords="5,301,60,327"/>
<area shape="poly" title=" " alt="" coords="162,238,56,303,53,299,159,233"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#a3d450e26dd9f4e99a12dc7fde794d3ef" title=" " alt="" coords="5,351,60,376"/>
<area shape="poly" title=" " alt="" coords="171,240,50,352,46,348,167,236"/>
<area shape="rect" href="unit__test_2cfs__scheduler__test_8cpp.html#ae436bb8b8ed2fb5f7a24055a4d4c8ff4" title=" " alt="" coords="5,400,60,425"/>
<area shape="poly" title=" " alt="" coords="178,241,128,309,62,389,50,401,46,398,58,386,124,306,174,238"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ad4026ee603e784fa319c1968b97cea2b" name="ad4026ee603e784fa319c1968b97cea2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad4026ee603e784fa319c1968b97cea2b">&#9670;&#160;</a></span>kDefaultWeight</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t CfsScheduler::kDefaultWeight = 1024</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>默认权重 (对应 nice 值为 0) </p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00031">31</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>

</div>
</div>
<a id="a3bfb02ea8c8e23396830a7378bce1886" name="a3bfb02ea8c8e23396830a7378bce1886"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3bfb02ea8c8e23396830a7378bce1886">&#9670;&#160;</a></span>kMinGranularity</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t CfsScheduler::kMinGranularity = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>vruntime 粒度 (用于计算抢占阈值) </p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00034">34</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>

</div>
</div>
<a id="a0f45006c386041ba1a18ef1eca0d5f74" name="a0f45006c386041ba1a18ef1eca0d5f74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f45006c386041ba1a18ef1eca0d5f74">&#9670;&#160;</a></span>min_vruntime_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CfsScheduler::min_vruntime_ = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>当前最小 vruntime (用于新任务初始化) </p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00215">215</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>

</div>
</div>
<a id="ababcf6de07ced3c7a5275d6a2b26801e" name="ababcf6de07ced3c7a5275d6a2b26801e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ababcf6de07ced3c7a5275d6a2b26801e">&#9670;&#160;</a></span>ready_queue_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">sk_std::priority_queue&lt;<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a>*, sk_std::vector&lt;<a class="el" href="structTaskControlBlock.html">TaskControlBlock</a>*&gt;, <a class="el" href="structCfsScheduler_1_1VruntimeCompare.html">VruntimeCompare</a>&gt; CfsScheduler::ready_queue_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>就绪队列 (优先队列，按 vruntime 排序) </p>

<p class="definition">Definition at line <a class="el" href="cfs__scheduler_8hpp_source.html#l00212">212</a> of file <a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/root/src/task/include/<a class="el" href="cfs__scheduler_8hpp_source.html">cfs_scheduler.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCfsScheduler.html">CfsScheduler</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
