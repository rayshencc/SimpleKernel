<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleKernel: LocalApic Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SimpleKernel<span id="projectnumber">&#160;1.17.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classLocalApic.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classLocalApic-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">LocalApic Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Local APIC 驱动类  
 <a href="classLocalApic.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="local__apic_8h_source.html">local_apic.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for LocalApic:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic__coll__graph.png" border="0" usemap="#aLocalApic_coll__map" alt="Collaboration graph"/></div>
<map name="aLocalApic_coll__map" id="aLocalApic_coll__map">
<area shape="rect" title="Local APIC 驱动类" alt="" coords="5,5,221,2311"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ad94b3e7dc5659cd5bf9378cf9fa308dc" id="r_ad94b3e7dc5659cd5bf9378cf9fa308dc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ad94b3e7dc5659cd5bf9378cf9fa308dc">Init</a> () -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt; void &gt;</td></tr>
<tr class="memdesc:ad94b3e7dc5659cd5bf9378cf9fa308dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">初始化 Local APIC  <br /></td></tr>
<tr class="separator:ad94b3e7dc5659cd5bf9378cf9fa308dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d8915494fa6031ccde79ee1b24cdbf6" id="r_a5d8915494fa6031ccde79ee1b24cdbf6"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a5d8915494fa6031ccde79ee1b24cdbf6">GetApicVersion</a> () const -&gt; uint32_t</td></tr>
<tr class="memdesc:a5d8915494fa6031ccde79ee1b24cdbf6"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取 APIC 版本信息  <br /></td></tr>
<tr class="separator:a5d8915494fa6031ccde79ee1b24cdbf6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab0f2c45bb617c223d86319edc0c1e005" id="r_ab0f2c45bb617c223d86319edc0c1e005"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ab0f2c45bb617c223d86319edc0c1e005">SendEoi</a> () const</td></tr>
<tr class="memdesc:ab0f2c45bb617c223d86319edc0c1e005"><td class="mdescLeft">&#160;</td><td class="mdescRight">发送中断结束信号 (EOI)  <br /></td></tr>
<tr class="separator:ab0f2c45bb617c223d86319edc0c1e005"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b701e5d94374c6249278cbb23b2a5b6" id="r_a7b701e5d94374c6249278cbb23b2a5b6"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a7b701e5d94374c6249278cbb23b2a5b6">SendIpi</a> (uint32_t destination_apic_id, uint8_t vector) const -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt; void &gt;</td></tr>
<tr class="memdesc:a7b701e5d94374c6249278cbb23b2a5b6"><td class="mdescLeft">&#160;</td><td class="mdescRight">发送处理器间中断 (IPI)  <br /></td></tr>
<tr class="separator:a7b701e5d94374c6249278cbb23b2a5b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dfaeb288214a8bd2e12e6c03b746a64" id="r_a6dfaeb288214a8bd2e12e6c03b746a64"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a6dfaeb288214a8bd2e12e6c03b746a64">BroadcastIpi</a> (uint8_t vector) const -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt; void &gt;</td></tr>
<tr class="memdesc:a6dfaeb288214a8bd2e12e6c03b746a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">广播 IPI 到所有其他 CPU  <br /></td></tr>
<tr class="separator:a6dfaeb288214a8bd2e12e6c03b746a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37c7f90ad3933cce3ca36ff2a6370593" id="r_a37c7f90ad3933cce3ca36ff2a6370593"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a37c7f90ad3933cce3ca36ff2a6370593">SetTaskPriority</a> (uint8_t priority) const</td></tr>
<tr class="memdesc:a37c7f90ad3933cce3ca36ff2a6370593"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置任务优先级  <br /></td></tr>
<tr class="separator:a37c7f90ad3933cce3ca36ff2a6370593"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a933b92b105f223a4e31cab92958dedba" id="r_a933b92b105f223a4e31cab92958dedba"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a933b92b105f223a4e31cab92958dedba">GetTaskPriority</a> () const -&gt; uint8_t</td></tr>
<tr class="memdesc:a933b92b105f223a4e31cab92958dedba"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取任务优先级  <br /></td></tr>
<tr class="separator:a933b92b105f223a4e31cab92958dedba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac60426a6345dfe7593b29c22b0888115" id="r_ac60426a6345dfe7593b29c22b0888115"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115">EnableTimer</a> (uint32_t initial_count, uint32_t divide_value, uint8_t vector, bool periodic=true) const</td></tr>
<tr class="memdesc:ac60426a6345dfe7593b29c22b0888115"><td class="mdescLeft">&#160;</td><td class="mdescRight">启用 Local APIC 定时器  <br /></td></tr>
<tr class="separator:ac60426a6345dfe7593b29c22b0888115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a672f5a4fcedca4c539c4fced7aad5556" id="r_a672f5a4fcedca4c539c4fced7aad5556"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a672f5a4fcedca4c539c4fced7aad5556">DisableTimer</a> () const</td></tr>
<tr class="memdesc:a672f5a4fcedca4c539c4fced7aad5556"><td class="mdescLeft">&#160;</td><td class="mdescRight">禁用 Local APIC 定时器  <br /></td></tr>
<tr class="separator:a672f5a4fcedca4c539c4fced7aad5556"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579ae8f114ab23ac92d830ebbfeb3518" id="r_a579ae8f114ab23ac92d830ebbfeb3518"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a579ae8f114ab23ac92d830ebbfeb3518">GetTimerCurrentCount</a> () const -&gt; uint32_t</td></tr>
<tr class="memdesc:a579ae8f114ab23ac92d830ebbfeb3518"><td class="mdescLeft">&#160;</td><td class="mdescRight">获取定时器当前计数值  <br /></td></tr>
<tr class="separator:a579ae8f114ab23ac92d830ebbfeb3518"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70fc2b687411b08b0b2ad8b913b9ddb4" id="r_a70fc2b687411b08b0b2ad8b913b9ddb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a70fc2b687411b08b0b2ad8b913b9ddb4">SetupPeriodicTimer</a> (uint32_t frequency_hz, uint8_t vector) const</td></tr>
<tr class="memdesc:a70fc2b687411b08b0b2ad8b913b9ddb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置周期性定时器  <br /></td></tr>
<tr class="separator:a70fc2b687411b08b0b2ad8b913b9ddb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a173b8d0e61f0151dbcaa8577cb22facd" id="r_a173b8d0e61f0151dbcaa8577cb22facd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a173b8d0e61f0151dbcaa8577cb22facd">SetupOneShotTimer</a> (uint32_t microseconds, uint8_t vector) const</td></tr>
<tr class="memdesc:a173b8d0e61f0151dbcaa8577cb22facd"><td class="mdescLeft">&#160;</td><td class="mdescRight">设置单次定时器  <br /></td></tr>
<tr class="separator:a173b8d0e61f0151dbcaa8577cb22facd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b837d6e2763369280afc50976b1064a" id="r_a6b837d6e2763369280afc50976b1064a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a6b837d6e2763369280afc50976b1064a">SendInitIpi</a> (uint32_t destination_apic_id) const</td></tr>
<tr class="memdesc:a6b837d6e2763369280afc50976b1064a"><td class="mdescLeft">&#160;</td><td class="mdescRight">发送 INIT IPI  <br /></td></tr>
<tr class="separator:a6b837d6e2763369280afc50976b1064a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd008bf0645ca650746c65287ad109de" id="r_acd008bf0645ca650746c65287ad109de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#acd008bf0645ca650746c65287ad109de">SendStartupIpi</a> (uint32_t destination_apic_id, uint8_t start_page) const</td></tr>
<tr class="memdesc:acd008bf0645ca650746c65287ad109de"><td class="mdescLeft">&#160;</td><td class="mdescRight">发送 SIPI (Startup IPI)  <br /></td></tr>
<tr class="separator:acd008bf0645ca650746c65287ad109de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a088e472bc2424550e72bf1155608ecca" id="r_a088e472bc2424550e72bf1155608ecca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a088e472bc2424550e72bf1155608ecca">WakeupAp</a> (uint32_t destination_apic_id, uint8_t start_vector) const</td></tr>
<tr class="memdesc:a088e472bc2424550e72bf1155608ecca"><td class="mdescLeft">&#160;</td><td class="mdescRight">唤醒应用处理器 (AP)  <br /></td></tr>
<tr class="separator:a088e472bc2424550e72bf1155608ecca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a90214426802a867483c981b0e3513cee" id="r_a90214426802a867483c981b0e3513cee"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a90214426802a867483c981b0e3513cee">ConfigureLvtEntries</a> () const</td></tr>
<tr class="memdesc:a90214426802a867483c981b0e3513cee"><td class="mdescLeft">&#160;</td><td class="mdescRight">配置 Local Vector Table 条目  <br /></td></tr>
<tr class="separator:a90214426802a867483c981b0e3513cee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b794f0d860279704fb96704535a0063" id="r_a7b794f0d860279704fb96704535a0063"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a7b794f0d860279704fb96704535a0063">ReadErrorStatus</a> () const -&gt; uint32_t</td></tr>
<tr class="memdesc:a7b794f0d860279704fb96704535a0063"><td class="mdescLeft">&#160;</td><td class="mdescRight">读取错误状态  <br /></td></tr>
<tr class="separator:a7b794f0d860279704fb96704535a0063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0eac16550b73a6d87d505bf3295d62c" id="r_af0eac16550b73a6d87d505bf3295d62c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#af0eac16550b73a6d87d505bf3295d62c">PrintInfo</a> () const</td></tr>
<tr class="memdesc:af0eac16550b73a6d87d505bf3295d62c"><td class="mdescLeft">&#160;</td><td class="mdescRight">打印 Local APIC 信息（调试用）  <br /></td></tr>
<tr class="separator:af0eac16550b73a6d87d505bf3295d62c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">默认构造/析构函数</div></td></tr>
<tr class="memitem:a4d222635ddc72e32077a49b285751009" id="r_a4d222635ddc72e32077a49b285751009"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a4d222635ddc72e32077a49b285751009">LocalApic</a> ()=default</td></tr>
<tr class="separator:a4d222635ddc72e32077a49b285751009"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7b88fe38a81b89a12d7f7aeda07f0ba" id="r_ad7b88fe38a81b89a12d7f7aeda07f0ba"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ad7b88fe38a81b89a12d7f7aeda07f0ba">LocalApic</a> (const <a class="el" href="classLocalApic.html">LocalApic</a> &amp;)=delete</td></tr>
<tr class="separator:ad7b88fe38a81b89a12d7f7aeda07f0ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124a30577641ada17c7404e436c7999d" id="r_a124a30577641ada17c7404e436c7999d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a124a30577641ada17c7404e436c7999d">LocalApic</a> (<a class="el" href="classLocalApic.html">LocalApic</a> &amp;&amp;)=default</td></tr>
<tr class="separator:a124a30577641ada17c7404e436c7999d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa253056975473927353ca52652df7ab4" id="r_aa253056975473927353ca52652df7ab4"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#aa253056975473927353ca52652df7ab4">operator=</a> (const <a class="el" href="classLocalApic.html">LocalApic</a> &amp;) -&gt; <a class="el" href="classLocalApic.html">LocalApic</a> &amp;=delete</td></tr>
<tr class="separator:aa253056975473927353ca52652df7ab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaeb3c946171901de69708595ec6d6e7f" id="r_aaeb3c946171901de69708595ec6d6e7f"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#aaeb3c946171901de69708595ec6d6e7f">operator=</a> (<a class="el" href="classLocalApic.html">LocalApic</a> &amp;&amp;) -&gt; <a class="el" href="classLocalApic.html">LocalApic</a> &amp;=default</td></tr>
<tr class="separator:aaeb3c946171901de69708595ec6d6e7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad23d594062becaaf9e140bf9dcccb43e" id="r_ad23d594062becaaf9e140bf9dcccb43e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ad23d594062becaaf9e140bf9dcccb43e">~LocalApic</a> ()=default</td></tr>
<tr class="separator:ad23d594062becaaf9e140bf9dcccb43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6825aa2604f305f89053d5e31d5ec52e" id="r_a6825aa2604f305f89053d5e31d5ec52e"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a6825aa2604f305f89053d5e31d5ec52e">CheckX2ApicSupport</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a6825aa2604f305f89053d5e31d5ec52e"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查 CPU 是否支持 x2APIC  <br /></td></tr>
<tr class="separator:a6825aa2604f305f89053d5e31d5ec52e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a385380dd373545bb139e0a36068c46fc" id="r_a385380dd373545bb139e0a36068c46fc"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a385380dd373545bb139e0a36068c46fc">EnableXApic</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a385380dd373545bb139e0a36068c46fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">启用传统 xAPIC 模式  <br /></td></tr>
<tr class="separator:a385380dd373545bb139e0a36068c46fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45d7661c506c12d8ac12222fefa33255" id="r_a45d7661c506c12d8ac12222fefa33255"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a45d7661c506c12d8ac12222fefa33255">DisableXApic</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a45d7661c506c12d8ac12222fefa33255"><td class="mdescLeft">&#160;</td><td class="mdescRight">禁用传统 xAPIC 模式  <br /></td></tr>
<tr class="separator:a45d7661c506c12d8ac12222fefa33255"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae58be5b508f31713e48075f27e0c77ca" id="r_ae58be5b508f31713e48075f27e0c77ca"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca">IsXApicEnabled</a> () const -&gt; bool</td></tr>
<tr class="memdesc:ae58be5b508f31713e48075f27e0c77ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查传统 xAPIC 是否启用  <br /></td></tr>
<tr class="separator:ae58be5b508f31713e48075f27e0c77ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f7b7c00383f231e77c8b33ff340a2f9" id="r_a3f7b7c00383f231e77c8b33ff340a2f9"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a3f7b7c00383f231e77c8b33ff340a2f9">EnableX2Apic</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a3f7b7c00383f231e77c8b33ff340a2f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">启用 x2APIC 模式  <br /></td></tr>
<tr class="separator:a3f7b7c00383f231e77c8b33ff340a2f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9bd6e35272efaaf123b51cafa1e3804c" id="r_a9bd6e35272efaaf123b51cafa1e3804c"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a9bd6e35272efaaf123b51cafa1e3804c">DisableX2Apic</a> () const -&gt; bool</td></tr>
<tr class="memdesc:a9bd6e35272efaaf123b51cafa1e3804c"><td class="mdescLeft">&#160;</td><td class="mdescRight">禁用 x2APIC 模式  <br /></td></tr>
<tr class="separator:a9bd6e35272efaaf123b51cafa1e3804c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acec1f3c4dc919cdeac31f5ce3bf1bbeb" id="r_acec1f3c4dc919cdeac31f5ce3bf1bbeb"><td class="memItemLeft" align="right" valign="top">auto&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb">IsX2ApicEnabled</a> () const -&gt; bool</td></tr>
<tr class="memdesc:acec1f3c4dc919cdeac31f5ce3bf1bbeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">检查 x2APIC 是否启用  <br /></td></tr>
<tr class="separator:acec1f3c4dc919cdeac31f5ce3bf1bbeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a4a63c5378da856c2a5f1ea0460a6744e" id="r_a4a63c5378da856c2a5f1ea0460a6744e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a> = false</td></tr>
<tr class="memdesc:a4a63c5378da856c2a5f1ea0460a6744e"><td class="mdescLeft">&#160;</td><td class="mdescRight">当前 APIC 模式（true = x2APIC, false = xAPIC）  <br /></td></tr>
<tr class="separator:a4a63c5378da856c2a5f1ea0460a6744e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14dea9be5f7231166d31af785352a911" id="r_a14dea9be5f7231166d31af785352a911"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> = <a class="el" href="classLocalApic.html#a1a3df5d79356a5976acca93e5cfd12eb">kDefaultApicBase</a></td></tr>
<tr class="memdesc:a14dea9be5f7231166d31af785352a911"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIC 基地址（仅用于 xAPIC 模式）  <br /></td></tr>
<tr class="separator:a14dea9be5f7231166d31af785352a911"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">xAPIC 寄存器偏移量常数</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>APIC ID 寄存器偏移 </p>
</div></td></tr>
<tr class="memitem:afdd1a4aaf1b00694fbc930dfcc51b5ce" id="r_afdd1a4aaf1b00694fbc930dfcc51b5ce"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#afdd1a4aaf1b00694fbc930dfcc51b5ce">kXApicIdOffset</a> = 0x20</td></tr>
<tr class="separator:afdd1a4aaf1b00694fbc930dfcc51b5ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c95f180e6487eb42ef2031f645d085f" id="r_a2c95f180e6487eb42ef2031f645d085f"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a2c95f180e6487eb42ef2031f645d085f">kXApicVersionOffset</a> = 0x30</td></tr>
<tr class="memdesc:a2c95f180e6487eb42ef2031f645d085f"><td class="mdescLeft">&#160;</td><td class="mdescRight">版本寄存器偏移  <br /></td></tr>
<tr class="separator:a2c95f180e6487eb42ef2031f645d085f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e7d6d9f1e2a9d1eb74c0d86fd984d2c" id="r_a4e7d6d9f1e2a9d1eb74c0d86fd984d2c"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a4e7d6d9f1e2a9d1eb74c0d86fd984d2c">kXApicTprOffset</a> = 0x80</td></tr>
<tr class="memdesc:a4e7d6d9f1e2a9d1eb74c0d86fd984d2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">任务优先级寄存器偏移  <br /></td></tr>
<tr class="separator:a4e7d6d9f1e2a9d1eb74c0d86fd984d2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12117eb68567c31ba32a8388f01c3298" id="r_a12117eb68567c31ba32a8388f01c3298"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a12117eb68567c31ba32a8388f01c3298">kXApicEoiOffset</a> = 0xB0</td></tr>
<tr class="memdesc:a12117eb68567c31ba32a8388f01c3298"><td class="mdescLeft">&#160;</td><td class="mdescRight">EOI 寄存器偏移  <br /></td></tr>
<tr class="separator:a12117eb68567c31ba32a8388f01c3298"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f1b868d6d1f37f3a1e61d23d84cc05b" id="r_a2f1b868d6d1f37f3a1e61d23d84cc05b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a2f1b868d6d1f37f3a1e61d23d84cc05b">kXApicSivrOffset</a> = 0xF0</td></tr>
<tr class="memdesc:a2f1b868d6d1f37f3a1e61d23d84cc05b"><td class="mdescLeft">&#160;</td><td class="mdescRight">虚假中断向量寄存器偏移  <br /></td></tr>
<tr class="separator:a2f1b868d6d1f37f3a1e61d23d84cc05b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a304ca65520b6499cd497c29ccf443c2b" id="r_a304ca65520b6499cd497c29ccf443c2b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a304ca65520b6499cd497c29ccf443c2b">kXApicEsrOffset</a> = 0x280</td></tr>
<tr class="memdesc:a304ca65520b6499cd497c29ccf443c2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">错误状态寄存器偏移  <br /></td></tr>
<tr class="separator:a304ca65520b6499cd497c29ccf443c2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34703c093c2de15bba9a3a0bb985c49f" id="r_a34703c093c2de15bba9a3a0bb985c49f"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a> = 0x300</td></tr>
<tr class="memdesc:a34703c093c2de15bba9a3a0bb985c49f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICR 低位寄存器偏移  <br /></td></tr>
<tr class="separator:a34703c093c2de15bba9a3a0bb985c49f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4158043664830ff0d09c9c9297d6d0d" id="r_aa4158043664830ff0d09c9c9297d6d0d"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">kXApicIcrHighOffset</a> = 0x310</td></tr>
<tr class="memdesc:aa4158043664830ff0d09c9c9297d6d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICR 高位寄存器偏移  <br /></td></tr>
<tr class="separator:aa4158043664830ff0d09c9c9297d6d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeecdfbc459bb53490b50ef3ff0652c27" id="r_aeecdfbc459bb53490b50ef3ff0652c27"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a> = 0x320</td></tr>
<tr class="memdesc:aeecdfbc459bb53490b50ef3ff0652c27"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT 定时器寄存器偏移  <br /></td></tr>
<tr class="separator:aeecdfbc459bb53490b50ef3ff0652c27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b0e7fd16a723057766596953363bbf5" id="r_a0b0e7fd16a723057766596953363bbf5"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a0b0e7fd16a723057766596953363bbf5">kXApicLvtLint0Offset</a> = 0x350</td></tr>
<tr class="memdesc:a0b0e7fd16a723057766596953363bbf5"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT LINT0 寄存器偏移  <br /></td></tr>
<tr class="separator:a0b0e7fd16a723057766596953363bbf5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b2b41f250ef010adfe4c1fe680a53d" id="r_a34b2b41f250ef010adfe4c1fe680a53d"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a34b2b41f250ef010adfe4c1fe680a53d">kXApicLvtLint1Offset</a> = 0x360</td></tr>
<tr class="memdesc:a34b2b41f250ef010adfe4c1fe680a53d"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT LINT1 寄存器偏移  <br /></td></tr>
<tr class="separator:a34b2b41f250ef010adfe4c1fe680a53d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c7af96d0822ef425029761b383195b5" id="r_a8c7af96d0822ef425029761b383195b5"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a8c7af96d0822ef425029761b383195b5">kXApicLvtErrorOffset</a> = 0x370</td></tr>
<tr class="memdesc:a8c7af96d0822ef425029761b383195b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT 错误寄存器偏移  <br /></td></tr>
<tr class="separator:a8c7af96d0822ef425029761b383195b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83c268b9d948a8d927a2a8c18af3cb24" id="r_a83c268b9d948a8d927a2a8c18af3cb24"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a83c268b9d948a8d927a2a8c18af3cb24">kXApicTimerInitCountOffset</a> = 0x380</td></tr>
<tr class="memdesc:a83c268b9d948a8d927a2a8c18af3cb24"><td class="mdescLeft">&#160;</td><td class="mdescRight">定时器初始计数寄存器偏移  <br /></td></tr>
<tr class="separator:a83c268b9d948a8d927a2a8c18af3cb24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dc622544490847b77efa2387660629b" id="r_a1dc622544490847b77efa2387660629b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a1dc622544490847b77efa2387660629b">kXApicTimerCurrCountOffset</a> = 0x390</td></tr>
<tr class="memdesc:a1dc622544490847b77efa2387660629b"><td class="mdescLeft">&#160;</td><td class="mdescRight">定时器当前计数寄存器偏移  <br /></td></tr>
<tr class="separator:a1dc622544490847b77efa2387660629b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67a0012a756e5d367a3deec4a564e09f" id="r_a67a0012a756e5d367a3deec4a564e09f"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a67a0012a756e5d367a3deec4a564e09f">kXApicTimerDivideOffset</a> = 0x3E0</td></tr>
<tr class="memdesc:a67a0012a756e5d367a3deec4a564e09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">定时器分频寄存器偏移  <br /></td></tr>
<tr class="separator:a67a0012a756e5d367a3deec4a564e09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">位掩码和位移常数</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>xAPIC ID 位移 </p>
</div></td></tr>
<tr class="memitem:af3c19f6e0462f9063e54dcd5802b6741" id="r_af3c19f6e0462f9063e54dcd5802b6741"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#af3c19f6e0462f9063e54dcd5802b6741">kApicIdShift</a> = 24</td></tr>
<tr class="separator:af3c19f6e0462f9063e54dcd5802b6741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539a57e81b47d6c352d9d187b0f095cf" id="r_a539a57e81b47d6c352d9d187b0f095cf"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a> = 0xFF</td></tr>
<tr class="memdesc:a539a57e81b47d6c352d9d187b0f095cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">xAPIC ID 掩码  <br /></td></tr>
<tr class="separator:a539a57e81b47d6c352d9d187b0f095cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2699706a3c2b0dd4b351e4a4890dc679" id="r_a2699706a3c2b0dd4b351e4a4890dc679"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a2699706a3c2b0dd4b351e4a4890dc679">kApicSoftwareEnableBit</a> = 0x100</td></tr>
<tr class="memdesc:a2699706a3c2b0dd4b351e4a4890dc679"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIC 软件启用位  <br /></td></tr>
<tr class="separator:a2699706a3c2b0dd4b351e4a4890dc679"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c5ad4a79967cb4aedf6955ecd1606db" id="r_a5c5ad4a79967cb4aedf6955ecd1606db"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a5c5ad4a79967cb4aedf6955ecd1606db">kSpuriousVector</a> = 0xFF</td></tr>
<tr class="memdesc:a5c5ad4a79967cb4aedf6955ecd1606db"><td class="mdescLeft">&#160;</td><td class="mdescRight">虚假中断向量  <br /></td></tr>
<tr class="separator:a5c5ad4a79967cb4aedf6955ecd1606db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b0f3174fb096b99ee386a0a9c40f933" id="r_a6b0f3174fb096b99ee386a0a9c40f933"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a> = 0x10000</td></tr>
<tr class="memdesc:a6b0f3174fb096b99ee386a0a9c40f933"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT 掩码位  <br /></td></tr>
<tr class="separator:a6b0f3174fb096b99ee386a0a9c40f933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae005fc91e7686c2d70626f46c1150fa8" id="r_ae005fc91e7686c2d70626f46c1150fa8"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ae005fc91e7686c2d70626f46c1150fa8">kLvtPeriodicMode</a> = 0x20000</td></tr>
<tr class="memdesc:ae005fc91e7686c2d70626f46c1150fa8"><td class="mdescLeft">&#160;</td><td class="mdescRight">LVT 周期模式位  <br /></td></tr>
<tr class="separator:ae005fc91e7686c2d70626f46c1150fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71161337180fb23c37d8fd9b1bfb9731" id="r_a71161337180fb23c37d8fd9b1bfb9731"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a> = 0x1000</td></tr>
<tr class="memdesc:a71161337180fb23c37d8fd9b1bfb9731"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICR 传递状态位  <br /></td></tr>
<tr class="separator:a71161337180fb23c37d8fd9b1bfb9731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e39371e01acd73f35fe96b8111b32f9" id="r_a0e39371e01acd73f35fe96b8111b32f9"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a0e39371e01acd73f35fe96b8111b32f9">kIcrDestShift</a> = 24</td></tr>
<tr class="memdesc:a0e39371e01acd73f35fe96b8111b32f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICR 目标位移  <br /></td></tr>
<tr class="separator:a0e39371e01acd73f35fe96b8111b32f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c8bbabcb2c2f27ff6092ec57bf45f36" id="r_a0c8bbabcb2c2f27ff6092ec57bf45f36"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a0c8bbabcb2c2f27ff6092ec57bf45f36">kIcrBroadcastMode</a> = 0xC0000</td></tr>
<tr class="memdesc:a0c8bbabcb2c2f27ff6092ec57bf45f36"><td class="mdescLeft">&#160;</td><td class="mdescRight">ICR 广播模式位  <br /></td></tr>
<tr class="separator:a0c8bbabcb2c2f27ff6092ec57bf45f36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2eb29834e6af43ecb26fc60702d6161" id="r_ab2eb29834e6af43ecb26fc60702d6161"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ab2eb29834e6af43ecb26fc60702d6161">kInitIpiMode</a> = 0x500</td></tr>
<tr class="memdesc:ab2eb29834e6af43ecb26fc60702d6161"><td class="mdescLeft">&#160;</td><td class="mdescRight">INIT IPI 模式  <br /></td></tr>
<tr class="separator:ab2eb29834e6af43ecb26fc60702d6161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33d4d4ec4aa19a4af8667b4215c93710" id="r_a33d4d4ec4aa19a4af8667b4215c93710"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a33d4d4ec4aa19a4af8667b4215c93710">kSipiMode</a> = 0x600</td></tr>
<tr class="memdesc:a33d4d4ec4aa19a4af8667b4215c93710"><td class="mdescLeft">&#160;</td><td class="mdescRight">SIPI 模式  <br /></td></tr>
<tr class="separator:a33d4d4ec4aa19a4af8667b4215c93710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cb0f69943bcc06937cce7ba086baeaa" id="r_a4cb0f69943bcc06937cce7ba086baeaa"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a4cb0f69943bcc06937cce7ba086baeaa">kExtIntMode</a> = 0x700</td></tr>
<tr class="memdesc:a4cb0f69943bcc06937cce7ba086baeaa"><td class="mdescLeft">&#160;</td><td class="mdescRight">ExtINT 传递模式  <br /></td></tr>
<tr class="separator:a4cb0f69943bcc06937cce7ba086baeaa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d73d0dd37f4d3095572ba650c5f991c" id="r_a5d73d0dd37f4d3095572ba650c5f991c"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a5d73d0dd37f4d3095572ba650c5f991c">kNmiMode</a> = 0x400</td></tr>
<tr class="memdesc:a5d73d0dd37f4d3095572ba650c5f991c"><td class="mdescLeft">&#160;</td><td class="mdescRight">NMI 传递模式  <br /></td></tr>
<tr class="separator:a5d73d0dd37f4d3095572ba650c5f991c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7ac5e007c4dd0f757c28b11e3e1f2a7" id="r_ac7ac5e007c4dd0f757c28b11e3e1f2a7"><td class="memItemLeft" align="right" valign="top">static constexpr uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ac7ac5e007c4dd0f757c28b11e3e1f2a7">kErrorVector</a> = 0xEF</td></tr>
<tr class="memdesc:ac7ac5e007c4dd0f757c28b11e3e1f2a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">错误中断向量  <br /></td></tr>
<tr class="separator:ac7ac5e007c4dd0f757c28b11e3e1f2a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">定时器相关常数</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>默认 APIC 时钟频率 (100MHz) </p>
</div></td></tr>
<tr class="memitem:ac503568b9181ecb3d8226eafde6f6705" id="r_ac503568b9181ecb3d8226eafde6f6705"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">kDefaultApicClockHz</a> = 100000000</td></tr>
<tr class="separator:ac503568b9181ecb3d8226eafde6f6705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a297cbe9436e7dfd6ce702be071ac6f7e" id="r_a297cbe9436e7dfd6ce702be071ac6f7e"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a297cbe9436e7dfd6ce702be071ac6f7e">kTimerDivideBy1</a> = 0x0B</td></tr>
<tr class="memdesc:a297cbe9436e7dfd6ce702be071ac6f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">定时器分频 1  <br /></td></tr>
<tr class="separator:a297cbe9436e7dfd6ce702be071ac6f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d3d23c56cc2075e3cf4bad259bfe12b" id="r_a7d3d23c56cc2075e3cf4bad259bfe12b"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a7d3d23c56cc2075e3cf4bad259bfe12b">kTimerDivideBy16</a> = 0x03</td></tr>
<tr class="memdesc:a7d3d23c56cc2075e3cf4bad259bfe12b"><td class="mdescLeft">&#160;</td><td class="mdescRight">定时器分频 16  <br /></td></tr>
<tr class="separator:a7d3d23c56cc2075e3cf4bad259bfe12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a44ce21bf43d9105b43c369f4fb2f6b7c" id="r_a44ce21bf43d9105b43c369f4fb2f6b7c"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a44ce21bf43d9105b43c369f4fb2f6b7c">kCalibrationCount</a> = 0xFFFFFFFF</td></tr>
<tr class="memdesc:a44ce21bf43d9105b43c369f4fb2f6b7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">校准用的计数值  <br /></td></tr>
<tr class="separator:a44ce21bf43d9105b43c369f4fb2f6b7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31b67cb7cf0571d12699fbc517128dab" id="r_a31b67cb7cf0571d12699fbc517128dab"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a31b67cb7cf0571d12699fbc517128dab">kCalibrationDelayLoop</a> = 1000000</td></tr>
<tr class="memdesc:a31b67cb7cf0571d12699fbc517128dab"><td class="mdescLeft">&#160;</td><td class="mdescRight">校准延时循环次数  <br /></td></tr>
<tr class="separator:a31b67cb7cf0571d12699fbc517128dab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c1a0d531cded478c71629c05078fd54" id="r_a7c1a0d531cded478c71629c05078fd54"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a7c1a0d531cded478c71629c05078fd54">kCalibrationMultiplier</a> = 100</td></tr>
<tr class="memdesc:a7c1a0d531cded478c71629c05078fd54"><td class="mdescLeft">&#160;</td><td class="mdescRight">校准倍数 (10ms -&gt; 1s)  <br /></td></tr>
<tr class="separator:a7c1a0d531cded478c71629c05078fd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a462147014bd654946ed7dd08ee6c3fd5" id="r_a462147014bd654946ed7dd08ee6c3fd5"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a462147014bd654946ed7dd08ee6c3fd5">kMicrosecondsPerSecond</a> = 1000000</td></tr>
<tr class="memdesc:a462147014bd654946ed7dd08ee6c3fd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">每秒微秒数  <br /></td></tr>
<tr class="separator:a462147014bd654946ed7dd08ee6c3fd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">APIC 基地址相关常数</div></td></tr>
<tr><td colspan="2"><div class="groupText"><p>默认 APIC 基地址 </p>
</div></td></tr>
<tr class="memitem:a1a3df5d79356a5976acca93e5cfd12eb" id="r_a1a3df5d79356a5976acca93e5cfd12eb"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a1a3df5d79356a5976acca93e5cfd12eb">kDefaultApicBase</a> = 0xFEE00000</td></tr>
<tr class="separator:a1a3df5d79356a5976acca93e5cfd12eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f923f00069e67abe5ec0f070700f568" id="r_a9f923f00069e67abe5ec0f070700f568"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a9f923f00069e67abe5ec0f070700f568">kApicBaseMask</a> = 0xFFFFF000ULL</td></tr>
<tr class="memdesc:a9f923f00069e67abe5ec0f070700f568"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIC 基地址掩码  <br /></td></tr>
<tr class="separator:a9f923f00069e67abe5ec0f070700f568"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a976e22dc11853d90f7cb7d434f647426" id="r_a976e22dc11853d90f7cb7d434f647426"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a976e22dc11853d90f7cb7d434f647426">kApicGlobalEnableBit</a> = 1ULL &lt;&lt; 11</td></tr>
<tr class="memdesc:a976e22dc11853d90f7cb7d434f647426"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIC 全局启用位  <br /></td></tr>
<tr class="separator:a976e22dc11853d90f7cb7d434f647426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17a3a8246de15249a522a69ea0a5b6a2" id="r_a17a3a8246de15249a522a69ea0a5b6a2"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a17a3a8246de15249a522a69ea0a5b6a2">kX2ApicEnableBit</a> = 1ULL &lt;&lt; 10</td></tr>
<tr class="memdesc:a17a3a8246de15249a522a69ea0a5b6a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">x2APIC 启用位  <br /></td></tr>
<tr class="separator:a17a3a8246de15249a522a69ea0a5b6a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a414e63797d762800b97c9ad33af0ac9d" id="r_a414e63797d762800b97c9ad33af0ac9d"><td class="memItemLeft" align="right" valign="top">static constexpr uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classLocalApic.html#a414e63797d762800b97c9ad33af0ac9d">kApicBaseControlMask</a> = 0xFFF</td></tr>
<tr class="memdesc:a414e63797d762800b97c9ad33af0ac9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">APIC 基地址控制位掩码  <br /></td></tr>
<tr class="separator:a414e63797d762800b97c9ad33af0ac9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Local APIC 驱动类 </p>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright The SimpleKernel Contributors </dd></dl>
<dl class="section note"><dt>Note</dt><dd>支持 xAPIC 和 x2APIC 模式，优先使用 x2APIC </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00019">19</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a4d222635ddc72e32077a49b285751009" name="a4d222635ddc72e32077a49b285751009"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d222635ddc72e32077a49b285751009">&#9670;&#160;</a></span>LocalApic() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LocalApic::LocalApic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad7b88fe38a81b89a12d7f7aeda07f0ba" name="ad7b88fe38a81b89a12d7f7aeda07f0ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad7b88fe38a81b89a12d7f7aeda07f0ba">&#9670;&#160;</a></span>LocalApic() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LocalApic::LocalApic </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLocalApic.html">LocalApic</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="a124a30577641ada17c7404e436c7999d" name="a124a30577641ada17c7404e436c7999d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a124a30577641ada17c7404e436c7999d">&#9670;&#160;</a></span>LocalApic() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LocalApic::LocalApic </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLocalApic.html">LocalApic</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ad23d594062becaaf9e140bf9dcccb43e" name="ad23d594062becaaf9e140bf9dcccb43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad23d594062becaaf9e140bf9dcccb43e">&#9670;&#160;</a></span>~LocalApic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">LocalApic::~LocalApic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a6dfaeb288214a8bd2e12e6c03b746a64" name="a6dfaeb288214a8bd2e12e6c03b746a64"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6dfaeb288214a8bd2e12e6c03b746a64">&#9670;&#160;</a></span>BroadcastIpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto LocalApic::BroadcastIpi </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vector</em></td><td>)</td>
          <td> const -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt;void&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>广播 IPI 到所有其他 CPU </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vector</td><td>中断向量 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Expected&lt;void&gt; 广播成功返回空值，失败返回错误 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00112">112</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  112</span>                                                                   {</div>
<div class="line"><span class="lineno">  113</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  114</span>    <span class="keyword">auto</span> icr = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(vector);</div>
<div class="line"><span class="lineno">  115</span>    <span class="comment">// 目标简写：除自己外的所有 CPU</span></div>
<div class="line"><span class="lineno">  116</span>    icr |= 0x80000;</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>    cpu_io::msr::apic::WriteIcr(icr);</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>    <span class="keywordflow">while</span> ((cpu_io::msr::apic::ReadIcr() &amp; <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  121</span>      ;</div>
<div class="line"><span class="lineno">  122</span>    }</div>
<div class="line"><span class="lineno">  123</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// 广播到除自己外的所有 CPU(目标简写模式)</span></div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// ICR_HIGH 设为 0(不使用具体目标 ID)</span></div>
<div class="line"><span class="lineno">  126</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">kXApicIcrHighOffset</a>, 0);</div>
<div class="line"><span class="lineno">  127</span> </div>
<div class="line"><span class="lineno">  128</span>    <span class="comment">// ICR_LOW：向量 + 目标简写模式(位 18-19 = 11)</span></div>
<div class="line"><span class="lineno">  129</span>    <span class="keyword">auto</span> icr_low = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vector) | <a class="code hl_variable" href="classLocalApic.html#a0c8bbabcb2c2f27ff6092ec57bf45f36">kIcrBroadcastMode</a>;</div>
<div class="line"><span class="lineno">  130</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>, icr_low);</div>
<div class="line"><span class="lineno">  131</span> </div>
<div class="line"><span class="lineno">  132</span>    <span class="keywordflow">while</span> ((io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>) &amp;</div>
<div class="line"><span class="lineno">  133</span>            <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  134</span>      ;</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="line"><span class="lineno">  136</span>  }</div>
<div class="line"><span class="lineno">  137</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  138</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a0c8bbabcb2c2f27ff6092ec57bf45f36"><div class="ttname"><a href="classLocalApic.html#a0c8bbabcb2c2f27ff6092ec57bf45f36">LocalApic::kIcrBroadcastMode</a></div><div class="ttdeci">static constexpr uint32_t kIcrBroadcastMode</div><div class="ttdoc">ICR 广播模式位</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00203">local_apic.h:203</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a14dea9be5f7231166d31af785352a911"><div class="ttname"><a href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">LocalApic::apic_base_</a></div><div class="ttdeci">uint64_t apic_base_</div><div class="ttdoc">APIC 基地址（仅用于 xAPIC 模式）</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00252">local_apic.h:252</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a34703c093c2de15bba9a3a0bb985c49f"><div class="ttname"><a href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">LocalApic::kXApicIcrLowOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicIcrLowOffset</div><div class="ttdoc">ICR 低位寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00165">local_apic.h:165</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a4a63c5378da856c2a5f1ea0460a6744e"><div class="ttname"><a href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">LocalApic::is_x2apic_mode_</a></div><div class="ttdeci">bool is_x2apic_mode_</div><div class="ttdoc">当前 APIC 模式（true = x2APIC, false = xAPIC）</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00249">local_apic.h:249</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a71161337180fb23c37d8fd9b1bfb9731"><div class="ttname"><a href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">LocalApic::kIcrDeliveryStatusBit</a></div><div class="ttdeci">static constexpr uint32_t kIcrDeliveryStatusBit</div><div class="ttdoc">ICR 传递状态位</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00199">local_apic.h:199</a></div></div>
<div class="ttc" id="aclassLocalApic_html_aa4158043664830ff0d09c9c9297d6d0d"><div class="ttname"><a href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">LocalApic::kXApicIcrHighOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicIcrHighOffset</div><div class="ttdoc">ICR 高位寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00167">local_apic.h:167</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a6825aa2604f305f89053d5e31d5ec52e" name="a6825aa2604f305f89053d5e31d5ec52e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6825aa2604f305f89053d5e31d5ec52e">&#9670;&#160;</a></span>CheckX2ApicSupport()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::CheckX2ApicSupport </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>检查 CPU 是否支持 x2APIC </p>
<dl class="section return"><dt>Returns</dt><dd>true 支持 x2APIC </dd>
<dd>
false 不支持 x2APIC </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00383">383</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  383</span>                                         {</div>
<div class="line"><span class="lineno">  384</span>  <span class="keywordflow">return</span> cpu_io::cpuid::HasX2Apic();</div>
<div class="line"><span class="lineno">  385</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a6825aa2604f305f89053d5e31d5ec52e_icgraph.png" border="0" usemap="#aclassLocalApic_a6825aa2604f305f89053d5e31d5ec52e_icgraph" alt=""/></div>
<map name="aclassLocalApic_a6825aa2604f305f89053d5e31d5ec52e_icgraph" id="aclassLocalApic_a6825aa2604f305f89053d5e31d5ec52e_icgraph">
<area shape="rect" title="检查 CPU 是否支持 x2APIC" alt="" coords="235,5,461,31"/>
<area shape="rect" href="classLocalApic.html#a3f7b7c00383f231e77c8b33ff340a2f9" title="启用 x2APIC 模式" alt="" coords="5,5,187,31"/>
<area shape="poly" title=" " alt="" coords="221,21,187,21,187,15,221,15"/>
</map>
</div>

</div>
</div>
<a id="a90214426802a867483c981b0e3513cee" name="a90214426802a867483c981b0e3513cee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a90214426802a867483c981b0e3513cee">&#9670;&#160;</a></span>ConfigureLvtEntries()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::ConfigureLvtEntries </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>配置 Local Vector Table 条目 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00303">303</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  303</span>                                          {</div>
<div class="line"><span class="lineno">  304</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  305</span>    <span class="comment">// 配置 LINT0 (通常连接到 8259 PIC 的 INTR)</span></div>
<div class="line"><span class="lineno">  306</span>    cpu_io::msr::apic::WriteLvtLint0(<a class="code hl_variable" href="classLocalApic.html#a4cb0f69943bcc06937cce7ba086baeaa">kExtIntMode</a>);</div>
<div class="line"><span class="lineno">  307</span> </div>
<div class="line"><span class="lineno">  308</span>    <span class="comment">// 配置 LINT1 (通常连接到 NMI)</span></div>
<div class="line"><span class="lineno">  309</span>    cpu_io::msr::apic::WriteLvtLint1(<a class="code hl_variable" href="classLocalApic.html#a5d73d0dd37f4d3095572ba650c5f991c">kNmiMode</a>);</div>
<div class="line"><span class="lineno">  310</span> </div>
<div class="line"><span class="lineno">  311</span>    <span class="comment">// 配置错误中断</span></div>
<div class="line"><span class="lineno">  312</span>    cpu_io::msr::apic::WriteLvtError(<a class="code hl_variable" href="classLocalApic.html#ac7ac5e007c4dd0f757c28b11e3e1f2a7">kErrorVector</a>);</div>
<div class="line"><span class="lineno">  313</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  314</span>    <span class="comment">// 配置 LINT0 (偏移 0x350)</span></div>
<div class="line"><span class="lineno">  315</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a0b0e7fd16a723057766596953363bbf5">kXApicLvtLint0Offset</a>, <a class="code hl_variable" href="classLocalApic.html#a4cb0f69943bcc06937cce7ba086baeaa">kExtIntMode</a>);</div>
<div class="line"><span class="lineno">  316</span> </div>
<div class="line"><span class="lineno">  317</span>    <span class="comment">// 配置 LINT1 (偏移 0x360)</span></div>
<div class="line"><span class="lineno">  318</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34b2b41f250ef010adfe4c1fe680a53d">kXApicLvtLint1Offset</a>, <a class="code hl_variable" href="classLocalApic.html#a5d73d0dd37f4d3095572ba650c5f991c">kNmiMode</a>);</div>
<div class="line"><span class="lineno">  319</span> </div>
<div class="line"><span class="lineno">  320</span>    <span class="comment">// 配置错误中断 (偏移 0x370)</span></div>
<div class="line"><span class="lineno">  321</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a8c7af96d0822ef425029761b383195b5">kXApicLvtErrorOffset</a>, <a class="code hl_variable" href="classLocalApic.html#ac7ac5e007c4dd0f757c28b11e3e1f2a7">kErrorVector</a>);</div>
<div class="line"><span class="lineno">  322</span>  }</div>
<div class="line"><span class="lineno">  323</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a0b0e7fd16a723057766596953363bbf5"><div class="ttname"><a href="classLocalApic.html#a0b0e7fd16a723057766596953363bbf5">LocalApic::kXApicLvtLint0Offset</a></div><div class="ttdeci">static constexpr uint32_t kXApicLvtLint0Offset</div><div class="ttdoc">LVT LINT0 寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00171">local_apic.h:171</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a34b2b41f250ef010adfe4c1fe680a53d"><div class="ttname"><a href="classLocalApic.html#a34b2b41f250ef010adfe4c1fe680a53d">LocalApic::kXApicLvtLint1Offset</a></div><div class="ttdeci">static constexpr uint32_t kXApicLvtLint1Offset</div><div class="ttdoc">LVT LINT1 寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00173">local_apic.h:173</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a4cb0f69943bcc06937cce7ba086baeaa"><div class="ttname"><a href="classLocalApic.html#a4cb0f69943bcc06937cce7ba086baeaa">LocalApic::kExtIntMode</a></div><div class="ttdeci">static constexpr uint32_t kExtIntMode</div><div class="ttdoc">ExtINT 传递模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00209">local_apic.h:209</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a5d73d0dd37f4d3095572ba650c5f991c"><div class="ttname"><a href="classLocalApic.html#a5d73d0dd37f4d3095572ba650c5f991c">LocalApic::kNmiMode</a></div><div class="ttdeci">static constexpr uint32_t kNmiMode</div><div class="ttdoc">NMI 传递模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00211">local_apic.h:211</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a8c7af96d0822ef425029761b383195b5"><div class="ttname"><a href="classLocalApic.html#a8c7af96d0822ef425029761b383195b5">LocalApic::kXApicLvtErrorOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicLvtErrorOffset</div><div class="ttdoc">LVT 错误寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00175">local_apic.h:175</a></div></div>
<div class="ttc" id="aclassLocalApic_html_ac7ac5e007c4dd0f757c28b11e3e1f2a7"><div class="ttname"><a href="classLocalApic.html#ac7ac5e007c4dd0f757c28b11e3e1f2a7">LocalApic::kErrorVector</a></div><div class="ttdeci">static constexpr uint8_t kErrorVector</div><div class="ttdoc">错误中断向量</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00213">local_apic.h:213</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a672f5a4fcedca4c539c4fced7aad5556" name="a672f5a4fcedca4c539c4fced7aad5556"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a672f5a4fcedca4c539c4fced7aad5556">&#9670;&#160;</a></span>DisableTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::DisableTimer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>禁用 Local APIC 定时器 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00187">187</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  187</span>                                   {</div>
<div class="line"><span class="lineno">  188</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  189</span>    <span class="keyword">auto</span> lvt_timer = cpu_io::msr::apic::ReadLvtTimer();</div>
<div class="line"><span class="lineno">  190</span>    lvt_timer |= <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>;</div>
<div class="line"><span class="lineno">  191</span>    cpu_io::msr::apic::WriteLvtTimer(lvt_timer);</div>
<div class="line"><span class="lineno">  192</span>    cpu_io::msr::apic::WriteTimerInitCount(0);</div>
<div class="line"><span class="lineno">  193</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  194</span>    <span class="keyword">auto</span> lvt_timer = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a>);</div>
<div class="line"><span class="lineno">  195</span>    lvt_timer |= <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>;</div>
<div class="line"><span class="lineno">  196</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a>, lvt_timer);</div>
<div class="line"><span class="lineno">  197</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a83c268b9d948a8d927a2a8c18af3cb24">kXApicTimerInitCountOffset</a>, 0);</div>
<div class="line"><span class="lineno">  198</span>  }</div>
<div class="line"><span class="lineno">  199</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a6b0f3174fb096b99ee386a0a9c40f933"><div class="ttname"><a href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">LocalApic::kLvtMaskBit</a></div><div class="ttdeci">static constexpr uint32_t kLvtMaskBit</div><div class="ttdoc">LVT 掩码位</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00195">local_apic.h:195</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a83c268b9d948a8d927a2a8c18af3cb24"><div class="ttname"><a href="classLocalApic.html#a83c268b9d948a8d927a2a8c18af3cb24">LocalApic::kXApicTimerInitCountOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicTimerInitCountOffset</div><div class="ttdoc">定时器初始计数寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00177">local_apic.h:177</a></div></div>
<div class="ttc" id="aclassLocalApic_html_aeecdfbc459bb53490b50ef3ff0652c27"><div class="ttname"><a href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">LocalApic::kXApicLvtTimerOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicLvtTimerOffset</div><div class="ttdoc">LVT 定时器寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00169">local_apic.h:169</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9bd6e35272efaaf123b51cafa1e3804c" name="a9bd6e35272efaaf123b51cafa1e3804c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9bd6e35272efaaf123b51cafa1e3804c">&#9670;&#160;</a></span>DisableX2Apic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::DisableX2Apic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>禁用 x2APIC 模式 </p>
<dl class="section return"><dt>Returns</dt><dd>true 禁用成功 </dd>
<dd>
false 禁用失败或x2APIC未启用 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00421">421</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  421</span>                                    {</div>
<div class="line"><span class="lineno">  422</span>  <span class="comment">// 清除 IA32_APIC_BASE.x2APIC_Enable (位10) = 0</span></div>
<div class="line"><span class="lineno">  423</span>  cpu_io::msr::apic::DisableX2Apic();</div>
<div class="line"><span class="lineno">  424</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb">IsX2ApicEnabled</a>();</div>
<div class="line"><span class="lineno">  425</span>}</div>
<div class="ttc" id="aclassLocalApic_html_acec1f3c4dc919cdeac31f5ce3bf1bbeb"><div class="ttname"><a href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb">LocalApic::IsX2ApicEnabled</a></div><div class="ttdeci">auto IsX2ApicEnabled() const -&gt; bool</div><div class="ttdoc">检查 x2APIC 是否启用</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00427">local_apic.cpp:427</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a9bd6e35272efaaf123b51cafa1e3804c_cgraph.png" border="0" usemap="#aclassLocalApic_a9bd6e35272efaaf123b51cafa1e3804c_cgraph" alt=""/></div>
<map name="aclassLocalApic_a9bd6e35272efaaf123b51cafa1e3804c_cgraph" id="aclassLocalApic_a9bd6e35272efaaf123b51cafa1e3804c_cgraph">
<area shape="rect" title="禁用 x2APIC 模式" alt="" coords="5,5,192,31"/>
<area shape="rect" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb" title="检查 x2APIC 是否启用" alt="" coords="240,5,440,31"/>
<area shape="poly" title=" " alt="" coords="192,15,227,15,227,21,192,21"/>
</map>
</div>

</div>
</div>
<a id="a45d7661c506c12d8ac12222fefa33255" name="a45d7661c506c12d8ac12222fefa33255"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a45d7661c506c12d8ac12222fefa33255">&#9670;&#160;</a></span>DisableXApic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::DisableXApic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>禁用传统 xAPIC 模式 </p>
<dl class="section return"><dt>Returns</dt><dd>true 禁用成功 </dd>
<dd>
false 禁用失败或xAPIC未启用 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00395">395</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  395</span>                                   {</div>
<div class="line"><span class="lineno">  396</span>  <span class="comment">// 清除 IA32_APIC_BASE.Global_Enable (位11) = 0</span></div>
<div class="line"><span class="lineno">  397</span>  cpu_io::msr::apic::DisableGlobally();</div>
<div class="line"><span class="lineno">  398</span>  <span class="keywordflow">return</span> !<a class="code hl_function" href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca">IsXApicEnabled</a>();</div>
<div class="line"><span class="lineno">  399</span>}</div>
<div class="ttc" id="aclassLocalApic_html_ae58be5b508f31713e48075f27e0c77ca"><div class="ttname"><a href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca">LocalApic::IsXApicEnabled</a></div><div class="ttdeci">auto IsXApicEnabled() const -&gt; bool</div><div class="ttdoc">检查传统 xAPIC 是否启用</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00401">local_apic.cpp:401</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a45d7661c506c12d8ac12222fefa33255_cgraph.png" border="0" usemap="#aclassLocalApic_a45d7661c506c12d8ac12222fefa33255_cgraph" alt=""/></div>
<map name="aclassLocalApic_a45d7661c506c12d8ac12222fefa33255_cgraph" id="aclassLocalApic_a45d7661c506c12d8ac12222fefa33255_cgraph">
<area shape="rect" title="禁用传统 xAPIC 模式" alt="" coords="5,5,184,31"/>
<area shape="rect" href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca" title="检查传统 xAPIC 是否启用" alt="" coords="232,5,424,31"/>
<area shape="poly" title=" " alt="" coords="185,15,218,15,218,21,185,21"/>
</map>
</div>

</div>
</div>
<a id="ac60426a6345dfe7593b29c22b0888115" name="ac60426a6345dfe7593b29c22b0888115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac60426a6345dfe7593b29c22b0888115">&#9670;&#160;</a></span>EnableTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::EnableTimer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>initial_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>divide_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>periodic</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>启用 Local APIC 定时器 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initial_count</td><td>初始计数值 </td></tr>
    <tr><td class="paramname">divide_value</td><td>分频值 </td></tr>
    <tr><td class="paramname">vector</td><td>定时器中断向量 </td></tr>
    <tr><td class="paramname">periodic</td><td>是否为周期性定时器 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00158">158</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  159</span>                                                                 {</div>
<div class="line"><span class="lineno">  160</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  161</span>    cpu_io::msr::apic::WriteTimerDivide(divide_value);</div>
<div class="line"><span class="lineno">  162</span> </div>
<div class="line"><span class="lineno">  163</span>    <span class="keyword">auto</span> lvt_timer = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vector);</div>
<div class="line"><span class="lineno">  164</span>    <span class="keywordflow">if</span> (periodic) {</div>
<div class="line"><span class="lineno">  165</span>      lvt_timer |= <a class="code hl_variable" href="classLocalApic.html#ae005fc91e7686c2d70626f46c1150fa8">kLvtPeriodicMode</a>;</div>
<div class="line"><span class="lineno">  166</span>    }</div>
<div class="line"><span class="lineno">  167</span> </div>
<div class="line"><span class="lineno">  168</span>    cpu_io::msr::apic::WriteLvtTimer(lvt_timer);</div>
<div class="line"><span class="lineno">  169</span>    cpu_io::msr::apic::WriteTimerInitCount(initial_count);</div>
<div class="line"><span class="lineno">  170</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  171</span>    <span class="comment">// 设置分频器(偏移 0x3E0)</span></div>
<div class="line"><span class="lineno">  172</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a67a0012a756e5d367a3deec4a564e09f">kXApicTimerDivideOffset</a>, divide_value);</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>    <span class="comment">// 设置 LVT 定时器寄存器(偏移 0x320)</span></div>
<div class="line"><span class="lineno">  175</span>    <span class="keyword">auto</span> lvt_timer = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vector);</div>
<div class="line"><span class="lineno">  176</span>    <span class="keywordflow">if</span> (periodic) {</div>
<div class="line"><span class="lineno">  177</span>      lvt_timer |= <a class="code hl_variable" href="classLocalApic.html#ae005fc91e7686c2d70626f46c1150fa8">kLvtPeriodicMode</a>;</div>
<div class="line"><span class="lineno">  178</span>    }</div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a>, lvt_timer);</div>
<div class="line"><span class="lineno">  181</span> </div>
<div class="line"><span class="lineno">  182</span>    <span class="comment">// 设置初始计数值(偏移 0x380)</span></div>
<div class="line"><span class="lineno">  183</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a83c268b9d948a8d927a2a8c18af3cb24">kXApicTimerInitCountOffset</a>, initial_count);</div>
<div class="line"><span class="lineno">  184</span>  }</div>
<div class="line"><span class="lineno">  185</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a67a0012a756e5d367a3deec4a564e09f"><div class="ttname"><a href="classLocalApic.html#a67a0012a756e5d367a3deec4a564e09f">LocalApic::kXApicTimerDivideOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicTimerDivideOffset</div><div class="ttdoc">定时器分频寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00181">local_apic.h:181</a></div></div>
<div class="ttc" id="aclassLocalApic_html_ae005fc91e7686c2d70626f46c1150fa8"><div class="ttname"><a href="classLocalApic.html#ae005fc91e7686c2d70626f46c1150fa8">LocalApic::kLvtPeriodicMode</a></div><div class="ttdeci">static constexpr uint32_t kLvtPeriodicMode</div><div class="ttdoc">LVT 周期模式位</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00197">local_apic.h:197</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_ac60426a6345dfe7593b29c22b0888115_icgraph.png" border="0" usemap="#aclassLocalApic_ac60426a6345dfe7593b29c22b0888115_icgraph" alt=""/></div>
<map name="aclassLocalApic_ac60426a6345dfe7593b29c22b0888115_icgraph" id="aclassLocalApic_ac60426a6345dfe7593b29c22b0888115_icgraph">
<area shape="rect" title="启用 Local APIC 定时器" alt="" coords="509,35,684,60"/>
<area shape="rect" href="classLocalApic.html#a173b8d0e61f0151dbcaa8577cb22facd" title="设置单次定时器" alt="" coords="239,5,461,31"/>
<area shape="poly" title=" " alt="" coords="495,38,457,33,457,28,496,33"/>
<area shape="rect" href="classLocalApic.html#a70fc2b687411b08b0b2ad8b913b9ddb4" title="设置周期性定时器" alt="" coords="259,55,441,95"/>
<area shape="poly" title=" " alt="" coords="496,61,441,68,440,62,495,56"/>
<area shape="rect" href="classApic.html#a91da5ed274fac8574ed249557d284100" title="设置 Local APIC 定时器" alt="" coords="5,63,191,88"/>
<area shape="poly" title=" " alt="" coords="245,78,191,78,191,73,245,73"/>
</map>
</div>

</div>
</div>
<a id="a3f7b7c00383f231e77c8b33ff340a2f9" name="a3f7b7c00383f231e77c8b33ff340a2f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3f7b7c00383f231e77c8b33ff340a2f9">&#9670;&#160;</a></span>EnableX2Apic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::EnableX2Apic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>启用 x2APIC 模式 </p>
<dl class="section return"><dt>Returns</dt><dd>true 启用成功 </dd>
<dd>
false 启用失败 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00407">407</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  407</span>                                   {</div>
<div class="line"><span class="lineno">  408</span>  <span class="comment">// 检查 CPU 是否支持 x2APIC</span></div>
<div class="line"><span class="lineno">  409</span>  <span class="keywordflow">if</span> (!<a class="code hl_function" href="classLocalApic.html#a6825aa2604f305f89053d5e31d5ec52e">CheckX2ApicSupport</a>()) {</div>
<div class="line"><span class="lineno">  410</span>    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  411</span>  }</div>
<div class="line"><span class="lineno">  412</span> </div>
<div class="line"><span class="lineno">  413</span>  <span class="comment">// 设置 IA32_APIC_BASE.x2APIC_Enable (位10) = 1</span></div>
<div class="line"><span class="lineno">  414</span>  <span class="comment">// 同时确保 IA32_APIC_BASE.Global_Enable (位11) = 1</span></div>
<div class="line"><span class="lineno">  415</span>  cpu_io::msr::apic::EnableX2Apic();</div>
<div class="line"><span class="lineno">  416</span> </div>
<div class="line"><span class="lineno">  417</span>  <span class="comment">// 验证 x2APIC 是否成功启用</span></div>
<div class="line"><span class="lineno">  418</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb">IsX2ApicEnabled</a>();</div>
<div class="line"><span class="lineno">  419</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a6825aa2604f305f89053d5e31d5ec52e"><div class="ttname"><a href="classLocalApic.html#a6825aa2604f305f89053d5e31d5ec52e">LocalApic::CheckX2ApicSupport</a></div><div class="ttdeci">auto CheckX2ApicSupport() const -&gt; bool</div><div class="ttdoc">检查 CPU 是否支持 x2APIC</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00383">local_apic.cpp:383</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a3f7b7c00383f231e77c8b33ff340a2f9_cgraph.png" border="0" usemap="#aclassLocalApic_a3f7b7c00383f231e77c8b33ff340a2f9_cgraph" alt=""/></div>
<map name="aclassLocalApic_a3f7b7c00383f231e77c8b33ff340a2f9_cgraph" id="aclassLocalApic_a3f7b7c00383f231e77c8b33ff340a2f9_cgraph">
<area shape="rect" title="启用 x2APIC 模式" alt="" coords="5,31,187,56"/>
<area shape="rect" href="classLocalApic.html#a6825aa2604f305f89053d5e31d5ec52e" title="检查 CPU 是否支持 x2APIC" alt="" coords="235,5,461,31"/>
<area shape="poly" title=" " alt="" coords="187,32,221,28,221,33,187,37"/>
<area shape="rect" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb" title="检查 x2APIC 是否启用" alt="" coords="248,55,448,80"/>
<area shape="poly" title=" " alt="" coords="187,49,234,54,234,59,187,55"/>
</map>
</div>

</div>
</div>
<a id="a385380dd373545bb139e0a36068c46fc" name="a385380dd373545bb139e0a36068c46fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a385380dd373545bb139e0a36068c46fc">&#9670;&#160;</a></span>EnableXApic()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::EnableXApic </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>启用传统 xAPIC 模式 </p>
<dl class="section return"><dt>Returns</dt><dd>true 启用成功 </dd>
<dd>
false 启用失败 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00387">387</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  387</span>                                  {</div>
<div class="line"><span class="lineno">  388</span>  <span class="comment">// 设置 IA32_APIC_BASE.Global_Enable (位11) = 1</span></div>
<div class="line"><span class="lineno">  389</span>  cpu_io::msr::apic::EnableGlobally();</div>
<div class="line"><span class="lineno">  390</span>  <span class="comment">// 清除 IA32_APIC_BASE.x2APIC_Enable (位10) = 0</span></div>
<div class="line"><span class="lineno">  391</span>  cpu_io::msr::apic::DisableX2Apic();</div>
<div class="line"><span class="lineno">  392</span>  <span class="keywordflow">return</span> <a class="code hl_function" href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca">IsXApicEnabled</a>();</div>
<div class="line"><span class="lineno">  393</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a385380dd373545bb139e0a36068c46fc_cgraph.png" border="0" usemap="#aclassLocalApic_a385380dd373545bb139e0a36068c46fc_cgraph" alt=""/></div>
<map name="aclassLocalApic_a385380dd373545bb139e0a36068c46fc_cgraph" id="aclassLocalApic_a385380dd373545bb139e0a36068c46fc_cgraph">
<area shape="rect" title="启用传统 xAPIC 模式" alt="" coords="5,5,179,31"/>
<area shape="rect" href="classLocalApic.html#ae58be5b508f31713e48075f27e0c77ca" title="检查传统 xAPIC 是否启用" alt="" coords="227,5,419,31"/>
<area shape="poly" title=" " alt="" coords="179,15,213,15,213,21,179,21"/>
</map>
</div>

</div>
</div>
<a id="a5d8915494fa6031ccde79ee1b24cdbf6" name="a5d8915494fa6031ccde79ee1b24cdbf6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d8915494fa6031ccde79ee1b24cdbf6">&#9670;&#160;</a></span>GetApicVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LocalApic::GetApicVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取 APIC 版本信息 </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t APIC 版本 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00064">64</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   64</span>                                         {</div>
<div class="line"><span class="lineno">   65</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordflow">return</span> cpu_io::msr::apic::ReadVersion();</div>
<div class="line"><span class="lineno">   67</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   68</span>    <span class="comment">// 版本寄存器在偏移 0x30 处</span></div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">return</span> io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a2c95f180e6487eb42ef2031f645d085f">kXApicVersionOffset</a>);</div>
<div class="line"><span class="lineno">   70</span>  }</div>
<div class="line"><span class="lineno">   71</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a2c95f180e6487eb42ef2031f645d085f"><div class="ttname"><a href="classLocalApic.html#a2c95f180e6487eb42ef2031f645d085f">LocalApic::kXApicVersionOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicVersionOffset</div><div class="ttdoc">版本寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00155">local_apic.h:155</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a5d8915494fa6031ccde79ee1b24cdbf6_icgraph.png" border="0" usemap="#aclassLocalApic_a5d8915494fa6031ccde79ee1b24cdbf6_icgraph" alt=""/></div>
<map name="aclassLocalApic_a5d8915494fa6031ccde79ee1b24cdbf6_icgraph" id="aclassLocalApic_a5d8915494fa6031ccde79ee1b24cdbf6_icgraph">
<area shape="rect" title="获取 APIC 版本信息" alt="" coords="361,5,552,31"/>
<area shape="rect" href="classLocalApic.html#af0eac16550b73a6d87d505bf3295d62c" title="打印 Local APIC 信息（调试用）" alt="" coords="167,5,313,31"/>
<area shape="poly" title=" " alt="" coords="347,21,313,21,313,15,347,15"/>
<area shape="rect" href="classApic.html#aba1c25d1561d3d5aefdd434290da39f5" title="打印所有 APIC 信息（调试用）" alt="" coords="5,5,119,31"/>
<area shape="poly" title=" " alt="" coords="153,21,119,21,119,15,153,15"/>
</map>
</div>

</div>
</div>
<a id="a933b92b105f223a4e31cab92958dedba" name="a933b92b105f223a4e31cab92958dedba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a933b92b105f223a4e31cab92958dedba">&#9670;&#160;</a></span>GetTaskPriority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t LocalApic::GetTaskPriority </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint8_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取任务优先级 </p>
<dl class="section return"><dt>Returns</dt><dd>uint8_t 当前任务优先级 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00149">149</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  149</span>                                         {</div>
<div class="line"><span class="lineno">  150</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(cpu_io::msr::apic::ReadTpr() &amp; <a class="code hl_variable" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a>);</div>
<div class="line"><span class="lineno">  152</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  153</span>    <span class="keyword">auto</span> tpr = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a4e7d6d9f1e2a9d1eb74c0d86fd984d2c">kXApicTprOffset</a>);</div>
<div class="line"><span class="lineno">  154</span>    <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>uint8_t<span class="keyword">&gt;</span>(tpr &amp; <a class="code hl_variable" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a>);</div>
<div class="line"><span class="lineno">  155</span>  }</div>
<div class="line"><span class="lineno">  156</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a4e7d6d9f1e2a9d1eb74c0d86fd984d2c"><div class="ttname"><a href="classLocalApic.html#a4e7d6d9f1e2a9d1eb74c0d86fd984d2c">LocalApic::kXApicTprOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicTprOffset</div><div class="ttdoc">任务优先级寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00157">local_apic.h:157</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a539a57e81b47d6c352d9d187b0f095cf"><div class="ttname"><a href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">LocalApic::kApicIdMask</a></div><div class="ttdeci">static constexpr uint32_t kApicIdMask</div><div class="ttdoc">xAPIC ID 掩码</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00189">local_apic.h:189</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a933b92b105f223a4e31cab92958dedba_icgraph.png" border="0" usemap="#aclassLocalApic_a933b92b105f223a4e31cab92958dedba_icgraph" alt=""/></div>
<map name="aclassLocalApic_a933b92b105f223a4e31cab92958dedba_icgraph" id="aclassLocalApic_a933b92b105f223a4e31cab92958dedba_icgraph">
<area shape="rect" title="获取任务优先级" alt="" coords="361,5,552,31"/>
<area shape="rect" href="classLocalApic.html#af0eac16550b73a6d87d505bf3295d62c" title="打印 Local APIC 信息（调试用）" alt="" coords="167,5,313,31"/>
<area shape="poly" title=" " alt="" coords="347,21,313,21,313,15,347,15"/>
<area shape="rect" href="classApic.html#aba1c25d1561d3d5aefdd434290da39f5" title="打印所有 APIC 信息（调试用）" alt="" coords="5,5,119,31"/>
<area shape="poly" title=" " alt="" coords="153,21,119,21,119,15,153,15"/>
</map>
</div>

</div>
</div>
<a id="a579ae8f114ab23ac92d830ebbfeb3518" name="a579ae8f114ab23ac92d830ebbfeb3518"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a579ae8f114ab23ac92d830ebbfeb3518">&#9670;&#160;</a></span>GetTimerCurrentCount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LocalApic::GetTimerCurrentCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>获取定时器当前计数值 </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t 当前计数值 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00201">201</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  201</span>                                               {</div>
<div class="line"><span class="lineno">  202</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  203</span>    <span class="keywordflow">return</span> cpu_io::msr::apic::ReadTimerCurrCount();</div>
<div class="line"><span class="lineno">  204</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  205</span>    <span class="comment">// 当前计数寄存器在偏移 0x390 处</span></div>
<div class="line"><span class="lineno">  206</span>    <span class="keywordflow">return</span> io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a1dc622544490847b77efa2387660629b">kXApicTimerCurrCountOffset</a>);</div>
<div class="line"><span class="lineno">  207</span>  }</div>
<div class="line"><span class="lineno">  208</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a1dc622544490847b77efa2387660629b"><div class="ttname"><a href="classLocalApic.html#a1dc622544490847b77efa2387660629b">LocalApic::kXApicTimerCurrCountOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicTimerCurrCountOffset</div><div class="ttdoc">定时器当前计数寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00179">local_apic.h:179</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a579ae8f114ab23ac92d830ebbfeb3518_icgraph.png" border="0" usemap="#aclassLocalApic_a579ae8f114ab23ac92d830ebbfeb3518_icgraph" alt=""/></div>
<map name="aclassLocalApic_a579ae8f114ab23ac92d830ebbfeb3518_icgraph" id="aclassLocalApic_a579ae8f114ab23ac92d830ebbfeb3518_icgraph">
<area shape="rect" title="获取定时器当前计数值" alt="" coords="361,5,563,45"/>
<area shape="rect" href="classLocalApic.html#af0eac16550b73a6d87d505bf3295d62c" title="打印 Local APIC 信息（调试用）" alt="" coords="167,13,313,38"/>
<area shape="poly" title=" " alt="" coords="348,28,313,28,313,23,348,23"/>
<area shape="rect" href="classApic.html#aba1c25d1561d3d5aefdd434290da39f5" title="打印所有 APIC 信息（调试用）" alt="" coords="5,13,119,38"/>
<area shape="poly" title=" " alt="" coords="153,28,119,28,119,23,153,23"/>
</map>
</div>

</div>
</div>
<a id="ad94b3e7dc5659cd5bf9378cf9fa308dc" name="ad94b3e7dc5659cd5bf9378cf9fa308dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad94b3e7dc5659cd5bf9378cf9fa308dc">&#9670;&#160;</a></span>Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto LocalApic::Init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt;void&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>初始化 Local APIC </p>
<dl class="section return"><dt>Returns</dt><dd>Expected&lt;void&gt; 初始化成功返回空值，失败返回错误</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright The SimpleKernel Contributors </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00009">9</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span>                                       {</div>
<div class="line"><span class="lineno">   10</span>  <span class="comment">// 检查 APIC 是否全局启用</span></div>
<div class="line"><span class="lineno">   11</span>  <span class="keywordflow">if</span> (!cpu_io::msr::apic::IsGloballyEnabled()) {</div>
<div class="line"><span class="lineno">   12</span>    cpu_io::msr::apic::EnableGlobally();</div>
<div class="line"><span class="lineno">   13</span>  }</div>
<div class="line"><span class="lineno">   14</span> </div>
<div class="line"><span class="lineno">   15</span>  <span class="comment">// 首先尝试启用 x2APIC 模式</span></div>
<div class="line"><span class="lineno">   16</span>  <span class="keywordflow">if</span> (<a class="code hl_function" href="classLocalApic.html#a3f7b7c00383f231e77c8b33ff340a2f9">EnableX2Apic</a>()) {</div>
<div class="line"><span class="lineno">   17</span>    <a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   18</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   19</span>    <span class="keywordflow">if</span> (!<a class="code hl_function" href="classLocalApic.html#a385380dd373545bb139e0a36068c46fc">EnableXApic</a>()) {</div>
<div class="line"><span class="lineno">   20</span>      <a class="code hl_struct" href="structklog_1_1Err.html">klog::Err</a>(<span class="stringliteral">&quot;Failed to enable APIC in any mode\n&quot;</span>);</div>
<div class="line"><span class="lineno">   21</span>      <span class="keywordflow">return</span> std::unexpected(<a class="code hl_struct" href="structError.html">Error</a>(<a class="code hl_enumvalue" href="expected_8hpp.html#a4d45a9675d1bf454764383179f3c895fad92a0fb89b771039bda66b5d8726d5d4">ErrorCode::kApicInitFailed</a>));</div>
<div class="line"><span class="lineno">   22</span>    }</div>
<div class="line"><span class="lineno">   23</span>    <a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a> = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">   24</span>  }</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>  <span class="comment">// 启用 Local APIC(通过设置 SIVR)</span></div>
<div class="line"><span class="lineno">   27</span>  uint32_t sivr;</div>
<div class="line"><span class="lineno">   28</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   29</span>    sivr = cpu_io::msr::apic::ReadSivr();</div>
<div class="line"><span class="lineno">   30</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   31</span>    sivr = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a2f1b868d6d1f37f3a1e61d23d84cc05b">kXApicSivrOffset</a>);</div>
<div class="line"><span class="lineno">   32</span>  }</div>
<div class="line"><span class="lineno">   33</span> </div>
<div class="line"><span class="lineno">   34</span>  <span class="comment">// 设置 APIC Software Enable 位</span></div>
<div class="line"><span class="lineno">   35</span>  sivr |= <a class="code hl_variable" href="classLocalApic.html#a2699706a3c2b0dd4b351e4a4890dc679">kApicSoftwareEnableBit</a>;</div>
<div class="line"><span class="lineno">   36</span>  <span class="comment">// 设置虚假中断向量为 0xFF</span></div>
<div class="line"><span class="lineno">   37</span>  sivr |= <a class="code hl_variable" href="classLocalApic.html#a5c5ad4a79967cb4aedf6955ecd1606db">kSpuriousVector</a>;</div>
<div class="line"><span class="lineno">   38</span> </div>
<div class="line"><span class="lineno">   39</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   40</span>    cpu_io::msr::apic::WriteSivr(sivr);</div>
<div class="line"><span class="lineno">   41</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   42</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a2f1b868d6d1f37f3a1e61d23d84cc05b">kXApicSivrOffset</a>, sivr);</div>
<div class="line"><span class="lineno">   43</span>  }</div>
<div class="line"><span class="lineno">   44</span> </div>
<div class="line"><span class="lineno">   45</span>  <span class="comment">// 清除任务优先级</span></div>
<div class="line"><span class="lineno">   46</span>  <a class="code hl_function" href="classLocalApic.html#a37c7f90ad3933cce3ca36ff2a6370593">SetTaskPriority</a>(0);</div>
<div class="line"><span class="lineno">   47</span> </div>
<div class="line"><span class="lineno">   48</span>  <span class="comment">// 禁用所有 LVT 条目(设置 mask 位)</span></div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   50</span>    cpu_io::msr::apic::WriteLvtTimer(<a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   51</span>    cpu_io::msr::apic::WriteLvtLint0(<a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   52</span>    cpu_io::msr::apic::WriteLvtLint1(<a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   53</span>    cpu_io::msr::apic::WriteLvtError(<a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   54</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   55</span>    <span class="comment">// xAPIC 模式下通过内存映射写入</span></div>
<div class="line"><span class="lineno">   56</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a>, <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   57</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a0b0e7fd16a723057766596953363bbf5">kXApicLvtLint0Offset</a>, <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   58</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34b2b41f250ef010adfe4c1fe680a53d">kXApicLvtLint1Offset</a>, <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   59</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a8c7af96d0822ef425029761b383195b5">kXApicLvtErrorOffset</a>, <a class="code hl_variable" href="classLocalApic.html#a6b0f3174fb096b99ee386a0a9c40f933">kLvtMaskBit</a>);</div>
<div class="line"><span class="lineno">   60</span>  }</div>
<div class="line"><span class="lineno">   61</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">   62</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a2699706a3c2b0dd4b351e4a4890dc679"><div class="ttname"><a href="classLocalApic.html#a2699706a3c2b0dd4b351e4a4890dc679">LocalApic::kApicSoftwareEnableBit</a></div><div class="ttdeci">static constexpr uint32_t kApicSoftwareEnableBit</div><div class="ttdoc">APIC 软件启用位</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00191">local_apic.h:191</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a2f1b868d6d1f37f3a1e61d23d84cc05b"><div class="ttname"><a href="classLocalApic.html#a2f1b868d6d1f37f3a1e61d23d84cc05b">LocalApic::kXApicSivrOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicSivrOffset</div><div class="ttdoc">虚假中断向量寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00161">local_apic.h:161</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a37c7f90ad3933cce3ca36ff2a6370593"><div class="ttname"><a href="classLocalApic.html#a37c7f90ad3933cce3ca36ff2a6370593">LocalApic::SetTaskPriority</a></div><div class="ttdeci">void SetTaskPriority(uint8_t priority) const</div><div class="ttdoc">设置任务优先级</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00140">local_apic.cpp:140</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a385380dd373545bb139e0a36068c46fc"><div class="ttname"><a href="classLocalApic.html#a385380dd373545bb139e0a36068c46fc">LocalApic::EnableXApic</a></div><div class="ttdeci">auto EnableXApic() const -&gt; bool</div><div class="ttdoc">启用传统 xAPIC 模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00387">local_apic.cpp:387</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a3f7b7c00383f231e77c8b33ff340a2f9"><div class="ttname"><a href="classLocalApic.html#a3f7b7c00383f231e77c8b33ff340a2f9">LocalApic::EnableX2Apic</a></div><div class="ttdeci">auto EnableX2Apic() const -&gt; bool</div><div class="ttdoc">启用 x2APIC 模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00407">local_apic.cpp:407</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a5c5ad4a79967cb4aedf6955ecd1606db"><div class="ttname"><a href="classLocalApic.html#a5c5ad4a79967cb4aedf6955ecd1606db">LocalApic::kSpuriousVector</a></div><div class="ttdeci">static constexpr uint32_t kSpuriousVector</div><div class="ttdoc">虚假中断向量</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00193">local_apic.h:193</a></div></div>
<div class="ttc" id="aexpected_8hpp_html_a4d45a9675d1bf454764383179f3c895fad92a0fb89b771039bda66b5d8726d5d4"><div class="ttname"><a href="expected_8hpp.html#a4d45a9675d1bf454764383179f3c895fad92a0fb89b771039bda66b5d8726d5d4">ErrorCode::kApicInitFailed</a></div><div class="ttdeci">@ kApicInitFailed</div></div>
<div class="ttc" id="astructError_html"><div class="ttname"><a href="structError.html">Error</a></div><div class="ttdef"><b>Definition</b> <a href="expected_8hpp_source.html#l00150">expected.hpp:150</a></div></div>
<div class="ttc" id="astructklog_1_1Err_html"><div class="ttname"><a href="structklog_1_1Err.html">klog::Err</a></div><div class="ttdef"><b>Definition</b> <a href="kernel__log_8hpp_source.html#l00188">kernel_log.hpp:188</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="acec1f3c4dc919cdeac31f5ce3bf1bbeb" name="acec1f3c4dc919cdeac31f5ce3bf1bbeb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acec1f3c4dc919cdeac31f5ce3bf1bbeb">&#9670;&#160;</a></span>IsX2ApicEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::IsX2ApicEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>检查 x2APIC 是否启用 </p>
<dl class="section return"><dt>Returns</dt><dd>true x2APIC 已启用 </dd>
<dd>
false x2APIC 未启用 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00427">427</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  427</span>                                      {</div>
<div class="line"><span class="lineno">  428</span>  <span class="keywordflow">return</span> cpu_io::msr::apic::IsX2ApicEnabled();</div>
<div class="line"><span class="lineno">  429</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_acec1f3c4dc919cdeac31f5ce3bf1bbeb_icgraph.png" border="0" usemap="#aclassLocalApic_acec1f3c4dc919cdeac31f5ce3bf1bbeb_icgraph" alt=""/></div>
<map name="aclassLocalApic_acec1f3c4dc919cdeac31f5ce3bf1bbeb_icgraph" id="aclassLocalApic_acec1f3c4dc919cdeac31f5ce3bf1bbeb_icgraph">
<area shape="rect" title="检查 x2APIC 是否启用" alt="" coords="401,55,601,80"/>
<area shape="rect" href="classLocalApic.html#a9bd6e35272efaaf123b51cafa1e3804c" title="禁用 x2APIC 模式" alt="" coords="167,5,353,31"/>
<area shape="poly" title=" " alt="" coords="425,54,322,33,324,28,426,49"/>
<area shape="rect" href="classLocalApic.html#a3f7b7c00383f231e77c8b33ff340a2f9" title="启用 x2APIC 模式" alt="" coords="169,55,351,80"/>
<area shape="poly" title=" " alt="" coords="388,70,351,70,351,65,388,65"/>
<area shape="rect" href="classLocalApic.html#af0eac16550b73a6d87d505bf3295d62c" title="打印 Local APIC 信息（调试用）" alt="" coords="187,104,333,129"/>
<area shape="poly" title=" " alt="" coords="426,85,324,107,322,101,425,80"/>
<area shape="rect" href="classApic.html#aba1c25d1561d3d5aefdd434290da39f5" title="打印所有 APIC 信息（调试用）" alt="" coords="5,104,119,129"/>
<area shape="poly" title=" " alt="" coords="173,119,119,119,119,114,173,114"/>
</map>
</div>

</div>
</div>
<a id="ae58be5b508f31713e48075f27e0c77ca" name="ae58be5b508f31713e48075f27e0c77ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae58be5b508f31713e48075f27e0c77ca">&#9670;&#160;</a></span>IsXApicEnabled()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::IsXApicEnabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; bool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>检查传统 xAPIC 是否启用 </p>
<dl class="section return"><dt>Returns</dt><dd>true xAPIC 已启用 </dd>
<dd>
false xAPIC 未启用 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00401">401</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  401</span>                                     {</div>
<div class="line"><span class="lineno">  402</span>  <span class="comment">// Global_Enable = 1 &amp;&amp; x2APIC_Enable = 0</span></div>
<div class="line"><span class="lineno">  403</span>  <span class="keywordflow">return</span> cpu_io::msr::apic::IsGloballyEnabled() &amp;&amp;</div>
<div class="line"><span class="lineno">  404</span>         !cpu_io::msr::apic::IsX2ApicEnabled();</div>
<div class="line"><span class="lineno">  405</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_ae58be5b508f31713e48075f27e0c77ca_icgraph.png" border="0" usemap="#aclassLocalApic_ae58be5b508f31713e48075f27e0c77ca_icgraph" alt=""/></div>
<map name="aclassLocalApic_ae58be5b508f31713e48075f27e0c77ca_icgraph" id="aclassLocalApic_ae58be5b508f31713e48075f27e0c77ca_icgraph">
<area shape="rect" title="检查传统 xAPIC 是否启用" alt="" coords="232,31,424,56"/>
<area shape="rect" href="classLocalApic.html#a45d7661c506c12d8ac12222fefa33255" title="禁用传统 xAPIC 模式" alt="" coords="5,5,184,31"/>
<area shape="poly" title=" " alt="" coords="218,34,184,30,185,25,219,29"/>
<area shape="rect" href="classLocalApic.html#a385380dd373545bb139e0a36068c46fc" title="启用传统 xAPIC 模式" alt="" coords="8,55,181,80"/>
<area shape="poly" title=" " alt="" coords="218,57,182,61,181,56,218,52"/>
</map>
</div>

</div>
</div>
<a id="aa253056975473927353ca52652df7ab4" name="aa253056975473927353ca52652df7ab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa253056975473927353ca52652df7ab4">&#9670;&#160;</a></span>operator=() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto LocalApic::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classLocalApic.html">LocalApic</a> &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt;  <a class="el" href="classLocalApic.html">LocalApic</a> &amp;=delete</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">delete</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="aaeb3c946171901de69708595ec6d6e7f" name="aaeb3c946171901de69708595ec6d6e7f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaeb3c946171901de69708595ec6d6e7f">&#9670;&#160;</a></span>operator=() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">auto LocalApic::operator= </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classLocalApic.html">LocalApic</a> &amp;&amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> -&gt;  <a class="el" href="classLocalApic.html">LocalApic</a> &amp;=default</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="af0eac16550b73a6d87d505bf3295d62c" name="af0eac16550b73a6d87d505bf3295d62c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0eac16550b73a6d87d505bf3295d62c">&#9670;&#160;</a></span>PrintInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::PrintInfo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>打印 Local APIC 信息（调试用） </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00338">338</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  338</span>                                {</div>
<div class="line"><span class="lineno">  339</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;APIC Version: 0x%x\n&quot;</span>, <a class="code hl_function" href="classLocalApic.html#a5d8915494fa6031ccde79ee1b24cdbf6">GetApicVersion</a>());</div>
<div class="line"><span class="lineno">  340</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;Mode: %s\n&quot;</span>, <a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a> ? <span class="stringliteral">&quot;x2APIC&quot;</span> : <span class="stringliteral">&quot;xAPIC&quot;</span>);</div>
<div class="line"><span class="lineno">  341</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;x2APIC Enabled: %s\n&quot;</span>, <a class="code hl_function" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb">IsX2ApicEnabled</a>() ? <span class="stringliteral">&quot;Yes&quot;</span> : <span class="stringliteral">&quot;No&quot;</span>);</div>
<div class="line"><span class="lineno">  342</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;Task Priority: 0x%x\n&quot;</span>, <a class="code hl_function" href="classLocalApic.html#a933b92b105f223a4e31cab92958dedba">GetTaskPriority</a>());</div>
<div class="line"><span class="lineno">  343</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;Timer Current Count: %u\n&quot;</span>, <a class="code hl_function" href="classLocalApic.html#a579ae8f114ab23ac92d830ebbfeb3518">GetTimerCurrentCount</a>());</div>
<div class="line"><span class="lineno">  344</span> </div>
<div class="line"><span class="lineno">  345</span>  <span class="comment">// 读取各种寄存器状态</span></div>
<div class="line"><span class="lineno">  346</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  347</span>    uint32_t sivr = cpu_io::msr::apic::ReadSivr();</div>
<div class="line"><span class="lineno">  348</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;SIVR: 0x%x (APIC %s)\n&quot;</span>, sivr,</div>
<div class="line"><span class="lineno">  349</span>               (sivr &amp; <a class="code hl_variable" href="classLocalApic.html#a2699706a3c2b0dd4b351e4a4890dc679">kApicSoftwareEnableBit</a>) ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>);</div>
<div class="line"><span class="lineno">  350</span> </div>
<div class="line"><span class="lineno">  351</span>    uint32_t lvt_timer = cpu_io::msr::apic::ReadLvtTimer();</div>
<div class="line"><span class="lineno">  352</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT Timer: 0x%x\n&quot;</span>, lvt_timer);</div>
<div class="line"><span class="lineno">  353</span> </div>
<div class="line"><span class="lineno">  354</span>    uint32_t lvt_lint0 = cpu_io::msr::apic::ReadLvtLint0();</div>
<div class="line"><span class="lineno">  355</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT LINT0: 0x%x\n&quot;</span>, lvt_lint0);</div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>    uint32_t lvt_lint1 = cpu_io::msr::apic::ReadLvtLint1();</div>
<div class="line"><span class="lineno">  358</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT LINT1: 0x%x\n&quot;</span>, lvt_lint1);</div>
<div class="line"><span class="lineno">  359</span> </div>
<div class="line"><span class="lineno">  360</span>    uint32_t lvt_error = cpu_io::msr::apic::ReadLvtError();</div>
<div class="line"><span class="lineno">  361</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT Error: 0x%x\n&quot;</span>, lvt_error);</div>
<div class="line"><span class="lineno">  362</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  363</span>    uint32_t sivr = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a2f1b868d6d1f37f3a1e61d23d84cc05b">kXApicSivrOffset</a>);</div>
<div class="line"><span class="lineno">  364</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;SIVR: 0x%x (APIC %s)\n&quot;</span>, sivr,</div>
<div class="line"><span class="lineno">  365</span>               (sivr &amp; <a class="code hl_variable" href="classLocalApic.html#a2699706a3c2b0dd4b351e4a4890dc679">kApicSoftwareEnableBit</a>) ? <span class="stringliteral">&quot;Enabled&quot;</span> : <span class="stringliteral">&quot;Disabled&quot;</span>);</div>
<div class="line"><span class="lineno">  366</span> </div>
<div class="line"><span class="lineno">  367</span>    uint32_t lvt_timer = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aeecdfbc459bb53490b50ef3ff0652c27">kXApicLvtTimerOffset</a>);</div>
<div class="line"><span class="lineno">  368</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT Timer: 0x%x\n&quot;</span>, lvt_timer);</div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>    uint32_t lvt_lint0 = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a0b0e7fd16a723057766596953363bbf5">kXApicLvtLint0Offset</a>);</div>
<div class="line"><span class="lineno">  371</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT LINT0: 0x%x\n&quot;</span>, lvt_lint0);</div>
<div class="line"><span class="lineno">  372</span> </div>
<div class="line"><span class="lineno">  373</span>    uint32_t lvt_lint1 = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34b2b41f250ef010adfe4c1fe680a53d">kXApicLvtLint1Offset</a>);</div>
<div class="line"><span class="lineno">  374</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT LINT1: 0x%x\n&quot;</span>, lvt_lint1);</div>
<div class="line"><span class="lineno">  375</span> </div>
<div class="line"><span class="lineno">  376</span>    uint32_t lvt_error = io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a8c7af96d0822ef425029761b383195b5">kXApicLvtErrorOffset</a>);</div>
<div class="line"><span class="lineno">  377</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;LVT Error: 0x%x\n&quot;</span>, lvt_error);</div>
<div class="line"><span class="lineno">  378</span> </div>
<div class="line"><span class="lineno">  379</span>    <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;APIC Base Address: 0x%lx\n&quot;</span>, <a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a>);</div>
<div class="line"><span class="lineno">  380</span>  }</div>
<div class="line"><span class="lineno">  381</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a579ae8f114ab23ac92d830ebbfeb3518"><div class="ttname"><a href="classLocalApic.html#a579ae8f114ab23ac92d830ebbfeb3518">LocalApic::GetTimerCurrentCount</a></div><div class="ttdeci">auto GetTimerCurrentCount() const -&gt; uint32_t</div><div class="ttdoc">获取定时器当前计数值</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00201">local_apic.cpp:201</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a5d8915494fa6031ccde79ee1b24cdbf6"><div class="ttname"><a href="classLocalApic.html#a5d8915494fa6031ccde79ee1b24cdbf6">LocalApic::GetApicVersion</a></div><div class="ttdeci">auto GetApicVersion() const -&gt; uint32_t</div><div class="ttdoc">获取 APIC 版本信息</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00064">local_apic.cpp:64</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a933b92b105f223a4e31cab92958dedba"><div class="ttname"><a href="classLocalApic.html#a933b92b105f223a4e31cab92958dedba">LocalApic::GetTaskPriority</a></div><div class="ttdeci">auto GetTaskPriority() const -&gt; uint8_t</div><div class="ttdoc">获取任务优先级</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00149">local_apic.cpp:149</a></div></div>
<div class="ttc" id="astructklog_1_1Info_html"><div class="ttname"><a href="structklog_1_1Info.html">klog::Info</a></div><div class="ttdef"><b>Definition</b> <a href="kernel__log_8hpp_source.html#l00168">kernel_log.hpp:168</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_af0eac16550b73a6d87d505bf3295d62c_cgraph.png" border="0" usemap="#aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_cgraph" alt=""/></div>
<map name="aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_cgraph" id="aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_cgraph">
<area shape="rect" title="打印 Local APIC 信息（调试用）" alt="" coords="5,84,152,109"/>
<area shape="rect" href="classLocalApic.html#a5d8915494fa6031ccde79ee1b24cdbf6" title="获取 APIC 版本信息" alt="" coords="205,5,396,31"/>
<area shape="poly" title=" " alt="" coords="103,82,147,60,199,39,224,32,226,37,201,45,149,65,105,86"/>
<area shape="rect" href="classLocalApic.html#a933b92b105f223a4e31cab92958dedba" title="获取任务优先级" alt="" coords="205,55,396,80"/>
<area shape="poly" title=" " alt="" coords="152,84,191,79,192,84,153,90"/>
<area shape="rect" href="classLocalApic.html#a579ae8f114ab23ac92d830ebbfeb3518" title="获取定时器当前计数值" alt="" coords="200,105,401,145"/>
<area shape="poly" title=" " alt="" coords="153,103,187,108,186,113,152,109"/>
<area shape="rect" href="classLocalApic.html#acec1f3c4dc919cdeac31f5ce3bf1bbeb" title="检查 x2APIC 是否启用" alt="" coords="201,169,401,195"/>
<area shape="poly" title=" " alt="" coords="103,107,148,131,201,154,229,163,227,168,199,159,145,135,101,112"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_af0eac16550b73a6d87d505bf3295d62c_icgraph.png" border="0" usemap="#aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_icgraph" alt=""/></div>
<map name="aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_icgraph" id="aclassLocalApic_af0eac16550b73a6d87d505bf3295d62c_icgraph">
<area shape="rect" title="打印 Local APIC 信息（调试用）" alt="" coords="167,5,313,31"/>
<area shape="rect" href="classApic.html#aba1c25d1561d3d5aefdd434290da39f5" title="打印所有 APIC 信息（调试用）" alt="" coords="5,5,119,31"/>
<area shape="poly" title=" " alt="" coords="153,21,119,21,119,15,153,15"/>
</map>
</div>

</div>
</div>
<a id="a7b794f0d860279704fb96704535a0063" name="a7b794f0d860279704fb96704535a0063"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b794f0d860279704fb96704535a0063">&#9670;&#160;</a></span>ReadErrorStatus()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t LocalApic::ReadErrorStatus </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const -&gt; uint32_t</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>读取错误状态 </p>
<dl class="section return"><dt>Returns</dt><dd>uint32_t 错误状态寄存器值 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00325">325</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  325</span>                                          {</div>
<div class="line"><span class="lineno">  326</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  327</span>    <span class="comment">// x2APIC 模式下没有直接的 ESR 访问方式</span></div>
<div class="line"><span class="lineno">  328</span>    <span class="comment">// 这里返回 0 表示没有错误</span></div>
<div class="line"><span class="lineno">  329</span>    <span class="keywordflow">return</span> 0;</div>
<div class="line"><span class="lineno">  330</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  331</span>    <span class="comment">// 取 ESR (Error Status Register, 偏移 0x280)</span></div>
<div class="line"><span class="lineno">  332</span>    <span class="comment">// 读取 ESR 之前需要先写入 0</span></div>
<div class="line"><span class="lineno">  333</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a304ca65520b6499cd497c29ccf443c2b">kXApicEsrOffset</a>, 0);</div>
<div class="line"><span class="lineno">  334</span>    <span class="keywordflow">return</span> io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a304ca65520b6499cd497c29ccf443c2b">kXApicEsrOffset</a>);</div>
<div class="line"><span class="lineno">  335</span>  }</div>
<div class="line"><span class="lineno">  336</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a304ca65520b6499cd497c29ccf443c2b"><div class="ttname"><a href="classLocalApic.html#a304ca65520b6499cd497c29ccf443c2b">LocalApic::kXApicEsrOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicEsrOffset</div><div class="ttdoc">错误状态寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00163">local_apic.h:163</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ab0f2c45bb617c223d86319edc0c1e005" name="ab0f2c45bb617c223d86319edc0c1e005"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab0f2c45bb617c223d86319edc0c1e005">&#9670;&#160;</a></span>SendEoi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SendEoi </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发送中断结束信号 (EOI) </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00073">73</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>                              {</div>
<div class="line"><span class="lineno">   74</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   75</span>    cpu_io::msr::apic::WriteEoi(0);</div>
<div class="line"><span class="lineno">   76</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   77</span>    <span class="comment">// 写入 EOI 寄存器(偏移 0xB0)</span></div>
<div class="line"><span class="lineno">   78</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a12117eb68567c31ba32a8388f01c3298">kXApicEoiOffset</a>, 0);</div>
<div class="line"><span class="lineno">   79</span>  }</div>
<div class="line"><span class="lineno">   80</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a12117eb68567c31ba32a8388f01c3298"><div class="ttname"><a href="classLocalApic.html#a12117eb68567c31ba32a8388f01c3298">LocalApic::kXApicEoiOffset</a></div><div class="ttdeci">static constexpr uint32_t kXApicEoiOffset</div><div class="ttdoc">EOI 寄存器偏移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00159">local_apic.h:159</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_ab0f2c45bb617c223d86319edc0c1e005_icgraph.png" border="0" usemap="#aclassLocalApic_ab0f2c45bb617c223d86319edc0c1e005_icgraph" alt=""/></div>
<map name="aclassLocalApic_ab0f2c45bb617c223d86319edc0c1e005_icgraph" id="aclassLocalApic_ab0f2c45bb617c223d86319edc0c1e005_icgraph">
<area shape="rect" title="发送中断结束信号 (EOI)" alt="" coords="164,5,308,31"/>
<area shape="rect" href="classApic.html#ad78648056423720100a4ccc8fc629cd3" title="发送 EOI 信号给当前 CPU 的 Local APIC" alt="" coords="5,5,116,31"/>
<area shape="poly" title=" " alt="" coords="150,21,116,21,116,15,150,15"/>
</map>
</div>

</div>
</div>
<a id="a6b837d6e2763369280afc50976b1064a" name="a6b837d6e2763369280afc50976b1064a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b837d6e2763369280afc50976b1064a">&#9670;&#160;</a></span>SendInitIpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SendInitIpi </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destination_apic_id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发送 INIT IPI </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination_apic_id</td><td>目标 APIC ID </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00247">247</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  247</span>                                                              {</div>
<div class="line"><span class="lineno">  248</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  249</span>    <span class="keyword">auto</span> icr = <a class="code hl_variable" href="classLocalApic.html#ab2eb29834e6af43ecb26fc60702d6161">kInitIpiMode</a>;</div>
<div class="line"><span class="lineno">  250</span>    icr |= <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(destination_apic_id) &lt;&lt; 32;</div>
<div class="line"><span class="lineno">  251</span> </div>
<div class="line"><span class="lineno">  252</span>    cpu_io::msr::apic::WriteIcr(icr);</div>
<div class="line"><span class="lineno">  253</span> </div>
<div class="line"><span class="lineno">  254</span>    <span class="keywordflow">while</span> ((cpu_io::msr::apic::ReadIcr() &amp; <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  255</span>      ;</div>
<div class="line"><span class="lineno">  256</span>    }</div>
<div class="line"><span class="lineno">  257</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  258</span>    <span class="comment">// 设置目标 APIC ID(ICR_HIGH)</span></div>
<div class="line"><span class="lineno">  259</span>    <span class="keyword">auto</span> icr_high = (destination_apic_id &amp; <a class="code hl_variable" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a>) &lt;&lt; <a class="code hl_variable" href="classLocalApic.html#a0e39371e01acd73f35fe96b8111b32f9">kIcrDestShift</a>;</div>
<div class="line"><span class="lineno">  260</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">kXApicIcrHighOffset</a>, icr_high);</div>
<div class="line"><span class="lineno">  261</span> </div>
<div class="line"><span class="lineno">  262</span>    <span class="comment">// 发送 INIT IPI(ICR_LOW)</span></div>
<div class="line"><span class="lineno">  263</span>    <span class="keyword">auto</span> icr_low = <a class="code hl_variable" href="classLocalApic.html#ab2eb29834e6af43ecb26fc60702d6161">kInitIpiMode</a>;</div>
<div class="line"><span class="lineno">  264</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>, icr_low);</div>
<div class="line"><span class="lineno">  265</span> </div>
<div class="line"><span class="lineno">  266</span>    <span class="keywordflow">while</span> ((io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>) &amp;</div>
<div class="line"><span class="lineno">  267</span>            <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  268</span>      ;</div>
<div class="line"><span class="lineno">  269</span>    }</div>
<div class="line"><span class="lineno">  270</span>  }</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;INIT IPI sent to APIC ID 0x%x\n&quot;</span>, destination_apic_id);</div>
<div class="line"><span class="lineno">  273</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a0e39371e01acd73f35fe96b8111b32f9"><div class="ttname"><a href="classLocalApic.html#a0e39371e01acd73f35fe96b8111b32f9">LocalApic::kIcrDestShift</a></div><div class="ttdeci">static constexpr uint32_t kIcrDestShift</div><div class="ttdoc">ICR 目标位移</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00201">local_apic.h:201</a></div></div>
<div class="ttc" id="aclassLocalApic_html_ab2eb29834e6af43ecb26fc60702d6161"><div class="ttname"><a href="classLocalApic.html#ab2eb29834e6af43ecb26fc60702d6161">LocalApic::kInitIpiMode</a></div><div class="ttdeci">static constexpr uint32_t kInitIpiMode</div><div class="ttdoc">INIT IPI 模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00205">local_apic.h:205</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a6b837d6e2763369280afc50976b1064a_icgraph.png" border="0" usemap="#aclassLocalApic_a6b837d6e2763369280afc50976b1064a_icgraph" alt=""/></div>
<map name="aclassLocalApic_a6b837d6e2763369280afc50976b1064a_icgraph" id="aclassLocalApic_a6b837d6e2763369280afc50976b1064a_icgraph">
<area shape="rect" title="发送 INIT IPI" alt="" coords="213,5,375,31"/>
<area shape="rect" href="classLocalApic.html#a088e472bc2424550e72bf1155608ecca" title="唤醒应用处理器 (AP)" alt="" coords="5,5,165,31"/>
<area shape="poly" title=" " alt="" coords="199,21,165,21,165,15,199,15"/>
</map>
</div>

</div>
</div>
<a id="a7b701e5d94374c6249278cbb23b2a5b6" name="a7b701e5d94374c6249278cbb23b2a5b6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b701e5d94374c6249278cbb23b2a5b6">&#9670;&#160;</a></span>SendIpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">auto LocalApic::SendIpi </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destination_apic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const -&gt; <a class="el" href="expected_8hpp.html#a87330dc74eb67e824914b8d343050757">Expected</a>&lt;void&gt;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发送处理器间中断 (IPI) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination_apic_id</td><td>目标 APIC ID </td></tr>
    <tr><td class="paramname">vector</td><td>中断向量 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Expected&lt;void&gt; 发送成功返回空值，失败返回错误 </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00082">82</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   83</span>                      {</div>
<div class="line"><span class="lineno">   84</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">   85</span>    <span class="keyword">auto</span> icr = <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(vector);</div>
<div class="line"><span class="lineno">   86</span>    icr |= <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(destination_apic_id) &lt;&lt; 32;</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>    cpu_io::msr::apic::WriteIcr(icr);</div>
<div class="line"><span class="lineno">   89</span> </div>
<div class="line"><span class="lineno">   90</span>    <span class="keywordflow">while</span> ((cpu_io::msr::apic::ReadIcr() &amp; <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">   91</span>      ;</div>
<div class="line"><span class="lineno">   92</span>    }</div>
<div class="line"><span class="lineno">   93</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">   94</span>    <span class="comment">// ICR 分为两个 32 位寄存器：ICR_LOW (0x300) 和 ICR_HIGH (0x310)</span></div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>    <span class="comment">// 设置目标 APIC ID(ICR_HIGH 的位 24-31)</span></div>
<div class="line"><span class="lineno">   97</span>    <span class="keyword">auto</span> icr_high = (destination_apic_id &amp; <a class="code hl_variable" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a>) &lt;&lt; <a class="code hl_variable" href="classLocalApic.html#a0e39371e01acd73f35fe96b8111b32f9">kIcrDestShift</a>;</div>
<div class="line"><span class="lineno">   98</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">kXApicIcrHighOffset</a>, icr_high);</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>    <span class="comment">// 设置向量和传递模式(ICR_LOW)</span></div>
<div class="line"><span class="lineno">  101</span>    <span class="keyword">auto</span> icr_low = <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(vector);</div>
<div class="line"><span class="lineno">  102</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>, icr_low);</div>
<div class="line"><span class="lineno">  103</span> </div>
<div class="line"><span class="lineno">  104</span>    <span class="keywordflow">while</span> ((io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>) &amp;</div>
<div class="line"><span class="lineno">  105</span>            <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  106</span>      ;</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span>  }</div>
<div class="line"><span class="lineno">  109</span>  <span class="keywordflow">return</span> {};</div>
<div class="line"><span class="lineno">  110</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="acd008bf0645ca650746c65287ad109de" name="acd008bf0645ca650746c65287ad109de"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd008bf0645ca650746c65287ad109de">&#9670;&#160;</a></span>SendStartupIpi()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SendStartupIpi </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destination_apic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>start_page</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>发送 SIPI (Startup IPI) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination_apic_id</td><td>目标 APIC ID </td></tr>
    <tr><td class="paramname">start_page</td><td>启动页面地址（4KB 页面） </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00275">275</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  276</span>                                                         {</div>
<div class="line"><span class="lineno">  277</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  278</span>    <span class="comment">// SIPI with start page (delivery mode = 110b)</span></div>
<div class="line"><span class="lineno">  279</span>    <span class="keyword">auto</span> icr = <a class="code hl_variable" href="classLocalApic.html#a33d4d4ec4aa19a4af8667b4215c93710">kSipiMode</a> | start_page;</div>
<div class="line"><span class="lineno">  280</span>    icr |= <span class="keyword">static_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(destination_apic_id) &lt;&lt; 32;</div>
<div class="line"><span class="lineno">  281</span> </div>
<div class="line"><span class="lineno">  282</span>    cpu_io::msr::apic::WriteIcr(icr);</div>
<div class="line"><span class="lineno">  283</span> </div>
<div class="line"><span class="lineno">  284</span>    <span class="keywordflow">while</span> ((cpu_io::msr::apic::ReadIcr() &amp; <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  285</span>      ;</div>
<div class="line"><span class="lineno">  286</span>    }</div>
<div class="line"><span class="lineno">  287</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  288</span>    <span class="comment">// 设置目标 APIC ID(ICR_HIGH)</span></div>
<div class="line"><span class="lineno">  289</span>    uint32_t icr_high = (destination_apic_id &amp; <a class="code hl_variable" href="classLocalApic.html#a539a57e81b47d6c352d9d187b0f095cf">kApicIdMask</a>) &lt;&lt; <a class="code hl_variable" href="classLocalApic.html#a0e39371e01acd73f35fe96b8111b32f9">kIcrDestShift</a>;</div>
<div class="line"><span class="lineno">  290</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#aa4158043664830ff0d09c9c9297d6d0d">kXApicIcrHighOffset</a>, icr_high);</div>
<div class="line"><span class="lineno">  291</span> </div>
<div class="line"><span class="lineno">  292</span>    <span class="comment">// 发送 SIPI(ICR_LOW)</span></div>
<div class="line"><span class="lineno">  293</span>    uint32_t icr_low = <a class="code hl_variable" href="classLocalApic.html#a33d4d4ec4aa19a4af8667b4215c93710">kSipiMode</a> | start_page;</div>
<div class="line"><span class="lineno">  294</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>, icr_low);</div>
<div class="line"><span class="lineno">  295</span> </div>
<div class="line"><span class="lineno">  296</span>    <span class="keywordflow">while</span> ((io::In&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a34703c093c2de15bba9a3a0bb985c49f">kXApicIcrLowOffset</a>) &amp;</div>
<div class="line"><span class="lineno">  297</span>            <a class="code hl_variable" href="classLocalApic.html#a71161337180fb23c37d8fd9b1bfb9731">kIcrDeliveryStatusBit</a>) != 0) {</div>
<div class="line"><span class="lineno">  298</span>      ;</div>
<div class="line"><span class="lineno">  299</span>    }</div>
<div class="line"><span class="lineno">  300</span>  }</div>
<div class="line"><span class="lineno">  301</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a33d4d4ec4aa19a4af8667b4215c93710"><div class="ttname"><a href="classLocalApic.html#a33d4d4ec4aa19a4af8667b4215c93710">LocalApic::kSipiMode</a></div><div class="ttdeci">static constexpr uint32_t kSipiMode</div><div class="ttdoc">SIPI 模式</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00207">local_apic.h:207</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_acd008bf0645ca650746c65287ad109de_icgraph.png" border="0" usemap="#aclassLocalApic_acd008bf0645ca650746c65287ad109de_icgraph" alt=""/></div>
<map name="aclassLocalApic_acd008bf0645ca650746c65287ad109de_icgraph" id="aclassLocalApic_acd008bf0645ca650746c65287ad109de_icgraph">
<area shape="rect" title="发送 SIPI (Startup IPI)" alt="" coords="213,5,400,31"/>
<area shape="rect" href="classLocalApic.html#a088e472bc2424550e72bf1155608ecca" title="唤醒应用处理器 (AP)" alt="" coords="5,5,165,31"/>
<area shape="poly" title=" " alt="" coords="200,21,166,21,166,15,200,15"/>
</map>
</div>

</div>
</div>
<a id="a37c7f90ad3933cce3ca36ff2a6370593" name="a37c7f90ad3933cce3ca36ff2a6370593"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37c7f90ad3933cce3ca36ff2a6370593">&#9670;&#160;</a></span>SetTaskPriority()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SetTaskPriority </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>priority</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置任务优先级 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">priority</td><td>优先级值 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00140">140</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  140</span>                                                      {</div>
<div class="line"><span class="lineno">  141</span>  <span class="keywordflow">if</span> (<a class="code hl_variable" href="classLocalApic.html#a4a63c5378da856c2a5f1ea0460a6744e">is_x2apic_mode_</a>) {</div>
<div class="line"><span class="lineno">  142</span>    cpu_io::msr::apic::WriteTpr(<span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(priority));</div>
<div class="line"><span class="lineno">  143</span>  } <span class="keywordflow">else</span> {</div>
<div class="line"><span class="lineno">  144</span>    io::Out&lt;uint32_t&gt;(<a class="code hl_variable" href="classLocalApic.html#a14dea9be5f7231166d31af785352a911">apic_base_</a> + <a class="code hl_variable" href="classLocalApic.html#a4e7d6d9f1e2a9d1eb74c0d86fd984d2c">kXApicTprOffset</a>,</div>
<div class="line"><span class="lineno">  145</span>                      <span class="keyword">static_cast&lt;</span>uint32_t<span class="keyword">&gt;</span>(priority));</div>
<div class="line"><span class="lineno">  146</span>  }</div>
<div class="line"><span class="lineno">  147</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a173b8d0e61f0151dbcaa8577cb22facd" name="a173b8d0e61f0151dbcaa8577cb22facd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a173b8d0e61f0151dbcaa8577cb22facd">&#9670;&#160;</a></span>SetupOneShotTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SetupOneShotTimer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>microseconds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置单次定时器 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">microseconds</td><td>延时时间（微秒） </td></tr>
    <tr><td class="paramname">vector</td><td>定时器中断向量 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00229">229</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  229</span>                                                                             {</div>
<div class="line"><span class="lineno">  230</span>  <span class="comment">// 假设 APIC 时钟频率为 100MHz</span></div>
<div class="line"><span class="lineno">  231</span> </div>
<div class="line"><span class="lineno">  232</span>  <span class="comment">// 计算初始计数值(微秒转换为时钟周期)</span></div>
<div class="line"><span class="lineno">  233</span>  <span class="keyword">auto</span> initial_count =</div>
<div class="line"><span class="lineno">  234</span>      (<a class="code hl_variable" href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">kDefaultApicClockHz</a> / <a class="code hl_variable" href="classLocalApic.html#a462147014bd654946ed7dd08ee6c3fd5">kMicrosecondsPerSecond</a>) * microseconds;</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>  <span class="comment">// 选择合适的分频值</span></div>
<div class="line"><span class="lineno">  237</span>  <span class="keyword">auto</span> divide_value = <a class="code hl_variable" href="classLocalApic.html#a297cbe9436e7dfd6ce702be071ac6f7e">kTimerDivideBy1</a>;</div>
<div class="line"><span class="lineno">  238</span>  <span class="keywordflow">if</span> (initial_count &gt; 0xFFFFFFFF) {</div>
<div class="line"><span class="lineno">  239</span>    divide_value = <a class="code hl_variable" href="classLocalApic.html#a7d3d23c56cc2075e3cf4bad259bfe12b">kTimerDivideBy16</a>;</div>
<div class="line"><span class="lineno">  240</span>    initial_count =</div>
<div class="line"><span class="lineno">  241</span>        ((<a class="code hl_variable" href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">kDefaultApicClockHz</a> / 16) / <a class="code hl_variable" href="classLocalApic.html#a462147014bd654946ed7dd08ee6c3fd5">kMicrosecondsPerSecond</a>) * microseconds;</div>
<div class="line"><span class="lineno">  242</span>  }</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>  <a class="code hl_function" href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115">EnableTimer</a>(initial_count, divide_value, vector, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  245</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a297cbe9436e7dfd6ce702be071ac6f7e"><div class="ttname"><a href="classLocalApic.html#a297cbe9436e7dfd6ce702be071ac6f7e">LocalApic::kTimerDivideBy1</a></div><div class="ttdeci">static constexpr uint32_t kTimerDivideBy1</div><div class="ttdoc">定时器分频 1</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00221">local_apic.h:221</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a462147014bd654946ed7dd08ee6c3fd5"><div class="ttname"><a href="classLocalApic.html#a462147014bd654946ed7dd08ee6c3fd5">LocalApic::kMicrosecondsPerSecond</a></div><div class="ttdeci">static constexpr uint32_t kMicrosecondsPerSecond</div><div class="ttdoc">每秒微秒数</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00231">local_apic.h:231</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a7d3d23c56cc2075e3cf4bad259bfe12b"><div class="ttname"><a href="classLocalApic.html#a7d3d23c56cc2075e3cf4bad259bfe12b">LocalApic::kTimerDivideBy16</a></div><div class="ttdeci">static constexpr uint32_t kTimerDivideBy16</div><div class="ttdoc">定时器分频 16</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00223">local_apic.h:223</a></div></div>
<div class="ttc" id="aclassLocalApic_html_ac503568b9181ecb3d8226eafde6f6705"><div class="ttname"><a href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">LocalApic::kDefaultApicClockHz</a></div><div class="ttdeci">static constexpr uint32_t kDefaultApicClockHz</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00219">local_apic.h:219</a></div></div>
<div class="ttc" id="aclassLocalApic_html_ac60426a6345dfe7593b29c22b0888115"><div class="ttname"><a href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115">LocalApic::EnableTimer</a></div><div class="ttdeci">void EnableTimer(uint32_t initial_count, uint32_t divide_value, uint8_t vector, bool periodic=true) const</div><div class="ttdoc">启用 Local APIC 定时器</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00158">local_apic.cpp:158</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a173b8d0e61f0151dbcaa8577cb22facd_cgraph.png" border="0" usemap="#aclassLocalApic_a173b8d0e61f0151dbcaa8577cb22facd_cgraph" alt=""/></div>
<map name="aclassLocalApic_a173b8d0e61f0151dbcaa8577cb22facd_cgraph" id="aclassLocalApic_a173b8d0e61f0151dbcaa8577cb22facd_cgraph">
<area shape="rect" title="设置单次定时器" alt="" coords="5,5,228,31"/>
<area shape="rect" href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115" title="启用 Local APIC 定时器" alt="" coords="276,5,451,31"/>
<area shape="poly" title=" " alt="" coords="228,15,262,15,262,21,228,21"/>
</map>
</div>

</div>
</div>
<a id="a70fc2b687411b08b0b2ad8b913b9ddb4" name="a70fc2b687411b08b0b2ad8b913b9ddb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70fc2b687411b08b0b2ad8b913b9ddb4">&#9670;&#160;</a></span>SetupPeriodicTimer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::SetupPeriodicTimer </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>frequency_hz</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>设置周期性定时器 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">frequency_hz</td><td>定时器频率（Hz） </td></tr>
    <tr><td class="paramname">vector</td><td>定时器中断向量 </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00210">210</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  211</span>                                                         {</div>
<div class="line"><span class="lineno">  212</span>  <span class="comment">// 使用 APIC 定时器的典型配置</span></div>
<div class="line"><span class="lineno">  213</span>  <span class="comment">// 假设 APIC 时钟频率为 100MHz(实际应从 CPU 频率计算)</span></div>
<div class="line"><span class="lineno">  214</span> </div>
<div class="line"><span class="lineno">  215</span>  <span class="comment">// 计算初始计数值</span></div>
<div class="line"><span class="lineno">  216</span>  <span class="keyword">auto</span> initial_count = <a class="code hl_variable" href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">kDefaultApicClockHz</a> / frequency_hz;</div>
<div class="line"><span class="lineno">  217</span> </div>
<div class="line"><span class="lineno">  218</span>  <span class="comment">// 选择合适的分频值以获得更好的精度</span></div>
<div class="line"><span class="lineno">  219</span>  <span class="keyword">auto</span> divide_value = <a class="code hl_variable" href="classLocalApic.html#a297cbe9436e7dfd6ce702be071ac6f7e">kTimerDivideBy1</a>;</div>
<div class="line"><span class="lineno">  220</span>  <span class="keywordflow">if</span> (initial_count &gt; 0xFFFFFFFF) {</div>
<div class="line"><span class="lineno">  221</span>    <span class="comment">// 如果计数值太大，使用分频</span></div>
<div class="line"><span class="lineno">  222</span>    divide_value = <a class="code hl_variable" href="classLocalApic.html#a7d3d23c56cc2075e3cf4bad259bfe12b">kTimerDivideBy16</a>;</div>
<div class="line"><span class="lineno">  223</span>    initial_count = (<a class="code hl_variable" href="classLocalApic.html#ac503568b9181ecb3d8226eafde6f6705">kDefaultApicClockHz</a> / 16) / frequency_hz;</div>
<div class="line"><span class="lineno">  224</span>  }</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>  <a class="code hl_function" href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115">EnableTimer</a>(initial_count, divide_value, vector, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  227</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_cgraph.png" border="0" usemap="#aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_cgraph" alt=""/></div>
<map name="aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_cgraph" id="aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_cgraph">
<area shape="rect" title="设置周期性定时器" alt="" coords="5,5,187,45"/>
<area shape="rect" href="classLocalApic.html#ac60426a6345dfe7593b29c22b0888115" title="启用 Local APIC 定时器" alt="" coords="235,13,409,38"/>
<area shape="poly" title=" " alt="" coords="187,23,221,23,221,28,187,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_icgraph.png" border="0" usemap="#aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_icgraph" alt=""/></div>
<map name="aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_icgraph" id="aclassLocalApic_a70fc2b687411b08b0b2ad8b913b9ddb4_icgraph">
<area shape="rect" title="设置周期性定时器" alt="" coords="239,5,420,45"/>
<area shape="rect" href="classApic.html#a91da5ed274fac8574ed249557d284100" title="设置 Local APIC 定时器" alt="" coords="5,13,191,38"/>
<area shape="poly" title=" " alt="" coords="225,28,191,28,191,23,225,23"/>
</map>
</div>

</div>
</div>
<a id="a088e472bc2424550e72bf1155608ecca" name="a088e472bc2424550e72bf1155608ecca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a088e472bc2424550e72bf1155608ecca">&#9670;&#160;</a></span>WakeupAp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void LocalApic::WakeupAp </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>destination_apic_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>start_vector</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>唤醒应用处理器 (AP) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destination_apic_id</td><td>目标 APIC ID </td></tr>
    <tr><td class="paramname">start_vector</td><td>启动向量（启动代码的物理地址 / 4096） </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true 唤醒成功 </dd></dl>
<dl class="section note"><dt>Note</dt><dd>执行标准的 INIT-SIPI-SIPI 序列来唤醒 AP </dd></dl>

<p class="definition">Definition at line <a class="el" href="local__apic_8cpp_source.html#l00431">431</a> of file <a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  432</span>                                                     {</div>
<div class="line"><span class="lineno">  433</span>  <span class="comment">// 发送 INIT IPI</span></div>
<div class="line"><span class="lineno">  434</span>  <a class="code hl_function" href="classLocalApic.html#a6b837d6e2763369280afc50976b1064a">SendInitIpi</a>(destination_apic_id);</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>  <span class="comment">// 等待 10ms (INIT IPI 后的标准等待时间)</span></div>
<div class="line"><span class="lineno">  437</span>  <span class="keyword">auto</span> delay = 10 * <a class="code hl_variable" href="classLocalApic.html#a31b67cb7cf0571d12699fbc517128dab">kCalibrationDelayLoop</a>;</div>
<div class="line"><span class="lineno">  438</span>  <span class="keywordflow">while</span> (delay--) {</div>
<div class="line"><span class="lineno">  439</span>    __asm__ <span class="keyword">volatile</span>(<span class="stringliteral">&quot;nop&quot;</span>);</div>
<div class="line"><span class="lineno">  440</span>  }</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>  <span class="comment">// 发送第一个 SIPI</span></div>
<div class="line"><span class="lineno">  443</span>  <a class="code hl_function" href="classLocalApic.html#acd008bf0645ca650746c65287ad109de">SendStartupIpi</a>(destination_apic_id, start_vector);</div>
<div class="line"><span class="lineno">  444</span> </div>
<div class="line"><span class="lineno">  445</span>  <span class="comment">// 等待 200μs (SIPI 后的标准等待时间)</span></div>
<div class="line"><span class="lineno">  446</span>  delay = 200 * (<a class="code hl_variable" href="classLocalApic.html#a31b67cb7cf0571d12699fbc517128dab">kCalibrationDelayLoop</a> / 1000);</div>
<div class="line"><span class="lineno">  447</span>  <span class="keywordflow">while</span> (delay--) {</div>
<div class="line"><span class="lineno">  448</span>    __asm__ <span class="keyword">volatile</span>(<span class="stringliteral">&quot;nop&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>  }</div>
<div class="line"><span class="lineno">  450</span> </div>
<div class="line"><span class="lineno">  451</span>  <span class="comment">// 发送第二个 SIPI (为了可靠性)</span></div>
<div class="line"><span class="lineno">  452</span>  <a class="code hl_function" href="classLocalApic.html#acd008bf0645ca650746c65287ad109de">SendStartupIpi</a>(destination_apic_id, start_vector);</div>
<div class="line"><span class="lineno">  453</span> </div>
<div class="line"><span class="lineno">  454</span>  <span class="comment">// 等待 200μs</span></div>
<div class="line"><span class="lineno">  455</span>  delay = 200 * (<a class="code hl_variable" href="classLocalApic.html#a31b67cb7cf0571d12699fbc517128dab">kCalibrationDelayLoop</a> / 1000);</div>
<div class="line"><span class="lineno">  456</span>  <span class="keywordflow">while</span> (delay--) {</div>
<div class="line"><span class="lineno">  457</span>    __asm__ <span class="keyword">volatile</span>(<span class="stringliteral">&quot;nop&quot;</span>);</div>
<div class="line"><span class="lineno">  458</span>  }</div>
<div class="line"><span class="lineno">  459</span>}</div>
<div class="ttc" id="aclassLocalApic_html_a31b67cb7cf0571d12699fbc517128dab"><div class="ttname"><a href="classLocalApic.html#a31b67cb7cf0571d12699fbc517128dab">LocalApic::kCalibrationDelayLoop</a></div><div class="ttdeci">static constexpr uint32_t kCalibrationDelayLoop</div><div class="ttdoc">校准延时循环次数</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8h_source.html#l00227">local_apic.h:227</a></div></div>
<div class="ttc" id="aclassLocalApic_html_a6b837d6e2763369280afc50976b1064a"><div class="ttname"><a href="classLocalApic.html#a6b837d6e2763369280afc50976b1064a">LocalApic::SendInitIpi</a></div><div class="ttdeci">void SendInitIpi(uint32_t destination_apic_id) const</div><div class="ttdoc">发送 INIT IPI</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00247">local_apic.cpp:247</a></div></div>
<div class="ttc" id="aclassLocalApic_html_acd008bf0645ca650746c65287ad109de"><div class="ttname"><a href="classLocalApic.html#acd008bf0645ca650746c65287ad109de">LocalApic::SendStartupIpi</a></div><div class="ttdeci">void SendStartupIpi(uint32_t destination_apic_id, uint8_t start_page) const</div><div class="ttdoc">发送 SIPI (Startup IPI)</div><div class="ttdef"><b>Definition</b> <a href="local__apic_8cpp_source.html#l00275">local_apic.cpp:275</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classLocalApic_a088e472bc2424550e72bf1155608ecca_cgraph.png" border="0" usemap="#aclassLocalApic_a088e472bc2424550e72bf1155608ecca_cgraph" alt=""/></div>
<map name="aclassLocalApic_a088e472bc2424550e72bf1155608ecca_cgraph" id="aclassLocalApic_a088e472bc2424550e72bf1155608ecca_cgraph">
<area shape="rect" title="唤醒应用处理器 (AP)" alt="" coords="5,31,165,56"/>
<area shape="rect" href="classLocalApic.html#a6b837d6e2763369280afc50976b1064a" title="发送 INIT IPI" alt="" coords="226,5,387,31"/>
<area shape="poly" title=" " alt="" coords="165,32,212,26,213,31,166,37"/>
<area shape="rect" href="classLocalApic.html#acd008bf0645ca650746c65287ad109de" title="发送 SIPI (Startup IPI)" alt="" coords="213,55,400,80"/>
<area shape="poly" title=" " alt="" coords="166,49,200,53,199,58,165,55"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a14dea9be5f7231166d31af785352a911" name="a14dea9be5f7231166d31af785352a911"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a14dea9be5f7231166d31af785352a911">&#9670;&#160;</a></span>apic_base_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t LocalApic::apic_base_ = <a class="el" href="classLocalApic.html#a1a3df5d79356a5976acca93e5cfd12eb">kDefaultApicBase</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>APIC 基地址（仅用于 xAPIC 模式） </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00252">252</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a4a63c5378da856c2a5f1ea0460a6744e" name="a4a63c5378da856c2a5f1ea0460a6744e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a63c5378da856c2a5f1ea0460a6744e">&#9670;&#160;</a></span>is_x2apic_mode_</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool LocalApic::is_x2apic_mode_ = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>当前 APIC 模式（true = x2APIC, false = xAPIC） </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00249">249</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a414e63797d762800b97c9ad33af0ac9d" name="a414e63797d762800b97c9ad33af0ac9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a414e63797d762800b97c9ad33af0ac9d">&#9670;&#160;</a></span>kApicBaseControlMask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t LocalApic::kApicBaseControlMask = 0xFFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>APIC 基地址控制位掩码 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00245">245</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a9f923f00069e67abe5ec0f070700f568" name="a9f923f00069e67abe5ec0f070700f568"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f923f00069e67abe5ec0f070700f568">&#9670;&#160;</a></span>kApicBaseMask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t LocalApic::kApicBaseMask = 0xFFFFF000ULL</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>APIC 基地址掩码 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00239">239</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a976e22dc11853d90f7cb7d434f647426" name="a976e22dc11853d90f7cb7d434f647426"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a976e22dc11853d90f7cb7d434f647426">&#9670;&#160;</a></span>kApicGlobalEnableBit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t LocalApic::kApicGlobalEnableBit = 1ULL &lt;&lt; 11</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>APIC 全局启用位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00241">241</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a539a57e81b47d6c352d9d187b0f095cf" name="a539a57e81b47d6c352d9d187b0f095cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a539a57e81b47d6c352d9d187b0f095cf">&#9670;&#160;</a></span>kApicIdMask</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kApicIdMask = 0xFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>xAPIC ID 掩码 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00189">189</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="af3c19f6e0462f9063e54dcd5802b6741" name="af3c19f6e0462f9063e54dcd5802b6741"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af3c19f6e0462f9063e54dcd5802b6741">&#9670;&#160;</a></span>kApicIdShift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kApicIdShift = 24</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00187">187</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a2699706a3c2b0dd4b351e4a4890dc679" name="a2699706a3c2b0dd4b351e4a4890dc679"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2699706a3c2b0dd4b351e4a4890dc679">&#9670;&#160;</a></span>kApicSoftwareEnableBit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kApicSoftwareEnableBit = 0x100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>APIC 软件启用位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00191">191</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a44ce21bf43d9105b43c369f4fb2f6b7c" name="a44ce21bf43d9105b43c369f4fb2f6b7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a44ce21bf43d9105b43c369f4fb2f6b7c">&#9670;&#160;</a></span>kCalibrationCount</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kCalibrationCount = 0xFFFFFFFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>校准用的计数值 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00225">225</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a31b67cb7cf0571d12699fbc517128dab" name="a31b67cb7cf0571d12699fbc517128dab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a31b67cb7cf0571d12699fbc517128dab">&#9670;&#160;</a></span>kCalibrationDelayLoop</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kCalibrationDelayLoop = 1000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>校准延时循环次数 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00227">227</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a7c1a0d531cded478c71629c05078fd54" name="a7c1a0d531cded478c71629c05078fd54"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c1a0d531cded478c71629c05078fd54">&#9670;&#160;</a></span>kCalibrationMultiplier</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kCalibrationMultiplier = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>校准倍数 (10ms -&gt; 1s) </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00229">229</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a1a3df5d79356a5976acca93e5cfd12eb" name="a1a3df5d79356a5976acca93e5cfd12eb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1a3df5d79356a5976acca93e5cfd12eb">&#9670;&#160;</a></span>kDefaultApicBase</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t LocalApic::kDefaultApicBase = 0xFEE00000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00237">237</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="ac503568b9181ecb3d8226eafde6f6705" name="ac503568b9181ecb3d8226eafde6f6705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac503568b9181ecb3d8226eafde6f6705">&#9670;&#160;</a></span>kDefaultApicClockHz</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kDefaultApicClockHz = 100000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00219">219</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="ac7ac5e007c4dd0f757c28b11e3e1f2a7" name="ac7ac5e007c4dd0f757c28b11e3e1f2a7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7ac5e007c4dd0f757c28b11e3e1f2a7">&#9670;&#160;</a></span>kErrorVector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint8_t LocalApic::kErrorVector = 0xEF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>错误中断向量 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00213">213</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a4cb0f69943bcc06937cce7ba086baeaa" name="a4cb0f69943bcc06937cce7ba086baeaa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4cb0f69943bcc06937cce7ba086baeaa">&#9670;&#160;</a></span>kExtIntMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kExtIntMode = 0x700</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ExtINT 传递模式 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00209">209</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a0c8bbabcb2c2f27ff6092ec57bf45f36" name="a0c8bbabcb2c2f27ff6092ec57bf45f36"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0c8bbabcb2c2f27ff6092ec57bf45f36">&#9670;&#160;</a></span>kIcrBroadcastMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kIcrBroadcastMode = 0xC0000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICR 广播模式位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00203">203</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a71161337180fb23c37d8fd9b1bfb9731" name="a71161337180fb23c37d8fd9b1bfb9731"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71161337180fb23c37d8fd9b1bfb9731">&#9670;&#160;</a></span>kIcrDeliveryStatusBit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kIcrDeliveryStatusBit = 0x1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICR 传递状态位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00199">199</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a0e39371e01acd73f35fe96b8111b32f9" name="a0e39371e01acd73f35fe96b8111b32f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e39371e01acd73f35fe96b8111b32f9">&#9670;&#160;</a></span>kIcrDestShift</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kIcrDestShift = 24</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICR 目标位移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00201">201</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="ab2eb29834e6af43ecb26fc60702d6161" name="ab2eb29834e6af43ecb26fc60702d6161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab2eb29834e6af43ecb26fc60702d6161">&#9670;&#160;</a></span>kInitIpiMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kInitIpiMode = 0x500</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>INIT IPI 模式 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00205">205</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a6b0f3174fb096b99ee386a0a9c40f933" name="a6b0f3174fb096b99ee386a0a9c40f933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b0f3174fb096b99ee386a0a9c40f933">&#9670;&#160;</a></span>kLvtMaskBit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kLvtMaskBit = 0x10000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT 掩码位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00195">195</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="ae005fc91e7686c2d70626f46c1150fa8" name="ae005fc91e7686c2d70626f46c1150fa8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae005fc91e7686c2d70626f46c1150fa8">&#9670;&#160;</a></span>kLvtPeriodicMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kLvtPeriodicMode = 0x20000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT 周期模式位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00197">197</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a462147014bd654946ed7dd08ee6c3fd5" name="a462147014bd654946ed7dd08ee6c3fd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a462147014bd654946ed7dd08ee6c3fd5">&#9670;&#160;</a></span>kMicrosecondsPerSecond</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kMicrosecondsPerSecond = 1000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>每秒微秒数 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00231">231</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a5d73d0dd37f4d3095572ba650c5f991c" name="a5d73d0dd37f4d3095572ba650c5f991c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5d73d0dd37f4d3095572ba650c5f991c">&#9670;&#160;</a></span>kNmiMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kNmiMode = 0x400</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>NMI 传递模式 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00211">211</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a33d4d4ec4aa19a4af8667b4215c93710" name="a33d4d4ec4aa19a4af8667b4215c93710"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a33d4d4ec4aa19a4af8667b4215c93710">&#9670;&#160;</a></span>kSipiMode</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kSipiMode = 0x600</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SIPI 模式 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00207">207</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a5c5ad4a79967cb4aedf6955ecd1606db" name="a5c5ad4a79967cb4aedf6955ecd1606db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c5ad4a79967cb4aedf6955ecd1606db">&#9670;&#160;</a></span>kSpuriousVector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kSpuriousVector = 0xFF</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>虚假中断向量 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00193">193</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a297cbe9436e7dfd6ce702be071ac6f7e" name="a297cbe9436e7dfd6ce702be071ac6f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a297cbe9436e7dfd6ce702be071ac6f7e">&#9670;&#160;</a></span>kTimerDivideBy1</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kTimerDivideBy1 = 0x0B</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>定时器分频 1 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00221">221</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a7d3d23c56cc2075e3cf4bad259bfe12b" name="a7d3d23c56cc2075e3cf4bad259bfe12b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7d3d23c56cc2075e3cf4bad259bfe12b">&#9670;&#160;</a></span>kTimerDivideBy16</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kTimerDivideBy16 = 0x03</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>定时器分频 16 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00223">223</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a17a3a8246de15249a522a69ea0a5b6a2" name="a17a3a8246de15249a522a69ea0a5b6a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a17a3a8246de15249a522a69ea0a5b6a2">&#9670;&#160;</a></span>kX2ApicEnableBit</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint64_t LocalApic::kX2ApicEnableBit = 1ULL &lt;&lt; 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>x2APIC 启用位 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00243">243</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a12117eb68567c31ba32a8388f01c3298" name="a12117eb68567c31ba32a8388f01c3298"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12117eb68567c31ba32a8388f01c3298">&#9670;&#160;</a></span>kXApicEoiOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicEoiOffset = 0xB0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>EOI 寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00159">159</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a304ca65520b6499cd497c29ccf443c2b" name="a304ca65520b6499cd497c29ccf443c2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a304ca65520b6499cd497c29ccf443c2b">&#9670;&#160;</a></span>kXApicEsrOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicEsrOffset = 0x280</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>错误状态寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00163">163</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="aa4158043664830ff0d09c9c9297d6d0d" name="aa4158043664830ff0d09c9c9297d6d0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4158043664830ff0d09c9c9297d6d0d">&#9670;&#160;</a></span>kXApicIcrHighOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicIcrHighOffset = 0x310</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICR 高位寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00167">167</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a34703c093c2de15bba9a3a0bb985c49f" name="a34703c093c2de15bba9a3a0bb985c49f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34703c093c2de15bba9a3a0bb985c49f">&#9670;&#160;</a></span>kXApicIcrLowOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicIcrLowOffset = 0x300</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ICR 低位寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00165">165</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="afdd1a4aaf1b00694fbc930dfcc51b5ce" name="afdd1a4aaf1b00694fbc930dfcc51b5ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afdd1a4aaf1b00694fbc930dfcc51b5ce">&#9670;&#160;</a></span>kXApicIdOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicIdOffset = 0x20</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00153">153</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a8c7af96d0822ef425029761b383195b5" name="a8c7af96d0822ef425029761b383195b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8c7af96d0822ef425029761b383195b5">&#9670;&#160;</a></span>kXApicLvtErrorOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicLvtErrorOffset = 0x370</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT 错误寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00175">175</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a0b0e7fd16a723057766596953363bbf5" name="a0b0e7fd16a723057766596953363bbf5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0b0e7fd16a723057766596953363bbf5">&#9670;&#160;</a></span>kXApicLvtLint0Offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicLvtLint0Offset = 0x350</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT LINT0 寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00171">171</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a34b2b41f250ef010adfe4c1fe680a53d" name="a34b2b41f250ef010adfe4c1fe680a53d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34b2b41f250ef010adfe4c1fe680a53d">&#9670;&#160;</a></span>kXApicLvtLint1Offset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicLvtLint1Offset = 0x360</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT LINT1 寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00173">173</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="aeecdfbc459bb53490b50ef3ff0652c27" name="aeecdfbc459bb53490b50ef3ff0652c27"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeecdfbc459bb53490b50ef3ff0652c27">&#9670;&#160;</a></span>kXApicLvtTimerOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicLvtTimerOffset = 0x320</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>LVT 定时器寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00169">169</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a2f1b868d6d1f37f3a1e61d23d84cc05b" name="a2f1b868d6d1f37f3a1e61d23d84cc05b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f1b868d6d1f37f3a1e61d23d84cc05b">&#9670;&#160;</a></span>kXApicSivrOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicSivrOffset = 0xF0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>虚假中断向量寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00161">161</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a1dc622544490847b77efa2387660629b" name="a1dc622544490847b77efa2387660629b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dc622544490847b77efa2387660629b">&#9670;&#160;</a></span>kXApicTimerCurrCountOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicTimerCurrCountOffset = 0x390</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>定时器当前计数寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00179">179</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a67a0012a756e5d367a3deec4a564e09f" name="a67a0012a756e5d367a3deec4a564e09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a67a0012a756e5d367a3deec4a564e09f">&#9670;&#160;</a></span>kXApicTimerDivideOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicTimerDivideOffset = 0x3E0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>定时器分频寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00181">181</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a83c268b9d948a8d927a2a8c18af3cb24" name="a83c268b9d948a8d927a2a8c18af3cb24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83c268b9d948a8d927a2a8c18af3cb24">&#9670;&#160;</a></span>kXApicTimerInitCountOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicTimerInitCountOffset = 0x380</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>定时器初始计数寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00177">177</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a4e7d6d9f1e2a9d1eb74c0d86fd984d2c" name="a4e7d6d9f1e2a9d1eb74c0d86fd984d2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4e7d6d9f1e2a9d1eb74c0d86fd984d2c">&#9670;&#160;</a></span>kXApicTprOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicTprOffset = 0x80</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>任务优先级寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00157">157</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<a id="a2c95f180e6487eb42ef2031f645d085f" name="a2c95f180e6487eb42ef2031f645d085f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c95f180e6487eb42ef2031f645d085f">&#9670;&#160;</a></span>kXApicVersionOffset</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t LocalApic::kXApicVersionOffset = 0x30</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>版本寄存器偏移 </p>

<p class="definition">Definition at line <a class="el" href="local__apic_8h_source.html#l00155">155</a> of file <a class="el" href="local__apic_8h_source.html">local_apic.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/root/src/driver/apic/include/<a class="el" href="local__apic_8h_source.html">local_apic.h</a></li>
<li>/root/src/driver/apic/<a class="el" href="local__apic_8cpp_source.html">local_apic.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classLocalApic.html">LocalApic</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
