<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleKernel: SimpleKernel æ¥å£å±‚é‡æ„ TODO</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SimpleKernel<span id="projectnumber">&#160;1.17.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_TODO__interface__refactor.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">SimpleKernel æ¥å£å±‚é‡æ„ TODO</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md265"></a> </p><blockquote class="doxtable">
<p>&zwj;**ç›®æ ‡**ï¼šå°† SimpleKernel è½¬å‹ä¸º"é¢å‘ AI çš„ OS learning é¡¹ç›®"ã€‚ç¬¬ä¸€æ­¥æ˜¯ç¡®ä¿æ‰€æœ‰æ¨¡å—éƒ½æœ‰æ¸…æ™°çš„ã€ä¸å®ç°åˆ†ç¦»çš„æ¥å£å±‚ï¼ˆ.h/.hppï¼‰ã€‚</p>
<p>**åŸåˆ™**ï¼š</p>
<ul>
<li>å¤´æ–‡ä»¶åªä¿ç•™ç±»å£°æ˜ã€çº¯è™šæ¥å£ã€ç±»å‹å®šä¹‰ã€å¸¸é‡ï¼›å®ç°ç§»åˆ° <code>.cpp</code></li>
<li>åŒç±»è®¾å¤‡é©±åŠ¨åº”æœ‰å…±åŒçš„æŠ½è±¡åŸºç±»</li>
<li>æ¯ä¸ªæ¥å£æ–‡ä»¶éœ€è¦æœ‰å®Œæ•´çš„ Doxygen æ³¨é‡Šï¼Œæè¿°èŒè´£ã€å‰ç½®æ¡ä»¶ã€åç½®æ¡ä»¶</li>
<li>ç°æœ‰ä»£ç ä½œä¸º**å‚è€ƒå®ç°**ä¿ç•™ï¼Œä¸æ”¹å˜åŠŸèƒ½è¡Œä¸º </li>
</ul>
</blockquote>
<h1><a class="anchor" id="autotoc_md266"></a>
&lt;/blockquote&gt;</h1>
<h1><a class="anchor" id="autotoc_md267"></a>
ğŸ”´ é«˜ä¼˜å…ˆçº§</h1>
<h2><a class="anchor" id="autotoc_md268"></a>
TODO-1: æ–°å¢ &lt;tt&gt;ConsoleDriver&lt;/tt&gt; æŠ½è±¡åŸºç±»</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="classNs16550a.html">Ns16550a</a></code>ï¼ˆRISC-V/x86_64 ä¸²å£ï¼‰å’Œ <code><a class="el" href="classPl011.html" title="PL011 ä¸²å£é©±åŠ¨">Pl011</a></code>ï¼ˆAArch64 ä¸²å£ï¼‰éƒ½å®ç°äº†ç›¸åŒçš„æ¥å£ï¼ˆ<code>PutChar</code>/<code>GetChar</code>/<code>TryGetChar</code>ï¼‰ï¼Œä½†æ²¡æœ‰å…±åŒçš„åŸºç±»ã€‚AI æ— æ³•ä»æ¥å£å±‚çŸ¥é“"ä¸²å£é©±åŠ¨éœ€è¦å®ç°å“ªäº›æ–¹æ³•"ã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ol type="1">
<li>åˆ›å»º <code>src/driver/include/console_driver.h</code></li>
<li><p class="startli">å®šä¹‰çº¯è™šåŸºç±» <code>ConsoleDriver</code>ï¼ŒåŒ…å«ä»¥ä¸‹çº¯è™šæ–¹æ³•ï¼š</p>
<div class="fragment"><div class="line"><span class="keyword">class </span>ConsoleDriver {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">virtual</span> ~ConsoleDriver() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="keyword">virtual</span> <span class="keywordtype">void</span> PutChar(uint8_t c) <span class="keyword">const</span> = 0;</div>
<div class="line">  [[nodiscard]] <span class="keyword">virtual</span> <span class="keyword">auto</span> GetChar() const -&gt; uint8_t = 0;</div>
<div class="line">  [[nodiscard]] virtual auto TryGetChar() const -&gt; uint8_t = 0;</div>
<div class="line">};</div>
</div><!-- fragment --></li>
<li>ä¿®æ”¹ <code><a class="el" href="ns16550a_8h.html">src/driver/ns16550a/include/ns16550a.h</a></code>ï¼Œè®© <code><a class="el" href="classNs16550a.html">Ns16550a</a></code> ç»§æ‰¿ <code>ConsoleDriver</code>ï¼Œæ–¹æ³•åŠ  <code>override</code></li>
<li>ä¿®æ”¹ <code><a class="el" href="pl011_8h.html">src/driver/pl011/include/pl011.h</a></code>ï¼Œè®© <code><a class="el" href="classPl011.html" title="PL011 ä¸²å£é©±åŠ¨">Pl011</a></code> ç»§æ‰¿ <code>ConsoleDriver</code>ï¼Œæ–¹æ³•åŠ  <code>override</code></li>
<li>ç¡®ä¿ä¸‰ä¸ªæ¶æ„çš„ç¼–è¯‘éƒ½é€šè¿‡</li>
</ol>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>æ–°å»ºï¼š<code>src/driver/include/console_driver.h</code></li>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="ns16550a_8h.html">src/driver/ns16550a/include/ns16550a.h</a></code></li>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="pl011_8h.html">src/driver/pl011/include/pl011.h</a></code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md270"></a>
TODO-2: æ–°å¢ &lt;tt&gt;early_console&lt;/tt&gt; æ¥å£å£°æ˜</h2>
<p>**èƒŒæ™¯**ï¼šä¸‰ä¸ªæ¶æ„å„è‡ªåœ¨ <code>early_console.cpp</code> ä¸­ç”¨åŒ¿åå‘½åç©ºé—´å®ç°æ—©æœŸæ§åˆ¶å°åˆå§‹åŒ–ï¼ˆè®¾ç½® <code>sk_putchar</code> å›è°ƒï¼‰ï¼Œæ²¡æœ‰å¤´æ–‡ä»¶å£°æ˜ã€‚AI ä¸çŸ¥é“è¿™ä¸ªæ¨¡å—çš„å­˜åœ¨å’ŒèŒè´£ã€‚</p>
<p>**å½“å‰å®ç°æ–¹å¼**ï¼š</p>
<ul>
<li><code><a class="el" href="riscv64_2early__console_8cpp.html">src/arch/riscv64/early_console.cpp</a></code>ï¼šé€šè¿‡ OpenSBI çš„ <code>sbi_debug_console_write_byte</code> è®¾ç½® <code>sk_putchar</code></li>
<li><code><a class="el" href="aarch64_2early__console_8cpp.html">src/arch/aarch64/early_console.cpp</a></code>ï¼šé€šè¿‡ç›´æ¥å†™ PL011 å¯„å­˜å™¨è®¾ç½® <code>sk_putchar</code></li>
<li><code><a class="el" href="x86__64_2early__console_8cpp.html">src/arch/x86_64/early_console.cpp</a></code>ï¼šé€šè¿‡ç›´æ¥å†™ NS16550A å¯„å­˜å™¨è®¾ç½® <code>sk_putchar</code></li>
</ul>
<p>ä¸‰è€…éƒ½ä½¿ç”¨äº†ç›¸åŒçš„æ¨¡å¼ï¼šåœ¨åŒ¿åå‘½åç©ºé—´ä¸­å®šä¹‰ <code>EarlyConsole</code> ç»“æ„ä½“ï¼Œåœ¨å…¶æ„é€ å‡½æ•°ä¸­è®¾ç½® <code>sk_putchar</code> å…¨å±€å‡½æ•°æŒ‡é’ˆï¼Œç„¶åå®šä¹‰ä¸€ä¸ªå…¨å±€é™æ€å®ä¾‹è§¦å‘æ„é€ ã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ul>
<li><p class="startli">æ–¹æ¡ˆ Aï¼ˆæ¨èï¼‰ï¼šåœ¨ <code><a class="el" href="arch_8h.html">src/arch/arch.h</a></code> ä¸­æ·»åŠ æ³¨é‡Šå—è¯´æ˜ early_console çš„å¥‘çº¦ï¼š</p>
<div class="fragment"><div class="line"> </div>
</div><!-- fragment --></li>
<li>æ–¹æ¡ˆ Bï¼ˆå¯é€‰ï¼Œæ›´æ˜¾å¼ï¼‰ï¼šåˆ›å»º <code>src/arch/include/early_console.h</code>ï¼Œå£°æ˜ä¸€ä¸ªæ˜¾å¼çš„åˆå§‹åŒ–å‡½æ•° <code>void EarlyConsoleInit()</code>ï¼Œç„¶åä¿®æ”¹ä¸‰ä¸ªæ¶æ„çš„å®ç°å¯¼å‡ºæ­¤å‡½æ•°ï¼Œåœ¨ <code>_start</code> ä¸­è°ƒç”¨ã€‚è¿™éœ€è¦ä¿®æ”¹ <code>boot.S</code> æˆ– <code>arch_main.cpp</code>ï¼Œæ”¹åŠ¨è¾ƒå¤§ã€‚</li>
</ul>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>æ–¹æ¡ˆ Aï¼šä¿®æ”¹ <code><a class="el" href="arch_8h.html">src/arch/arch.h</a></code>ï¼ˆæ·»åŠ æ³¨é‡Šï¼‰</li>
<li>æ–¹æ¡ˆ Bï¼šæ–°å»º <code>src/arch/include/early_console.h</code>ï¼Œä¿®æ”¹ä¸‰ä¸ªæ¶æ„çš„ <code>early_console.cpp</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md272"></a>
TODO-3: é‡æ–°è®¾è®¡ &lt;tt&gt;driver.h&lt;/tt&gt;</h2>
<p>**èƒŒæ™¯**ï¼šå½“å‰ <code><a class="el" href="driver_8h.html">src/driver/include/driver.h</a></code> åªå£°æ˜äº†ä¸€ä¸ª <code><a class="el" href="driver_8cpp.html#add3df2fc319aecbbde398c1b486066b4" title="å…¥å£">Driver()</a></code> å‡½æ•°ï¼Œä¸” <code><a class="el" href="driver_8cpp.html">src/driver/driver.cpp</a></code> çš„å®ç°æ˜¯ç©ºæ­»å¾ªç¯ï¼Œæ²¡æœ‰å®é™…åŠŸèƒ½ã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ul>
<li>è¯„ä¼°æ˜¯å¦éœ€è¦é©±åŠ¨å­ç³»ç»Ÿå…¥å£ã€‚å½“å‰å„é©±åŠ¨ï¼ˆä¸²å£ã€ä¸­æ–­æ§åˆ¶å™¨ï¼‰éƒ½æ˜¯åœ¨ <code>arch_main.cpp</code> ä¸­æŒ‰æ¶æ„ç›´æ¥åˆå§‹åŒ–çš„</li>
<li>å¦‚æœä¿ç•™ <code><a class="el" href="driver_8h.html">driver.h</a></code>ï¼šé‡æ–°å®šä¹‰å…¶èŒè´£ï¼Œä¾‹å¦‚ä½œä¸ºé©±åŠ¨æ³¨å†Œ/æŸ¥æ‰¾çš„æ¥å£</li>
<li>å¦‚æœä¸éœ€è¦ï¼šç§»é™¤ <code><a class="el" href="driver_8h.html">driver.h</a></code> å’Œ <code><a class="el" href="driver_8cpp.html">driver.cpp</a></code>ï¼Œåœ¨æ–‡æ¡£ä¸­è¯´æ˜é©±åŠ¨ç”±å„æ¶æ„åˆå§‹åŒ–ä»£ç ç›´æ¥ç®¡ç†</li>
<li>**å»ºè®®**ï¼šè‡³å°‘å°† <code><a class="el" href="driver_8cpp.html#add3df2fc319aecbbde398c1b486066b4" title="å…¥å£">Driver()</a></code> çš„ç­¾åå’Œæ³¨é‡Šæ›´æ–°ä¸ºæœ‰æ„ä¹‰çš„å†…å®¹ï¼Œæˆ–è€…ç›´æ¥åˆ é™¤</li>
</ul>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li><code><a class="el" href="driver_8h.html">src/driver/include/driver.h</a></code></li>
<li><code><a class="el" href="driver_8cpp.html">src/driver/driver.cpp</a></code></li>
<li><code>src/driver/CMakeLists.txt</code>ï¼ˆå¦‚æœåˆ é™¤çš„è¯ï¼‰</li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md274"></a>
ğŸŸ¡ ä¸­ä¼˜å…ˆçº§</h1>
<h2><a class="anchor" id="autotoc_md275"></a>
TODO-4: &lt;tt&gt;VirtualMemory&lt;/tt&gt; æ¥å£ä¸å®ç°åˆ†ç¦»</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="virtual__memory_8hpp.html">src/include/virtual_memory.hpp</a></code> æœ‰ 424 è¡Œï¼Œæ‰€æœ‰æ–¹æ³•ï¼ˆ<code>MapPage</code>ã€<code>UnmapPage</code>ã€<code>FindPageTableEntry</code>ã€<code>MapMMIO</code>ã€<code>GetMapping</code>ã€<code>DestroyPageDirectory</code>ã€<code>ClonePageDirectory</code>ã€<code>RecursiveFreePageTable</code>ã€<code>RecursiveClonePageTable</code>ï¼‰å…¨éƒ¨å†…è”å®ç°åœ¨å¤´æ–‡ä»¶ä¸­ã€‚è¿™ä½¿å¾— AI çœ‹åˆ°å¤´æ–‡ä»¶å°±çœ‹åˆ°äº†å…¨éƒ¨ç­”æ¡ˆã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ol type="1">
<li>åœ¨ <code><a class="el" href="virtual__memory_8hpp.html">src/include/virtual_memory.hpp</a></code> ä¸­åªä¿ç•™ï¼š<ul>
<li>ç±»å£°æ˜</li>
<li>public/private æ–¹æ³•ç­¾å</li>
<li>æˆå‘˜å˜é‡å®šä¹‰</li>
<li>å¸¸é‡å®šä¹‰</li>
<li>Doxygen æ³¨é‡Š</li>
</ul>
</li>
<li>æ–°å»º <code>src/memory/virtual_memory.cpp</code>ï¼ˆæˆ–æ”¾åœ¨ <code>src/</code> ç›®å½•ä¸‹ï¼Œä¸ <code><a class="el" href="memory_8cpp.html">memory.cpp</a></code> åŒçº§ï¼‰ï¼Œå°†æ‰€æœ‰æ–¹æ³•å®ç°ç§»è¿‡å»</li>
<li>æ³¨æ„ï¼šæ„é€ å‡½æ•°ä¸­è°ƒç”¨äº† <code>MapMMIO</code>ï¼Œç§»åŠ¨å®ç°æ—¶éœ€è¦ä¿æŒè°ƒç”¨é¡ºåº</li>
<li>æ›´æ–° <code>src/CMakeLists.txt</code> æ·»åŠ æ–°çš„æºæ–‡ä»¶</li>
</ol>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="virtual__memory_8hpp.html">src/include/virtual_memory.hpp</a></code>ï¼ˆå‰¥ç¦»å®ç°ï¼Œåªç•™å£°æ˜ï¼‰</li>
<li>æ–°å»ºï¼š<code>src/virtual_memory.cpp</code>ï¼ˆæˆ–åˆé€‚çš„ä½ç½®ï¼‰</li>
<li>ä¿®æ”¹ï¼š<code>src/CMakeLists.txt</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md277"></a>
TODO-5: &lt;tt&gt;KernelFdt&lt;/tt&gt; æ¥å£ä¸å®ç°åˆ†ç¦»</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="kernel__fdt_8hpp.html">src/include/kernel_fdt.hpp</a></code> æœ‰ 548 è¡Œï¼Œæ‰€æœ‰ FDT è§£æé€»è¾‘å…¨éƒ¨åœ¨å¤´æ–‡ä»¶ä¸­å†…è”å®ç°ã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ol type="1">
<li>åœ¨ <code><a class="el" href="kernel__fdt_8hpp.html">src/include/kernel_fdt.hpp</a></code> ä¸­åªä¿ç•™ç±»å£°æ˜å’Œæ–¹æ³•ç­¾åï¼š<ul>
<li><code>GetCoreCount()</code>, <code>CheckPSCI()</code>, <code>GetMemory()</code>, <code>GetSerial()</code>, <code>GetTimebaseFrequency()</code> ç­‰ public æ–¹æ³•</li>
<li><code>FindNode()</code>, <code>GetRegProperty()</code>, <code>GetPsciMethod()</code> ç­‰ private æ–¹æ³•çš„ç­¾å</li>
<li>æˆå‘˜å˜é‡ <code>fdt_header_</code></li>
</ul>
</li>
<li>æ–°å»º <code>src/kernel_fdt.cpp</code>ï¼Œç§»å…¥æ‰€æœ‰å®ç°</li>
<li>æ›´æ–° CMakeLists.txt</li>
</ol>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="kernel__fdt_8hpp.html">src/include/kernel_fdt.hpp</a></code></li>
<li>æ–°å»ºï¼š<code>src/kernel_fdt.cpp</code></li>
<li>ä¿®æ”¹ï¼š<code>src/CMakeLists.txt</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md279"></a>
TODO-6: &lt;tt&gt;KernelElf&lt;/tt&gt; æ¥å£ä¸å®ç°åˆ†ç¦»</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="kernel__elf_8hpp.html">src/include/kernel_elf.hpp</a></code> æœ‰ 158 è¡Œï¼Œæ„é€ å‡½æ•°ä¸­çš„å®Œæ•´ ELF è§£æé€»è¾‘åœ¨å¤´æ–‡ä»¶ä¸­ã€‚</p>
<p>**æ“ä½œ**ï¼š</p>
<ol type="1">
<li>å¤´æ–‡ä»¶åªä¿ç•™ï¼šç±»å£°æ˜ã€<code>CheckElfIdentity()</code> ç­‰æ–¹æ³•ç­¾åã€æˆå‘˜å˜é‡ï¼ˆ<code>symtab_</code>, <code>strtab_</code>, <code>ehdr_</code>, <code>phdr_</code>, <code>shdr_</code>, <code>elf_</code>ï¼‰</li>
<li>æ–°å»º <code>src/kernel_elf.cpp</code>ï¼Œç§»å…¥æ„é€ å‡½æ•°å®ç°å’Œå„æ–¹æ³•å®ç°</li>
<li>æ›´æ–° CMakeLists.txt</li>
</ol>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="kernel__elf_8hpp.html">src/include/kernel_elf.hpp</a></code></li>
<li>æ–°å»ºï¼š<code>src/kernel_elf.cpp</code></li>
<li>ä¿®æ”¹ï¼š<code>src/CMakeLists.txt</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md281"></a>
TODO-7: è°ƒåº¦å™¨å®ç°ä»å¤´æ–‡ä»¶å‰¥ç¦»åˆ° &lt;tt&gt;.cpp&lt;/tt&gt;</h2>
<p>**èƒŒæ™¯**ï¼šå››ä¸ªè°ƒåº¦å™¨å…¨éƒ¨ header-only å®ç°ï¼š</p>
<ul>
<li><code><a class="el" href="cfs__scheduler_8hpp.html">src/task/include/cfs_scheduler.hpp</a></code>ï¼ˆ219 è¡Œï¼‰</li>
<li><code><a class="el" href="fifo__scheduler_8hpp.html">src/task/include/fifo_scheduler.hpp</a></code>ï¼ˆçº¦ 100 è¡Œï¼‰</li>
<li><code><a class="el" href="rr__scheduler_8hpp.html">src/task/include/rr_scheduler.hpp</a></code>ï¼ˆ124 è¡Œï¼‰</li>
<li><code><a class="el" href="idle__scheduler_8hpp.html">src/task/include/idle_scheduler.hpp</a></code>ï¼ˆ118 è¡Œï¼‰</li>
</ul>
<p>åŸºç±» <code><a class="el" href="scheduler__base_8hpp.html">scheduler_base.hpp</a></code>ï¼ˆ153 è¡Œï¼‰å·²ç»æ˜¯çº¯è™šæ¥å£ï¼Œè¿™æ˜¯å¥½çš„ã€‚</p>
<p>**æ“ä½œ**ï¼š å¯¹æ¯ä¸ªè°ƒåº¦å™¨ï¼š</p>
<ol type="1">
<li>å¤´æ–‡ä»¶åªä¿ç•™ç±»å£°æ˜ï¼ˆç»§æ‰¿å…³ç³»ã€æ–¹æ³•ç­¾å + overrideã€ç§æœ‰æˆå‘˜å˜é‡ï¼‰</li>
<li>æ–°å»ºå¯¹åº” <code>.cpp</code> æ–‡ä»¶ï¼š<ul>
<li><code>src/task/cfs_scheduler.cpp</code></li>
<li><code>src/task/fifo_scheduler.cpp</code></li>
<li><code>src/task/rr_scheduler.cpp</code></li>
<li><code>src/task/idle_scheduler.cpp</code></li>
</ul>
</li>
<li>ç§»å…¥æ‰€æœ‰æ–¹æ³•å®ç°</li>
<li>æ›´æ–° <code>src/task/CMakeLists.txt</code></li>
</ol>
<p>**æ³¨æ„**ï¼šå½“å‰ <code>src/task/</code> ç›®å½•ä¸‹å·²æœ‰ <code><a class="el" href="block_8cpp.html">block.cpp</a></code>, <code><a class="el" href="clone_8cpp.html">clone.cpp</a></code>, <code><a class="el" href="exit_8cpp.html">exit.cpp</a></code>, <code><a class="el" href="schedule_8cpp.html">schedule.cpp</a></code>, <code><a class="el" href="sleep_8cpp.html">sleep.cpp</a></code>, <code><a class="el" href="task__control__block_8cpp.html">task_control_block.cpp</a></code>, <code><a class="el" href="task__manager_8cpp.html">task_manager.cpp</a></code>, <code><a class="el" href="tick__update_8cpp.html">tick_update.cpp</a></code>, <code><a class="el" href="wait_8cpp.html">wait.cpp</a></code>, <code><a class="el" href="wakeup_8cpp.html">wakeup.cpp</a></code>ï¼Œè¯´æ˜ä»»åŠ¡ç®¡ç†å™¨æœ¬èº«å·²ç»åšäº†æ¥å£ä¸å®ç°åˆ†ç¦»ï¼Œåªæ˜¯è°ƒåº¦å™¨æ²¡æœ‰ã€‚</p>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="cfs__scheduler_8hpp.html">src/task/include/cfs_scheduler.hpp</a></code>, <code><a class="el" href="fifo__scheduler_8hpp.html">fifo_scheduler.hpp</a></code>, <code><a class="el" href="rr__scheduler_8hpp.html">rr_scheduler.hpp</a></code>, <code><a class="el" href="idle__scheduler_8hpp.html">idle_scheduler.hpp</a></code></li>
<li>æ–°å»ºï¼š<code>src/task/cfs_scheduler.cpp</code>, <code>fifo_scheduler.cpp</code>, <code>rr_scheduler.cpp</code>, <code>idle_scheduler.cpp</code></li>
<li>ä¿®æ”¹ï¼š<code>src/task/CMakeLists.txt</code></li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md283"></a>
TODO-8: &lt;tt&gt;SpinLock&lt;/tt&gt; å’Œ &lt;tt&gt;Mutex&lt;/tt&gt; å®ç°ä»å¤´æ–‡ä»¶å‰¥ç¦»</h2>
<p>**èƒŒæ™¯**ï¼š</p>
<ul>
<li><code><a class="el" href="spinlock_8hpp.html">src/include/spinlock.hpp</a></code>ï¼ˆ160 è¡Œï¼‰ï¼š<code>Lock()</code>/<code>UnLock()</code> æ–¹æ³•æ ‡è®°ä¸º <code>__always_inline</code>ï¼Œå®Œæ•´å®ç°åœ¨å¤´æ–‡ä»¶ä¸­</li>
<li><code><a class="el" href="mutex_8hpp.html">src/include/mutex.hpp</a></code>ï¼ˆ215 è¡Œï¼‰ï¼š<code>Lock()</code>/<code>UnLock()</code> ç­‰å®Œæ•´å®ç°åœ¨å¤´æ–‡ä»¶ä¸­</li>
</ul>
<p>**æ“ä½œ**ï¼š</p>
<ul>
<li><code><a class="el" href="classSpinLock.html" title="è‡ªæ—‹é”">SpinLock</a></code>ï¼šå› ä¸º <code>Lock()</code>/<code>UnLock()</code> æ ‡è®°äº† <code>__always_inline</code>ï¼Œæ€§èƒ½ä¸Šéœ€è¦å†…è”ã€‚**å»ºè®®ä¿ç•™ header-onlyï¼Œä½†æ·»åŠ æ›´è¯¦ç»†çš„ Doxygen å¥‘çº¦æ³¨é‡Š**ï¼ˆå‰ç½®æ¡ä»¶ã€åç½®æ¡ä»¶ã€å‰¯ä½œç”¨ï¼‰ã€‚å¦‚æœè¦åˆ†ç¦»ï¼Œéœ€è¦ç§»é™¤ <code>__always_inline</code> å¹¶æµ‹è¯•æ€§èƒ½å½±å“</li>
<li><code><a class="el" href="classMutex.html" title="äº’æ–¥é”ï¼ˆMutexï¼‰">Mutex</a></code>ï¼šå¯ä»¥å®‰å…¨åœ°å°†å®ç°ç§»åˆ° <code>src/task/mutex.cpp</code>ï¼Œå¤´æ–‡ä»¶åªç•™å£°æ˜</li>
</ul>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li><code><a class="el" href="spinlock_8hpp.html">src/include/spinlock.hpp</a></code>ï¼ˆå¢å¼ºæ³¨é‡Šæˆ–ä¿æŒä¸å˜ï¼‰</li>
<li><code><a class="el" href="mutex_8hpp.html">src/include/mutex.hpp</a></code>ï¼ˆå‰¥ç¦»å®ç°ï¼‰</li>
<li>æ–°å»ºï¼š<code>src/task/mutex.cpp</code>ï¼ˆå¦‚æœåˆ†ç¦» Mutexï¼‰</li>
<li>ä¿®æ”¹ï¼š<code>src/task/CMakeLists.txt</code></li>
</ul>
<hr  />
<h1><a class="anchor" id="autotoc_md285"></a>
ğŸŸ¢ ä½ä¼˜å…ˆçº§</h1>
<h2><a class="anchor" id="autotoc_md286"></a>
TODO-9: è€ƒè™‘ä¸ºå®šæ—¶å™¨æ·»åŠ æ¥å£</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="aarch64_2timer_8cpp.html#a8febf243f0581d61474fd6b56cfdb544">TimerInit()</a></code> / <code><a class="el" href="aarch64_2timer_8cpp.html#a85b082ebd75de9086c93c05ad124fc8c">TimerInitSMP()</a></code> åœ¨ <code><a class="el" href="arch_8h.html">src/arch/arch.h</a></code> ä¸­å£°æ˜ä¸ºè‡ªç”±å‡½æ•°ï¼Œå„æ¶æ„åœ¨ <code>timer.cpp</code> ä¸­å®ç°ã€‚æ²¡æœ‰ <code>Timer</code> ç±»æˆ–æ¥å£ã€‚</p>
<p>**å½“å‰å®ç°**ï¼š</p>
<ul>
<li><code><a class="el" href="riscv64_2timer_8cpp.html">src/arch/riscv64/timer.cpp</a></code>ï¼šé€šè¿‡ OpenSBI çš„ <code>sbi_set_timer</code> è®¾ç½®å®šæ—¶å™¨ï¼Œæ³¨å†Œæ—¶é’Ÿä¸­æ–­å¤„ç†å‡½æ•°è°ƒç”¨ <code><a class="el" href="classTaskManager.html#aa1041f9ed06a9d0b6b738621c30e1921" title="æ›´æ–°ç³»ç»Ÿ tick">TaskManager::TickUpdate()</a></code></li>
<li><code><a class="el" href="aarch64_2timer_8cpp.html">src/arch/aarch64/timer.cpp</a></code>ï¼šç±»ä¼¼ï¼Œé€šè¿‡ GIC å’Œç³»ç»Ÿå¯„å­˜å™¨</li>
<li><code><a class="el" href="x86__64_2timer_8cpp.html">src/arch/x86_64/timer.cpp</a></code>ï¼šé€šè¿‡ Local APIC Timer</li>
</ul>
<p>**æ“ä½œ**ï¼ˆå¯é€‰ï¼‰ï¼š</p>
<ul>
<li>å½“å‰çš„è‡ªç”±å‡½æ•°å£°æ˜åœ¨ <code><a class="el" href="arch_8h.html">arch.h</a></code> ä¸­å·²ç»è¶³å¤Ÿæ¸…æ™°</li>
<li>å¦‚æœè¦å¢åŠ æŠ½è±¡ï¼Œå¯ä»¥åˆ›å»º <code>TimerDriver</code> åŸºç±»ï¼Œä½† OS å†…æ ¸ä¸­å®šæ—¶å™¨é€šå¸¸ä¸æ¶æ„å¼ºè€¦åˆï¼Œè¿‡åº¦æŠ½è±¡å¯èƒ½ä¸åˆé€‚</li>
<li>**å»ºè®®**ï¼šåœ¨ <code><a class="el" href="arch_8h.html">arch.h</a></code> çš„ <code>TimerInit</code> å£°æ˜å¤„æ·»åŠ è¯¦ç»†çš„å¥‘çº¦æ³¨é‡Šå³å¯ï¼Œè¯´æ˜ï¼š<ul>
<li>å‰ç½®æ¡ä»¶ï¼šä¸­æ–­ç³»ç»Ÿå·²åˆå§‹åŒ–ï¼ˆ<code>InterruptInit</code> å·²è°ƒç”¨ï¼‰</li>
<li>åç½®æ¡ä»¶ï¼šæ—¶é’Ÿä¸­æ–­ä»¥ <code>SIMPLEKERNEL_TICK</code> Hz é¢‘ç‡è§¦å‘ï¼Œæ¯æ¬¡è§¦å‘è°ƒç”¨ <code><a class="el" href="classTaskManager.html#aa1041f9ed06a9d0b6b738621c30e1921" title="æ›´æ–°ç³»ç»Ÿ tick">TaskManager::TickUpdate()</a></code></li>
<li>ä¾èµ–ï¼š<code><a class="el" href="structBasicInfo.html#a377d4387938f46e0d7b4bed3c5f45f8d" title="æ—¶é’Ÿé¢‘ç‡">BasicInfo::interval</a></code>ï¼ˆæ—¶é’Ÿé¢‘ç‡ï¼‰</li>
</ul>
</li>
</ul>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼š</p>
<ul>
<li>ä¿®æ”¹ï¼š<code><a class="el" href="arch_8h.html">src/arch/arch.h</a></code>ï¼ˆå¢å¼ºæ³¨é‡Šï¼‰</li>
</ul>
<hr  />
<h2><a class="anchor" id="autotoc_md288"></a>
TODO-10: è€ƒè™‘ä¸ºä¸­æ–­æ§åˆ¶å™¨é©±åŠ¨æ·»åŠ ç»Ÿä¸€åŸºç±»</h2>
<p>**èƒŒæ™¯**ï¼š<code><a class="el" href="classPlic.html" title="Plic é©±åŠ¨">Plic</a></code>ï¼ˆRISC-Vï¼‰ã€<code><a class="el" href="classGic.html" title="gic ä¸­æ–­æ§åˆ¶å™¨é©±åŠ¨">Gic</a></code>ï¼ˆAArch64ï¼‰ã€<code><a class="el" href="classApic.html" title="APIC ç®¡ç†ç±»ï¼Œç®¡ç†æ•´ä¸ªç³»ç»Ÿçš„ Local APIC å’Œ IO APIC.">Apic</a></code>ï¼ˆx86_64ï¼‰æ˜¯ä¸‰ç§ä¸åŒçš„ä¸­æ–­æ§åˆ¶å™¨é©±åŠ¨ï¼Œå„è‡ªç‹¬ç«‹ï¼Œæ²¡æœ‰å…±åŒåŸºç±»ã€‚</p>
<p>**åˆ†æ**ï¼š</p>
<ul>
<li>è¿™ä¸‰è€…çš„æ¥å£å·®å¼‚å¾ˆå¤§ï¼ˆPLIC æŒ‰ source_id/hart_id ç®¡ç†ï¼ŒGIC æŒ‰ SGI/PPI/SPI åˆ†ç±»ï¼ŒAPIC åˆ† Local/IO ä¸¤éƒ¨åˆ†ï¼‰</li>
<li>æ¶æ„å±‚å·²ç»é€šè¿‡ <code><a class="el" href="classInterruptBase.html">InterruptBase</a></code>ï¼ˆ<code><a class="el" href="interrupt__base_8h.html">src/include/interrupt_base.h</a></code>ï¼‰åšäº†ç»Ÿä¸€æŠ½è±¡</li>
<li>é©±åŠ¨å±‚å¼ºåˆ¶ç»Ÿä¸€å¯èƒ½å¯¼è‡´æ¥å£è¿‡äºæ³›åŒ–æˆ–ä¸è‡ªç„¶</li>
</ul>
<p>**å»ºè®®**ï¼šæš‚ä¸æ·»åŠ ã€‚å½“å‰çš„åˆ†å±‚å·²ç»åˆç†ï¼š</p>
<ul>
<li>é©±åŠ¨å±‚ï¼ˆ<code><a class="el" href="classPlic.html" title="Plic é©±åŠ¨">Plic</a></code>/<code><a class="el" href="classGic.html" title="gic ä¸­æ–­æ§åˆ¶å™¨é©±åŠ¨">Gic</a></code>/<code><a class="el" href="classApic.html" title="APIC ç®¡ç†ç±»ï¼Œç®¡ç†æ•´ä¸ªç³»ç»Ÿçš„ Local APIC å’Œ IO APIC.">Apic</a></code>ï¼‰ï¼šæä¾›ç¡¬ä»¶ç‰¹å®šçš„æ“ä½œæ¥å£</li>
<li>æ¶æ„å±‚ï¼ˆ<code><a class="el" href="classInterrupt.html" title="ä¸­æ–­å¤„ç†">Interrupt</a> : <a class="el" href="classInterruptBase.html">InterruptBase</a></code>ï¼‰ï¼šå°è£…é©±åŠ¨ï¼Œæä¾›ç»Ÿä¸€çš„ <code>Do</code>/<code>RegisterInterruptFunc</code>/<code>SendIpi</code> æ¥å£</li>
</ul>
<p>å¦‚æœæœªæ¥éœ€è¦ï¼Œå¯ä»¥æå–ä¸€ä¸ªè½»é‡çº§çš„ <code>InterruptControllerDriver</code> æ¥å£ï¼Œåªå®šä¹‰ <code>Enable(irq)</code>/<code>Disable(irq)</code>/<code>Ack(irq)</code> ç­‰æœ€åŸºç¡€æ“ä½œã€‚</p>
<p>**æ¶‰åŠæ–‡ä»¶**ï¼šæ— ï¼ˆæš‚ä¸æ“ä½œï¼‰</p>
<hr  />
<h1><a class="anchor" id="autotoc_md290"></a>
ğŸ“‹ éªŒè¯æ¸…å•</h1>
<p>å®Œæˆä»¥ä¸Š TODO åï¼Œéœ€è¦ç¡®ä¿ï¼š</p>
<ul>
<li>[ ] <code>cmake --preset build_riscv64 &amp;&amp; cd build_riscv64 &amp;&amp; make SimpleKernel</code> ç¼–è¯‘é€šè¿‡</li>
<li>[ ] <code>cmake --preset build_aarch64 &amp;&amp; cd build_aarch64 &amp;&amp; make SimpleKernel</code> ç¼–è¯‘é€šè¿‡</li>
<li>[ ] <code>cmake --preset build_x86_64 &amp;&amp; cd build_x86_64 &amp;&amp; make SimpleKernel</code> ç¼–è¯‘é€šè¿‡</li>
<li>[ ] ä¸‰ä¸ªæ¶æ„ <code>make run</code> åŠŸèƒ½è¡Œä¸ºä¸å˜</li>
<li>[ ] æ¯ä¸ªå¤´æ–‡ä»¶åªåŒ…å«ï¼šç±»/å‡½æ•°å£°æ˜ã€ç±»å‹å®šä¹‰ã€å¸¸é‡ã€Doxygen æ³¨é‡Š</li>
<li>[ ] æ¯ä¸ªå¤´æ–‡ä»¶çš„ Doxygen æ³¨é‡ŠåŒ…å«ï¼šèŒè´£æè¿°ã€å‰ç½®æ¡ä»¶ã€åç½®æ¡ä»¶ã€ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¯é€‰ï¼‰</li>
<li>[ ] æ‰€æœ‰æ–°å¢/ä¿®æ”¹çš„æ–‡ä»¶ç¬¦åˆ <code>.clang-format</code> æ ¼å¼ </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
