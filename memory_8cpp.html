<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SimpleKernel: /root/src/memory.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SimpleKernel<span id="projectnumber">&#160;1.17.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('memory_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">memory.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;<a class="el" href="cpu__io_8h_source.html">cpu_io.h</a>&gt;</code><br />
<code>#include &lt;algorithm&gt;</code><br />
<code>#include &lt;bmalloc.hpp&gt;</code><br />
<code>#include &lt;cstddef&gt;</code><br />
<code>#include &quot;<a class="el" href="arch_8h_source.html">arch.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="basic__info_8hpp_source.html">basic_info.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kernel__elf_8hpp_source.html">kernel_elf.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="kernel__log_8hpp_source.html">kernel_log.hpp</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="sk__stdlib_8h_source.html">sk_stdlib.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="virtual__memory_8hpp_source.html">virtual_memory.hpp</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for memory.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp__incl.png" border="0" usemap="#a_2root_2src_2memory_8cpp" alt=""/></div>
<map name="a_2root_2src_2memory_8cpp" id="a_2root_2src_2memory_8cpp">
<area shape="rect" title=" " alt="" coords="1335,5,1493,31"/>
<area shape="rect" href="cpu__io_8h.html" title=" " alt="" coords="479,372,555,397"/>
<area shape="poly" title=" " alt="" coords="1335,24,899,43,683,60,606,70,562,81,529,96,503,112,487,132,481,164,481,239,483,272,490,304,509,358,504,360,485,306,478,273,475,239,475,163,482,130,500,108,526,91,560,76,605,65,683,54,899,38,1334,19"/>
<area shape="rect" title=" " alt="" coords="633,519,704,544"/>
<area shape="poly" title=" " alt="" coords="1335,27,1129,45,879,74,764,93,669,114,605,138,588,151,582,164,582,239,584,278,590,317,611,393,636,458,659,505,654,507,631,460,606,394,585,318,579,279,577,239,577,163,583,148,602,134,667,109,763,87,878,69,1128,39,1334,22"/>
<area shape="rect" title=" " alt="" coords="2025,79,2110,104"/>
<area shape="poly" title=" " alt="" coords="1494,23,1724,43,2006,76,2012,77,2011,82,2006,81,1724,48,1493,28"/>
<area shape="rect" title=" " alt="" coords="2096,152,2199,177"/>
<area shape="poly" title=" " alt="" coords="1494,19,1581,24,1686,34,1800,51,1912,76,1941,88,1970,102,2097,145,2096,150,1968,106,1939,93,1911,81,1799,56,1685,40,1580,29,1493,24"/>
<area shape="rect" href="arch_8h.html" title=" " alt="" coords="377,299,440,324"/>
<area shape="poly" title=" " alt="" coords="1334,22,1115,23,840,30,708,38,594,48,507,63,479,71,461,81,442,102,427,127,417,155,411,184,406,240,408,285,403,285,401,240,405,183,412,153,422,125,437,99,458,77,477,66,506,57,593,43,708,32,840,25,1115,17,1334,16"/>
<area shape="rect" href="basic__info_8hpp.html" title=" " alt="" coords="1187,152,1303,177"/>
<area shape="poly" title=" " alt="" coords="1402,33,1270,145,1267,141,1398,29"/>
<area shape="rect" href="kernel__log_8hpp.html" title=" " alt="" coords="1071,225,1189,251"/>
<area shape="poly" title=" " alt="" coords="1382,33,1337,51,1283,78,1228,112,1177,154,1156,183,1141,214,1136,211,1151,180,1173,150,1224,108,1281,73,1335,46,1380,28"/>
<area shape="rect" href="kernel__elf_8hpp.html" title=" " alt="" coords="1453,152,1567,177"/>
<area shape="poly" title=" " alt="" coords="1424,30,1497,139,1492,142,1420,33"/>
<area shape="rect" href="sk__stdlib_8h.html" title=" " alt="" coords="2223,152,2315,177"/>
<area shape="poly" title=" " alt="" coords="1494,17,1589,21,1706,31,1833,48,1959,76,1987,88,2014,101,2101,125,2210,148,2209,154,2100,130,2012,107,1984,93,1957,81,1832,54,1705,36,1589,27,1493,23"/>
<area shape="rect" href="virtual__memory_8hpp.html" title=" " alt="" coords="1747,79,1899,104"/>
<area shape="poly" title=" " alt="" coords="1480,28,1744,74,1744,79,1479,33"/>
<area shape="rect" title=" " alt="" coords="1073,445,1139,471"/>
<area shape="poly" title=" " alt="" coords="555,388,1059,448,1059,454,555,393"/>
<area shape="rect" title=" " alt="" coords="537,445,606,471"/>
<area shape="poly" title=" " alt="" coords="528,396,556,433,552,436,524,399"/>
<area shape="poly" title=" " alt="" coords="517,398,515,433,518,452,527,469,546,489,570,503,621,521,619,526,567,508,543,493,522,472,513,453,510,433,512,398"/>
<area shape="rect" title=" " alt="" coords="1329,519,1395,544"/>
<area shape="poly" title=" " alt="" coords="556,394,693,430,869,468,995,488,1120,504,1315,523,1314,529,1119,509,994,493,868,473,692,435,554,399"/>
<area shape="rect" title=" " alt="" coords="154,519,218,544"/>
<area shape="poly" title=" " alt="" coords="479,393,280,420,188,436,145,447,140,461,143,476,152,492,165,507,161,511,148,496,138,478,134,460,142,443,187,430,280,415,478,388"/>
<area shape="rect" title=" " alt="" coords="349,519,413,544"/>
<area shape="poly" title=" " alt="" coords="507,400,403,511,399,507,504,396"/>
<area shape="rect" title=" " alt="" coords="5,519,129,544"/>
<area shape="poly" title=" " alt="" coords="479,393,283,418,187,433,134,448,117,460,103,475,81,508,77,505,99,472,114,456,131,443,186,428,282,413,478,388"/>
<area shape="rect" href="test__environment__state_8hpp.html" title=" " alt="" coords="155,445,361,471"/>
<area shape="poly" title=" " alt="" coords="479,399,314,444,312,439,478,394"/>
<area shape="poly" title=" " alt="" coords="324,468,620,519,619,524,324,473"/>
<area shape="poly" title=" " alt="" coords="361,463,1315,524,1315,530,361,469"/>
<area shape="poly" title=" " alt="" coords="248,473,209,511,206,507,244,469"/>
<area shape="poly" title=" " alt="" coords="279,468,350,509,348,514,276,473"/>
<area shape="poly" title=" " alt="" coords="228,473,112,516,110,511,226,468"/>
<area shape="rect" title=" " alt="" coords="243,519,305,544"/>
<area shape="poly" title=" " alt="" coords="263,470,271,505,266,506,258,472"/>
<area shape="poly" title=" " alt="" coords="427,322,489,362,486,367,425,326"/>
<area shape="poly" title=" " alt="" coords="415,323,448,391,476,433,510,469,536,486,564,500,620,518,619,523,562,505,533,491,507,473,472,436,443,394,411,326"/>
<area shape="poly" title=" " alt="" coords="441,319,720,395,890,433,1061,468,1316,518,1315,524,1060,473,889,439,719,400,440,324"/>
<area shape="rect" title=" " alt="" coords="308,372,403,397"/>
<area shape="poly" title=" " alt="" coords="402,326,374,363,370,360,398,323"/>
<area shape="poly" title=" " alt="" coords="1187,173,1056,186,896,210,818,227,749,247,694,272,674,286,659,300,662,381,670,505,664,505,656,381,654,298,670,282,691,267,747,242,816,221,895,204,1055,180,1186,167"/>
<area shape="poly" title=" " alt="" coords="1255,176,1283,218,1320,282,1354,360,1367,402,1375,445,1375,477,1371,506,1366,505,1370,476,1370,446,1362,404,1349,362,1315,284,1279,220,1251,179"/>
<area shape="poly" title=" " alt="" coords="1228,180,1162,220,1159,216,1225,175"/>
<area shape="rect" href="singleton_8hpp.html" title=" " alt="" coords="1400,299,1511,324"/>
<area shape="poly" title=" " alt="" coords="1263,175,1369,248,1428,288,1425,293,1366,253,1260,180"/>
<area shape="rect" title=" " alt="" coords="668,299,771,324"/>
<area shape="poly" title=" " alt="" coords="1204,180,775,297,774,292,1202,175"/>
<area shape="poly" title=" " alt="" coords="1190,246,1241,264,1266,279,1288,297,1307,321,1323,348,1345,406,1358,461,1363,505,1358,505,1353,462,1340,407,1318,350,1303,324,1284,301,1263,283,1239,269,1188,251"/>
<area shape="rect" title=" " alt="" coords="943,299,999,324"/>
<area shape="poly" title=" " alt="" coords="1106,253,1011,295,1009,291,1103,248"/>
<area shape="rect" title=" " alt="" coords="1075,299,1145,324"/>
<area shape="poly" title=" " alt="" coords="1129,252,1119,286,1114,285,1124,250"/>
<area shape="rect" title=" " alt="" coords="795,299,919,324"/>
<area shape="poly" title=" " alt="" coords="1087,253,915,298,913,293,1085,248"/>
<area shape="poly" title=" " alt="" coords="1183,248,1390,293,1389,298,1182,253"/>
<area shape="rect" title=" " alt="" coords="731,372,814,397"/>
<area shape="poly" title=" " alt="" coords="1119,253,1074,289,1012,326,930,352,828,375,827,370,929,346,1010,322,1071,285,1115,249"/>
<area shape="poly" title=" " alt="" coords="1072,252,784,301,784,296,1071,247"/>
<area shape="rect" href="spinlock_8hpp.html" title=" " alt="" coords="1170,299,1274,324"/>
<area shape="poly" title=" " alt="" coords="1146,249,1198,288,1195,292,1143,253"/>
<area shape="poly" title=" " alt="" coords="1170,325,1158,327,989,347,822,363,568,383,568,377,822,358,989,341,1158,321,1169,320"/>
<area shape="poly" title=" " alt="" coords="1227,324,1230,359,1227,380,1219,399,1206,415,1189,428,1153,446,1151,441,1186,423,1202,411,1214,396,1222,378,1225,359,1222,324"/>
<area shape="poly" title=" " alt="" coords="1181,327,1031,375,847,450,706,515,703,510,845,445,1029,369,1180,322"/>
<area shape="poly" title=" " alt="" coords="1170,325,1158,327,996,350,833,375,829,375,828,370,832,369,995,345,1158,321,1170,319"/>
<area shape="rect" title=" " alt="" coords="1125,372,1205,397"/>
<area shape="poly" title=" " alt="" coords="1215,326,1185,363,1181,359,1210,323"/>
<area shape="rect" title=" " alt="" coords="1042,372,1101,397"/>
<area shape="poly" title=" " alt="" coords="1199,326,1110,368,1107,364,1197,322"/>
<area shape="rect" href="expected_8hpp.html" title=" " alt="" coords="1888,372,1999,397"/>
<area shape="poly" title=" " alt="" coords="1275,315,1875,374,1874,379,1274,320"/>
<area shape="poly" title=" " alt="" coords="1958,396,1973,412,1986,432,1991,452,1990,463,1984,473,1953,488,1896,500,1733,517,1552,527,1409,532,1409,526,1551,522,1733,512,1895,495,1951,483,1980,469,1985,461,1986,453,1981,434,1968,415,1954,399"/>
<area shape="rect" title=" " alt="" coords="1887,445,1970,471"/>
<area shape="poly" title=" " alt="" coords="1944,398,1936,432,1931,431,1938,397"/>
<area shape="poly" title=" " alt="" coords="1483,180,1457,193,1434,210,1421,229,1420,239,1424,249,1438,263,1456,273,1496,285,1514,291,1527,298,1532,310,1526,325,1488,373,1449,405,1408,426,1365,439,1268,453,1213,460,1152,473,1031,498,910,515,718,531,718,525,909,510,1030,493,1151,468,1212,455,1268,447,1364,433,1406,421,1446,401,1484,369,1521,323,1527,310,1523,302,1512,295,1495,290,1454,278,1435,268,1420,252,1415,240,1416,227,1430,206,1454,189,1480,175"/>
<area shape="poly" title=" " alt="" coords="1529,176,1553,196,1576,224,1597,265,1602,310,1602,386,1597,418,1581,444,1559,467,1531,485,1469,511,1410,526,1408,520,1467,506,1529,480,1556,463,1577,441,1591,416,1597,386,1597,310,1592,266,1572,227,1550,200,1525,180"/>
<area shape="poly" title=" " alt="" coords="1454,179,1203,226,1202,221,1453,174"/>
<area shape="poly" title=" " alt="" coords="1454,179,1413,197,1395,210,1380,227,1376,244,1384,260,1400,276,1421,290,1418,294,1397,280,1380,264,1371,244,1376,224,1391,206,1410,192,1452,174"/>
<area shape="poly" title=" " alt="" coords="1534,175,1677,248,1909,364,1907,368,1674,253,1531,180"/>
<area shape="rect" title=" " alt="" coords="1434,225,1485,251"/>
<area shape="poly" title=" " alt="" coords="1504,179,1478,216,1473,213,1499,176"/>
<area shape="rect" title=" " alt="" coords="1687,225,1754,251"/>
<area shape="poly" title=" " alt="" coords="1545,175,1675,219,1674,224,1543,180"/>
<area shape="rect" title=" " alt="" coords="1509,225,1562,251"/>
<area shape="poly" title=" " alt="" coords="1517,177,1529,212,1524,213,1512,179"/>
<area shape="rect" title=" " alt="" coords="1778,225,1869,251"/>
<area shape="poly" title=" " alt="" coords="1561,175,1765,221,1764,226,1560,180"/>
<area shape="rect" title=" " alt="" coords="2231,225,2306,251"/>
<area shape="poly" title=" " alt="" coords="2271,178,2271,212,2266,212,2266,178"/>
<area shape="poly" title=" " alt="" coords="1747,95,1497,98,1334,104,1162,115,992,132,836,155,766,170,705,187,654,206,613,228,581,256,556,292,538,328,526,360,521,358,533,326,552,289,577,253,610,223,651,201,704,182,765,165,835,150,991,126,1161,110,1334,99,1496,93,1747,90"/>
<area shape="poly" title=" " alt="" coords="1847,102,1875,122,1899,151,1913,178,1921,202,1920,226,1907,252,1873,296,1839,332,1805,362,1770,385,1735,404,1698,418,1622,435,1540,444,1451,449,1353,457,1245,473,1096,498,947,515,718,531,718,525,946,510,1095,493,1244,468,1352,451,1450,443,1539,438,1621,430,1696,413,1732,399,1767,381,1802,357,1836,328,1869,292,1902,249,1915,225,1915,203,1908,180,1894,153,1871,126,1844,106"/>
<area shape="poly" title=" " alt="" coords="1891,102,1946,118,2001,144,2025,162,2044,183,2056,208,2061,236,2061,386,2057,416,2047,438,2030,456,2005,473,1955,493,1887,508,1806,519,1718,527,1543,533,1409,534,1409,528,1543,528,1718,521,1806,514,1886,503,1954,488,2002,468,2026,452,2043,435,2052,414,2055,386,2055,237,2051,210,2039,186,2021,166,1999,149,1945,123,1889,107"/>
<area shape="poly" title=" " alt="" coords="1876,101,2083,147,2082,152,1875,107"/>
<area shape="poly" title=" " alt="" coords="1747,105,1317,157,1316,152,1747,99"/>
<area shape="poly" title=" " alt="" coords="1748,105,1605,125,1443,155,1299,190,1180,224,1179,219,1298,185,1441,149,1605,120,1747,99"/>
<area shape="poly" title=" " alt="" coords="1836,102,1860,131,1884,170,1893,191,1896,213,1893,233,1883,252,1858,271,1822,285,1777,295,1726,303,1619,311,1524,314,1524,308,1619,306,1726,298,1776,290,1820,279,1855,266,1879,249,1888,232,1891,213,1887,193,1879,172,1856,134,1832,106"/>
<area shape="poly" title=" " alt="" coords="1901,101,1943,119,1962,133,1978,151,1991,177,1997,205,1997,235,1993,264,1977,319,1959,361,1954,359,1972,317,1988,263,1992,234,1992,206,1986,179,1973,153,1958,137,1940,124,1899,106"/>
<area shape="poly" title=" " alt="" coords="1817,106,1739,216,1735,213,1813,103"/>
<area shape="poly" title=" " alt="" coords="1826,104,1826,212,1821,212,1821,104"/>
<area shape="poly" title=" " alt="" coords="1900,101,2210,149,2209,154,1899,106"/>
</map>
</div>
</div>
<p><a href="memory_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a9c36d0fe3ec4675cbffdc9b52f5fb399" id="r_a9c36d0fe3ec4675cbffdc9b52f5fb399"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a9c36d0fe3ec4675cbffdc9b52f5fb399">malloc</a> (size_t size)</td></tr>
<tr class="separator:a9c36d0fe3ec4675cbffdc9b52f5fb399"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbedc913aa4651b3c3b4b3aecd9b4711" id="r_afbedc913aa4651b3c3b4b3aecd9b4711"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#afbedc913aa4651b3c3b4b3aecd9b4711">free</a> (void *ptr)</td></tr>
<tr class="separator:afbedc913aa4651b3c3b4b3aecd9b4711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e7470f55c08b061783fe2519b65bff" id="r_af4e7470f55c08b061783fe2519b65bff"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#af4e7470f55c08b061783fe2519b65bff">calloc</a> (size_t num, size_t size)</td></tr>
<tr class="separator:af4e7470f55c08b061783fe2519b65bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f723f009d0b6f246530cbbac3ec1dd4" id="r_a0f723f009d0b6f246530cbbac3ec1dd4"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a0f723f009d0b6f246530cbbac3ec1dd4">realloc</a> (void *ptr, size_t new_size)</td></tr>
<tr class="separator:a0f723f009d0b6f246530cbbac3ec1dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8006724372b77924155bd8618fe57516" id="r_a8006724372b77924155bd8618fe57516"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a8006724372b77924155bd8618fe57516">aligned_alloc</a> (size_t alignment, size_t size)</td></tr>
<tr class="separator:a8006724372b77924155bd8618fe57516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a274dd8714485eed9c9328973d44ec5dc" id="r_a274dd8714485eed9c9328973d44ec5dc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a274dd8714485eed9c9328973d44ec5dc">aligned_free</a> (void *ptr)</td></tr>
<tr class="separator:a274dd8714485eed9c9328973d44ec5dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d8c809343a4f03aea31ffbf8891a11d" id="r_a0d8c809343a4f03aea31ffbf8891a11d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a0d8c809343a4f03aea31ffbf8891a11d">MemoryInit</a> ()</td></tr>
<tr class="separator:a0d8c809343a4f03aea31ffbf8891a11d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9297078da36ecdef3c2e61bccf119a47" id="r_a9297078da36ecdef3c2e61bccf119a47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="memory_8cpp.html#a9297078da36ecdef3c2e61bccf119a47">MemoryInitSMP</a> ()</td></tr>
<tr class="separator:a9297078da36ecdef3c2e61bccf119a47"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8006724372b77924155bd8618fe57516" name="a8006724372b77924155bd8618fe57516"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8006724372b77924155bd8618fe57516">&#9670;&#160;</a></span>aligned_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * aligned_alloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>alignment</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00062">62</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   62</span>                                                              {</div>
<div class="line"><span class="lineno">   63</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">return</span> allocator-&gt;aligned_alloc(alignment, size);</div>
<div class="line"><span class="lineno">   65</span>  }</div>
<div class="line"><span class="lineno">   66</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   67</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a8006724372b77924155bd8618fe57516_icgraph.png" border="0" usemap="#amemory_8cpp_a8006724372b77924155bd8618fe57516_icgraph" alt=""/></div>
<map name="amemory_8cpp_a8006724372b77924155bd8618fe57516_icgraph" id="amemory_8cpp_a8006724372b77924155bd8618fe57516_icgraph">
<area shape="rect" title=" " alt="" coords="1036,281,1144,307"/>
<area shape="rect" href="classTaskManager.html#a101df6fadedb6dd4f93ee1a1e24550c2" title="克隆当前任务 (fork/clone 系统调用)" alt="" coords="802,40,955,65"/>
<area shape="poly" title=" " alt="" coords="1081,268,1071,226,1053,175,1025,123,1007,100,986,80,954,63,957,59,990,76,1011,97,1029,120,1058,173,1076,224,1087,267"/>
<area shape="rect" href="classVirtualMemory.html#ae654bd2c0980f0bf5b60cce3ff7a7ae3" title="复制页表" alt="" coords="521,317,716,357"/>
<area shape="poly" title=" " alt="" coords="1056,277,1024,260,987,247,927,234,878,229,830,233,770,247,734,261,700,280,645,319,642,314,697,275,732,256,769,242,829,228,878,224,927,229,989,242,1026,255,1059,272"/>
<area shape="rect" href="classVirtualMemory.html#a7441d7b32e1941d347851bd3da1ad6fb" title="在页表中查找虚拟地址对应的页表项" alt="" coords="769,90,988,130"/>
<area shape="poly" title=" " alt="" coords="1075,270,1040,210,1016,178,986,151,954,132,957,128,990,147,1020,175,1045,207,1080,268"/>
<area shape="rect" href="classVirtualMemory.html#a0854e9b79bc77a621c7a806d711c52a6" title=" " alt="" coords="5,129,228,155"/>
<area shape="poly" title=" " alt="" coords="1065,273,1030,244,987,219,924,201,840,186,633,165,413,152,228,146,228,141,413,147,633,159,841,181,925,196,989,214,1033,239,1068,269"/>
<area shape="rect" href="memory__test_8cpp.html#adcdd769af8aefa39375682eedd3cac7f" title=" " alt="" coords="824,256,933,281"/>
<area shape="poly" title=" " alt="" coords="1022,289,933,278,934,273,1023,283"/>
<area shape="rect" href="sk__new_8cpp.html#a92ec3b3ae6ee3cc37464ce2e38705a10" title=" " alt="" coords="825,305,933,331"/>
<area shape="poly" title=" " alt="" coords="1022,304,933,315,932,309,1022,299"/>
<area shape="rect" href="sk__new_8cpp.html#ae8a86a56ba6702ef0fdbf0674e73553f" title=" " alt="" coords="819,355,938,380"/>
<area shape="poly" title=" " alt="" coords="1055,316,989,346,939,360,938,354,987,341,1053,311"/>
<area shape="rect" href="classVirtualMemory.html#acd2f1fff14fc36c984c7edbbabf95b0b" title="递归复制页表" alt="" coords="783,429,974,469"/>
<area shape="poly" title=" " alt="" coords="1071,319,1035,356,990,395,927,431,925,426,986,390,1031,352,1067,315"/>
<area shape="rect" href="structTaskControlBlock.html#a6e96afd7da4feb231b605e2b7cebfc42" title="构造函数 (内核线程)" alt="" coords="769,493,988,533"/>
<area shape="poly" title=" " alt="" coords="1084,321,1072,357,1052,401,1025,445,990,483,971,495,968,490,986,479,1021,442,1048,398,1067,355,1079,319"/>
<area shape="rect" href="system__test_2virtual__memory__test_8cpp.html#a8027cdd5d224276fe32cfe407e4dfe88" title=" " alt="" coords="799,557,958,583"/>
<area shape="poly" title=" " alt="" coords="1089,321,1080,370,1063,431,1034,493,1014,522,990,547,959,564,957,559,986,543,1010,518,1029,491,1058,429,1075,368,1083,320"/>
<area shape="rect" href="classVirtualMemory.html#a2889f5a5b3c2b625cb3042e125ed5ac2" title="获取虚拟地址对应的物理地址映射" alt="" coords="516,104,721,129"/>
<area shape="poly" title=" " alt="" coords="756,116,722,117,722,111,756,110"/>
<area shape="rect" href="classVirtualMemory.html#acbbc8c7f29e2611d4b56003323473e3d" title="映射单个页面" alt="" coords="526,5,711,31"/>
<area shape="poly" title=" " alt="" coords="787,88,768,79,744,61,720,44,689,33,691,28,723,40,747,57,771,74,790,83"/>
<area shape="rect" href="classVirtualMemory.html#af6bc99b477b9a096c0fcb846a6ef874a" title="取消映射单个页面" alt="" coords="517,55,721,80"/>
<area shape="poly" title=" " alt="" coords="756,93,696,83,697,77,756,87"/>
<area shape="rect" href="classVirtualMemory.html#a19ea83e0f3f85e55b12deec2a20972a2" title="映射设备内存 (MMIO)" alt="" coords="276,55,468,80"/>
<area shape="poly" title=" " alt="" coords="542,36,437,57,436,52,541,31"/>
<area shape="poly" title=" " alt="" coords="315,87,162,132,160,127,313,82"/>
<area shape="poly" title=" " alt="" coords="818,426,665,359,667,354,820,421"/>
<area shape="poly" title=" " alt="" coords="914,417,902,410,879,407,858,409,846,414,842,420,844,428,839,429,837,419,843,410,857,404,879,402,903,405,917,412"/>
</map>
</div>

</div>
</div>
<a id="a274dd8714485eed9c9328973d44ec5dc" name="a274dd8714485eed9c9328973d44ec5dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a274dd8714485eed9c9328973d44ec5dc">&#9670;&#160;</a></span>aligned_free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void aligned_free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00069">69</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   69</span>                                        {</div>
<div class="line"><span class="lineno">   70</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   71</span>    allocator-&gt;aligned_free(ptr);</div>
<div class="line"><span class="lineno">   72</span>  }</div>
<div class="line"><span class="lineno">   73</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a274dd8714485eed9c9328973d44ec5dc_icgraph.png" border="0" usemap="#amemory_8cpp_a274dd8714485eed9c9328973d44ec5dc_icgraph" alt=""/></div>
<map name="amemory_8cpp_a274dd8714485eed9c9328973d44ec5dc_icgraph" id="amemory_8cpp_a274dd8714485eed9c9328973d44ec5dc_icgraph">
<area shape="rect" title=" " alt="" coords="743,133,845,159"/>
<area shape="rect" href="classVirtualMemory.html#adf6d48183927262a6c7929493f0c74f5" title="回收页表，释放所有映射和子页表" alt="" coords="248,135,456,175"/>
<area shape="poly" title=" " alt="" coords="778,123,745,74,721,50,693,32,643,13,600,8,557,15,505,32,463,53,426,81,371,137,367,133,422,77,460,49,503,27,556,10,600,3,644,8,696,28,724,46,749,70,782,120"/>
<area shape="rect" href="sk__new_8cpp.html#a685b8dd6f158da142f098ab348f0c54f" title=" " alt="" coords="538,43,661,68"/>
<area shape="poly" title=" " alt="" coords="765,126,732,103,694,82,660,70,662,65,696,77,735,98,768,122"/>
<area shape="rect" href="sk__new_8cpp.html#ae6d3b8074a8e988e898bcd347a65157c" title=" " alt="" coords="533,92,665,117"/>
<area shape="poly" title=" " alt="" coords="728,135,659,120,660,115,729,130"/>
<area shape="rect" href="classVirtualMemory.html#acd2f1fff14fc36c984c7edbbabf95b0b" title="递归复制页表" alt="" coords="257,223,447,263"/>
<area shape="poly" title=" " alt="" coords="772,170,738,198,696,220,633,238,568,248,505,253,448,253,448,247,504,247,567,243,632,233,694,215,735,193,769,166"/>
<area shape="rect" href="classVirtualMemory.html#a5d99f94ac5108601c7ea895ad52f6c33" title="递归释放页表" alt="" coords="504,166,695,206"/>
<area shape="poly" title=" " alt="" coords="729,162,696,169,694,164,728,157"/>
<area shape="rect" href="structTaskControlBlock.html#a5cb17ff89e47654f129a269f7b8becbb" title=" " alt="" coords="527,281,672,321"/>
<area shape="poly" title=" " alt="" coords="780,172,745,218,722,242,696,264,663,283,660,278,693,260,718,239,741,214,775,169"/>
<area shape="rect" href="classVirtualMemory.html#ae654bd2c0980f0bf5b60cce3ff7a7ae3" title="复制页表" alt="" coords="5,179,200,219"/>
<area shape="poly" title=" " alt="" coords="235,179,201,185,200,179,234,173"/>
<area shape="poly" title=" " alt="" coords="242,227,200,219,201,214,243,221"/>
<area shape="poly" title=" " alt="" coords="394,212,379,205,352,202,328,204,314,209,309,215,311,222,306,224,304,214,311,204,327,199,352,197,381,199,396,207"/>
<area shape="poly" title=" " alt="" coords="490,175,456,171,456,166,491,170"/>
<area shape="poly" title=" " alt="" coords="632,154,621,147,599,145,581,147,570,151,566,157,568,165,563,166,560,156,566,147,579,141,599,139,622,142,635,150"/>
</map>
</div>

</div>
</div>
<a id="af4e7470f55c08b061783fe2519b65bff" name="af4e7470f55c08b061783fe2519b65bff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e7470f55c08b061783fe2519b65bff">&#9670;&#160;</a></span>calloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * calloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>num</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00048">48</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   48</span>                                                 {</div>
<div class="line"><span class="lineno">   49</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   50</span>    <span class="keywordflow">return</span> allocator-&gt;calloc(num, size);</div>
<div class="line"><span class="lineno">   51</span>  }</div>
<div class="line"><span class="lineno">   52</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   53</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="afbedc913aa4651b3c3b4b3aecd9b4711" name="afbedc913aa4651b3c3b4b3aecd9b4711"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbedc913aa4651b3c3b4b3aecd9b4711">&#9670;&#160;</a></span>free()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void free </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00042">42</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   42</span>                                {</div>
<div class="line"><span class="lineno">   43</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   44</span>    allocator-&gt;free(ptr);</div>
<div class="line"><span class="lineno">   45</span>  }</div>
<div class="line"><span class="lineno">   46</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_afbedc913aa4651b3c3b4b3aecd9b4711_icgraph.png" border="0" usemap="#amemory_8cpp_afbedc913aa4651b3c3b4b3aecd9b4711_icgraph" alt=""/></div>
<map name="amemory_8cpp_afbedc913aa4651b3c3b4b3aecd9b4711_icgraph" id="amemory_8cpp_afbedc913aa4651b3c3b4b3aecd9b4711_icgraph">
<area shape="rect" title=" " alt="" coords="185,104,233,129"/>
<area shape="rect" href="memory__test_8cpp.html#adcdd769af8aefa39375682eedd3cac7f" title=" " alt="" coords="17,5,126,31"/>
<area shape="poly" title=" " alt="" coords="188,95,165,69,136,44,114,33,117,28,139,40,169,65,192,91"/>
<area shape="rect" href="sk__new_8cpp.html#afa145befcf5e7b83424408ca503c8637" title=" " alt="" coords="10,55,133,80"/>
<area shape="poly" title=" " alt="" coords="171,106,107,83,108,78,173,101"/>
<area shape="rect" href="sk__new_8cpp.html#aeb70b064678e54ac9d17095b41f45e10" title=" " alt="" coords="10,104,133,129"/>
<area shape="poly" title=" " alt="" coords="172,119,133,119,133,114,172,114"/>
<area shape="rect" href="sk__new_8cpp.html#a22aea74a1155aa798d6032da46da2391" title=" " alt="" coords="5,153,137,179"/>
<area shape="poly" title=" " alt="" coords="173,132,108,156,107,151,171,127"/>
<area shape="rect" href="sk__new_8cpp.html#af43c18f24479333933613aeb791e9cf9" title=" " alt="" coords="5,203,137,228"/>
<area shape="poly" title=" " alt="" coords="192,142,168,168,139,192,114,205,112,200,136,188,164,164,188,138"/>
</map>
</div>

</div>
</div>
<a id="a9c36d0fe3ec4675cbffdc9b52f5fb399" name="a9c36d0fe3ec4675cbffdc9b52f5fb399"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c36d0fe3ec4675cbffdc9b52f5fb399">&#9670;&#160;</a></span>malloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * malloc </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright The SimpleKernel Contributors </dd></dl>

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00035">35</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   35</span>                                     {</div>
<div class="line"><span class="lineno">   36</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   37</span>    <span class="keywordflow">return</span> allocator-&gt;malloc(size);</div>
<div class="line"><span class="lineno">   38</span>  }</div>
<div class="line"><span class="lineno">   39</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   40</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a9c36d0fe3ec4675cbffdc9b52f5fb399_icgraph.png" border="0" usemap="#amemory_8cpp_a9c36d0fe3ec4675cbffdc9b52f5fb399_icgraph" alt=""/></div>
<map name="amemory_8cpp_a9c36d0fe3ec4675cbffdc9b52f5fb399_icgraph" id="amemory_8cpp_a9c36d0fe3ec4675cbffdc9b52f5fb399_icgraph">
<area shape="rect" title=" " alt="" coords="172,104,239,129"/>
<area shape="rect" href="memory__test_8cpp.html#adcdd769af8aefa39375682eedd3cac7f" title=" " alt="" coords="10,5,119,31"/>
<area shape="poly" title=" " alt="" coords="181,95,155,69,123,44,101,33,104,28,125,40,158,65,185,91"/>
<area shape="rect" href="sk__new_8cpp.html#a160dcabc54bbecfc69484678cafadb81" title=" " alt="" coords="11,55,119,80"/>
<area shape="poly" title=" " alt="" coords="158,103,101,83,103,78,160,98"/>
<area shape="rect" href="sk__new_8cpp.html#a92ec3b3ae6ee3cc37464ce2e38705a10" title=" " alt="" coords="11,104,119,129"/>
<area shape="poly" title=" " alt="" coords="158,119,119,119,119,114,158,114"/>
<area shape="rect" href="sk__new_8cpp.html#af2243bb4c2126b7b2b393e06090fbe59" title=" " alt="" coords="5,153,124,179"/>
<area shape="poly" title=" " alt="" coords="160,135,103,156,101,151,158,130"/>
<area shape="rect" href="sk__new_8cpp.html#ae8a86a56ba6702ef0fdbf0674e73553f" title=" " alt="" coords="5,203,124,228"/>
<area shape="poly" title=" " alt="" coords="185,141,158,167,125,192,102,205,99,200,123,188,154,163,181,137"/>
</map>
</div>

</div>
</div>
<a id="a0d8c809343a4f03aea31ffbf8891a11d" name="a0d8c809343a4f03aea31ffbf8891a11d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d8c809343a4f03aea31ffbf8891a11d">&#9670;&#160;</a></span>MemoryInit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemoryInit </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00075">75</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>                  {</div>
<div class="line"><span class="lineno">   76</span>  <span class="keyword">auto</span> allocator_addr =</div>
<div class="line"><span class="lineno">   77</span>      <span class="keyword">reinterpret_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(<a class="code hl_function" href="namespacecpu__io_1_1virtual__memory.html#af3d08561d5c588f1cf2f260951522f6c">cpu_io::virtual_memory::PageAlignUp</a>(</div>
<div class="line"><span class="lineno">   78</span>          <a class="code hl_class" href="classSingleton.html">Singleton&lt;BasicInfo&gt;::GetInstance</a>().elf_addr +</div>
<div class="line"><span class="lineno">   79</span>          <a class="code hl_class" href="classSingleton.html">Singleton&lt;KernelElf&gt;::GetInstance</a>().GetElfSize()));</div>
<div class="line"><span class="lineno">   80</span>  <span class="keyword">auto</span> allocator_size =</div>
<div class="line"><span class="lineno">   81</span>      <a class="code hl_function" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton&lt;BasicInfo&gt;::GetInstance</a>().physical_memory_addr +</div>
<div class="line"><span class="lineno">   82</span>      <a class="code hl_function" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton&lt;BasicInfo&gt;::GetInstance</a>().physical_memory_size -</div>
<div class="line"><span class="lineno">   83</span>      <span class="keyword">reinterpret_cast&lt;</span>uint64_t<span class="keyword">&gt;</span>(allocator_addr);</div>
<div class="line"><span class="lineno">   84</span> </div>
<div class="line"><span class="lineno">   85</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;bmalloc address: %p, size: 0x%lX\n&quot;</span>, allocator_addr,</div>
<div class="line"><span class="lineno">   86</span>             allocator_size);</div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>  <span class="keyword">static</span> bmalloc::Bmalloc&lt;BmallocLogger&gt; bmallocator(allocator_addr,</div>
<div class="line"><span class="lineno">   89</span>                                                     allocator_size);</div>
<div class="line"><span class="lineno">   90</span>  allocator = &amp;bmallocator;</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>  <span class="comment">// 初始化当前核心的虚拟内存</span></div>
<div class="line"><span class="lineno">   93</span>  <a class="code hl_function" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton&lt;VirtualMemory&gt;::GetInstance</a>().InitCurrentCore();</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>  <span class="comment">// 重新映射早期控制台地址（如果有的话）</span></div>
<div class="line"><span class="lineno">   96</span>  <span class="keywordflow">if</span> (SIMPLEKERNEL_EARLY_CONSOLE_BASE != 0) {</div>
<div class="line"><span class="lineno">   97</span>    <a class="code hl_function" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton&lt;VirtualMemory&gt;::GetInstance</a>().MapMMIO(</div>
<div class="line"><span class="lineno">   98</span>        SIMPLEKERNEL_EARLY_CONSOLE_BASE, <a class="code hl_variable" href="namespacecpu__io_1_1virtual__memory.html#a24fb424f54d414703cda572dc076d71a">cpu_io::virtual_memory::kPageSize</a>);</div>
<div class="line"><span class="lineno">   99</span>  }</div>
<div class="line"><span class="lineno">  100</span> </div>
<div class="line"><span class="lineno">  101</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;Memory initialization completed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  102</span>}</div>
<div class="ttc" id="aclassSingleton_html"><div class="ttname"><a href="classSingleton.html">Singleton</a></div><div class="ttdef"><b>Definition</b> <a href="singleton_8hpp_source.html#l00010">singleton.hpp:10</a></div></div>
<div class="ttc" id="aclassSingleton_html_a68856b49e098eadba37b60366db33ebd"><div class="ttname"><a href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton::GetInstance</a></div><div class="ttdeci">static auto GetInstance() -&gt; T &amp;</div><div class="ttdef"><b>Definition</b> <a href="singleton_8hpp_source.html#l00023">singleton.hpp:23</a></div></div>
<div class="ttc" id="anamespacecpu__io_1_1virtual__memory_html_a24fb424f54d414703cda572dc076d71a"><div class="ttname"><a href="namespacecpu__io_1_1virtual__memory.html#a24fb424f54d414703cda572dc076d71a">cpu_io::virtual_memory::kPageSize</a></div><div class="ttdeci">static constexpr size_t kPageSize</div><div class="ttdef"><b>Definition</b> <a href="cpu__io_8h_source.html#l00058">cpu_io.h:58</a></div></div>
<div class="ttc" id="anamespacecpu__io_1_1virtual__memory_html_af3d08561d5c588f1cf2f260951522f6c"><div class="ttname"><a href="namespacecpu__io_1_1virtual__memory.html#af3d08561d5c588f1cf2f260951522f6c">cpu_io::virtual_memory::PageAlignUp</a></div><div class="ttdeci">auto PageAlignUp(uint64_t addr) -&gt; uint64_t</div><div class="ttdef"><b>Definition</b> <a href="cpu__io_8h_source.html#l00156">cpu_io.h:156</a></div></div>
<div class="ttc" id="astructklog_1_1Info_html"><div class="ttname"><a href="structklog_1_1Info.html">klog::Info</a></div><div class="ttdef"><b>Definition</b> <a href="kernel__log_8hpp_source.html#l00168">kernel_log.hpp:168</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_cgraph.png" border="0" usemap="#amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_cgraph" alt=""/></div>
<map name="amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_cgraph" id="amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_cgraph">
<area shape="rect" title=" " alt="" coords="5,35,103,60"/>
<area shape="rect" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd" title=" " alt="" coords="154,5,323,31"/>
<area shape="poly" title=" " alt="" coords="102,37,145,30,145,36,103,42"/>
<area shape="rect" href="namespacecpu__io_1_1virtual__memory.html#af3d08561d5c588f1cf2f260951522f6c" title=" " alt="" coords="151,55,327,95"/>
<area shape="poly" title=" " alt="" coords="103,52,137,57,136,63,102,57"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_icgraph.png" border="0" usemap="#amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_icgraph" alt=""/></div>
<map name="amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_icgraph" id="amemory_8cpp_a0d8c809343a4f03aea31ffbf8891a11d_icgraph">
<area shape="rect" title=" " alt="" coords="108,5,205,31"/>
<area shape="rect" href="tests_2system__test_2main_8cpp.html#ab85c3edfd2aada0e059dccf8d002924d" title="内核入口" alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a9297078da36ecdef3c2e61bccf119a47" name="a9297078da36ecdef3c2e61bccf119a47"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9297078da36ecdef3c2e61bccf119a47">&#9670;&#160;</a></span>MemoryInitSMP()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MemoryInitSMP </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00104">104</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  104</span>                     {</div>
<div class="line"><span class="lineno">  105</span>  <a class="code hl_function" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd">Singleton&lt;VirtualMemory&gt;::GetInstance</a>().InitCurrentCore();</div>
<div class="line"><span class="lineno">  106</span>  <a class="code hl_struct" href="structklog_1_1Info.html">klog::Info</a>(<span class="stringliteral">&quot;SMP Memory initialization completed\n&quot;</span>);</div>
<div class="line"><span class="lineno">  107</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="memory_8cpp_a9297078da36ecdef3c2e61bccf119a47_cgraph.png" border="0" usemap="#amemory_8cpp_a9297078da36ecdef3c2e61bccf119a47_cgraph" alt=""/></div>
<map name="amemory_8cpp_a9297078da36ecdef3c2e61bccf119a47_cgraph" id="amemory_8cpp_a9297078da36ecdef3c2e61bccf119a47_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,131,31"/>
<area shape="rect" href="classSingleton.html#a68856b49e098eadba37b60366db33ebd" title=" " alt="" coords="179,5,348,31"/>
<area shape="poly" title=" " alt="" coords="131,15,165,15,165,21,131,21"/>
</map>
</div>

</div>
</div>
<a id="a0f723f009d0b6f246530cbbac3ec1dd4" name="a0f723f009d0b6f246530cbbac3ec1dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f723f009d0b6f246530cbbac3ec1dd4">&#9670;&#160;</a></span>realloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void * realloc </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>new_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="memory_8cpp_source.html#l00055">55</a> of file <a class="el" href="memory_8cpp_source.html">memory.cpp</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   55</span>                                                     {</div>
<div class="line"><span class="lineno">   56</span>  <span class="keywordflow">if</span> (allocator) {</div>
<div class="line"><span class="lineno">   57</span>    <span class="keywordflow">return</span> allocator-&gt;realloc(ptr, new_size);</div>
<div class="line"><span class="lineno">   58</span>  }</div>
<div class="line"><span class="lineno">   59</span>  <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="memory_8cpp.html">memory.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
